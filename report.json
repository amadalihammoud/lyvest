[{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\_data\\legal.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\_data\\mockProducts.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\_lib\\supabase.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\_services\\erp.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\_services\\payment.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\_services\\products.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\_services\\shipping.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\_utils\\cors.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\chat\\route.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\create-payment.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\erp\\sync-order.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\erp\\webhook-stock.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\payment\\create-session.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\payment\\webhook.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\shipping\\calculate.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\api\\status.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\debug-start.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\diagnostic.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\playwright.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\scripts\\generate-feed.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\scripts\\generate-sitemap.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\__tests__\\CheckoutPayment.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\__tests__\\productUtils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\__tests__\\utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\Breadcrumbs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\CategoryToolbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\DrawerCart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\DrawerFavorites.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\DrawerTracking.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1373,1376],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1373,1376],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1399,1402],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1399,1402],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1567,1570],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1567,1570],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\FilterSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\Hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\ProtectedRoute.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\CheckoutAddress.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\CheckoutPayment.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\CheckoutPayment.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\CheckoutWizard.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\CookieBanner.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\DrawerCart.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\DrawerFavorites.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\DrawerTracking.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\Footer.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\Header.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\Hero.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\ModalManager.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\NewsletterForm.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\ProductCard.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\ProductDetails.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\__tests__\\Testimonials.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\checkout\\CheckoutAddress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\checkout\\CheckoutPayment.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\checkout\\CheckoutSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\checkout\\CheckoutWizard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\checkout\\OrderConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\dashboard\\AddressSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\dashboard\\DashboardSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\dashboard\\EmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\dashboard\\FavoritesSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\dashboard\\OrderCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\dashboard\\OrdersSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\dashboard\\ProfileSection.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":90,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3456,3459],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3456,3459],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\dashboard\\SettingsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\dashboard\\UserDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\AIRecommendation.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\AIRecommendation.tsx:31:34\n  29 |     // Efeito para resetar quando a recomenda√ß√£o mudar\n  30 |     useEffect(() => {\n> 31 |         if (recommendation.size) setViewSize(recommendation.size);\n     |                                  ^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  32 |     }, [recommendation.size]);\n  33 |\n  34 |     // L√≥gica de cross-sell din√¢mica","line":31,"column":34,"nodeType":null,"endLine":31,"endColumn":45},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":115,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4964,4967],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4964,4967],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { CheckCircle2, Info, ShoppingBag, Plus } from 'lucide-react';\r\nimport { SizeRecommendation, FitType } from '../../services/sizeAI';\r\nimport { Product } from '../../services/ProductService';\r\nimport BodyMannequin from './BodyMannequin';\r\nimport { productsData } from '../../data/mockData';\r\n\r\ninterface AIRecommendationProps {\r\n    recommendation: SizeRecommendation;\r\n    onAddToCart: (size: string) => void;\r\n    onViewModels: () => void;\r\n    product?: Product;\r\n    gender?: 'male' | 'female'; // Novo prop\r\n}\r\n\r\nexport default function AIRecommendation({\r\n    recommendation,\r\n    onAddToCart,\r\n    onViewModels,\r\n    product,\r\n    gender = 'female' // Default\r\n}: AIRecommendationProps) {\r\n    const { size, reason, fitMap } = recommendation;\r\n    const [addedCrossSell, setAddedCrossSell] = useState(false);\r\n\r\n    // Estado para o tamanho visualizado (permite ao usu√°rio explorar outros tamanhos)\r\n    const [viewSize, setViewSize] = useState<string>(recommendation.size);\r\n\r\n    // Efeito para resetar quando a recomenda√ß√£o mudar\r\n    useEffect(() => {\r\n        if (recommendation.size) setViewSize(recommendation.size);\r\n    }, [recommendation.size]);\r\n\r\n    // L√≥gica de cross-sell din√¢mica\r\n    const getCrossSellProduct = () => {\r\n        if (!product) return productsData.find(p => p.id !== 1); // Fallback\r\n\r\n        const category = typeof product.category === 'string'\r\n            ? product.category.toLowerCase()\r\n            : Array.isArray(product.category)\r\n                ? product.category[0]?.slug.toLowerCase()\r\n                : 'lingerie';\r\n\r\n        // Definir categoria alvo para Cross-Sell\r\n        let targetCategory = '';\r\n        if (gender === 'male') {\r\n            // L√≥gica masculina\r\n            if (category.includes('cueca')) targetCategory = 'meia';\r\n            else targetCategory = 'cuecas';\r\n        } else {\r\n            // L√≥gica feminina\r\n            if (category.includes('sutia') || category.includes('top')) targetCategory = 'calcinhas';\r\n            else if (category.includes('calcinha')) targetCategory = 'suti√£s';\r\n            else if (category.includes('meia')) targetCategory = 'calcinhas';\r\n            else targetCategory = 'kits';\r\n        }\r\n\r\n        // Tentar encontrar produto na base mockada\r\n        const recommendation = productsData.find(p => {\r\n            const cat = typeof p.category === 'string' ? p.category.toLowerCase() : '';\r\n            return cat.includes(targetCategory.toLowerCase());\r\n        });\r\n\r\n        if (recommendation) {\r\n            return {\r\n                name: recommendation.name,\r\n                price: recommendation.price,\r\n                image: Array.isArray(recommendation.image) ? recommendation.image[0] : recommendation.image,\r\n                type: recommendation.category,\r\n                id: recommendation.id\r\n            };\r\n        }\r\n\r\n        return productsData[0];\r\n    };\r\n\r\n    const crossSell = getCrossSellProduct();\r\n\r\n    const getFitLabel = (fit: FitType) => {\r\n        switch (fit) {\r\n            case 'tight': return 'Justo';\r\n            case 'loose': return 'Largo';\r\n            case 'perfect': return 'Ideal (Perfeito)';\r\n            default: return '-';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-6 border border-slate-100 relative overflow-hidden\">\r\n            {/* Header com Resultado Principal */}\r\n            <div className=\"text-center mb-8 relative z-10\">\r\n                <div className=\"inline-flex items-center gap-2 bg-lyvest-50 px-4 py-1.5 rounded-full text-lyvest-700 text-sm font-bold mb-3 border border-lyvest-100\">\r\n                    <CheckCircle2 className=\"w-4 h-4\" />\r\n                    Recomenda√ß√£o de IA\r\n                </div>\r\n                <h3 className=\"text-4xl font-black text-slate-800 mb-1\">\r\n                    Tamanho {size}\r\n                </h3>\r\n                <p className=\"text-slate-500 text-sm\">{reason}</p>\r\n            </div>\r\n\r\n            {/* Visualiza√ß√£o Interativa do Manequim */}\r\n            {fitMap && (\r\n                <div className=\"flex flex-col md:flex-row gap-8 items-center justify-center bg-slate-50 p-8 rounded-3xl border border-slate-100 mb-6\">\r\n                    {/* Coluna Visual (Manequim) */}\r\n                    <div className=\"w-48 flex-shrink-0 relative\">\r\n                        <BodyMannequin\r\n                            bust={gender === 'male' ? 100 : 90} // Ajuste base\r\n                            waist={gender === 'male' ? 85 : 70}\r\n                            hips={gender === 'male' ? 95 : 100}\r\n                            viewMode=\"result\"\r\n                            gender={gender} // Passar g√™nero\r\n                            fitResult={{\r\n                                bust: fitMap[viewSize] === 'tight' ? 'tight' : fitMap[viewSize] === 'loose' ? 'loose' : 'perfect',\r\n                                waist: fitMap[viewSize] as any,\r\n                                hips: fitMap[viewSize] === 'tight' ? 'tight' : fitMap[viewSize] === 'loose' ? 'loose' : 'perfect'\r\n                            }}\r\n                        />\r\n\r\n                        {/* Indicador de Tamanho Visualizado (Flutuante) */}\r\n                        <div className=\"absolute top-0 right-0 bg-white shadow-md rounded-lg px-2 py-1 border border-slate-100\">\r\n                            <span className=\"text-xs font-bold text-slate-400 block mb-0.5\">Vendo</span>\r\n                            <span className=\"text-xl font-black text-slate-800 block leading-none text-center\">{viewSize}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Coluna de Controle (Carrossel + Legenda) */}\r\n                    <div className=\"flex-1 space-y-6 w-full\">\r\n\r\n                        {/* Seletor de Tamanhos (Carrossel) */}\r\n                        <div className=\"bg-white p-4 rounded-xl border border-slate-200 shadow-sm\">\r\n                            <h4 className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 text-center\">\r\n                                Experimente outros tamanhos:\r\n                            </h4>\r\n                            <div className=\"flex justify-between items-center gap-2\">\r\n                                {['PP', 'P', 'M', 'G', 'GG'].map((s) => {\r\n                                    const fit = fitMap[s];\r\n                                    if (!fit) return null;\r\n                                    const isSelected = s === viewSize;\r\n                                    const isRecommended = s === size;\r\n\r\n                                    return (\r\n                                        <button\r\n                                            key={s}\r\n                                            onClick={() => setViewSize(s)}\r\n                                            className={`relative w-12 h-12 flex items-center justify-center rounded-lg text-sm font-bold transition-all ${isSelected\r\n                                                ? 'bg-slate-800 text-white shadow-lg scale-110 ring-2 ring-slate-800 ring-offset-2'\r\n                                                : 'bg-slate-50 text-slate-500 hover:bg-slate-100 hover:scale-105'\r\n                                                }`}\r\n                                        >\r\n                                            {s}\r\n                                            {isRecommended && (\r\n                                                <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-white\" title=\"Recomendado\" />\r\n                                            )}\r\n                                        </button>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Legenda Din√¢mica */}\r\n                        <div>\r\n                            <h4 className=\"text-xs font-bold text-slate-700 mb-2\">\r\n                                Detalhes do {viewSize}:\r\n                            </h4>\r\n                            <div className=\"space-y-2 bg-white/50 p-3 rounded-lg border border-slate-100\">\r\n                                <div className=\"flex items-center justify-between text-xs\">\r\n                                    <span className=\"text-slate-500\">Busto</span>\r\n                                    <span className={`font-bold ${fitMap[viewSize] === 'tight' ? 'text-orange-500' : fitMap[viewSize] === 'loose' ? 'text-blue-500' : 'text-emerald-600'}`}>\r\n                                        {getFitLabel(fitMap[viewSize])}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"flex items-center justify-between text-xs\">\r\n                                    <span className=\"text-slate-500\">Cintura</span>\r\n                                    <span className={`font-bold ${fitMap[viewSize] === 'tight' ? 'text-orange-500' : fitMap[viewSize] === 'loose' ? 'text-blue-500' : 'text-emerald-600'}`}>\r\n                                        {getFitLabel(fitMap[viewSize])}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"flex items-center justify-between text-xs\">\r\n                                    <span className=\"text-slate-500\">Quadril</span>\r\n                                    <span className={`font-bold ${fitMap[viewSize] === 'tight' ? 'text-orange-500' : fitMap[viewSize] === 'loose' ? 'text-blue-500' : 'text-emerald-600'}`}>\r\n                                        {getFitLabel(fitMap[viewSize])}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {!fitMap && (\r\n                <div className=\"bg-slate-50 p-4 rounded-lg text-center text-sm text-slate-500\">\r\n                    <Info className=\"w-4 h-4 mx-auto mb-2 text-slate-400\" />\r\n                    N√£o foi poss√≠vel gerar an√°lise detalhada de caimento.\r\n                </div>\r\n            )}\r\n\r\n            {/* Cross-Sell */}\r\n            {crossSell && (\r\n                <div className=\"bg-white border border-slate-200 rounded-xl p-4 shadow-sm animate-fade-in relative overflow-hidden mb-6\">\r\n                    <div className=\"absolute top-0 right-0 bg-lyvest-600 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg\">\r\n                        COMBINA COM VOC√ä\r\n                    </div>\r\n                    <h3 className=\"text-sm font-bold text-slate-900 mb-3 flex items-center gap-2\">\r\n                        <ShoppingBag className=\"w-4 h-4 text-lyvest-600\" />\r\n                        Complete o Look\r\n                    </h3>\r\n                    <div className=\"flex gap-4 items-center\">\r\n                        <img\r\n                            src={crossSell.image as string}\r\n                            alt={crossSell.name}\r\n                            className=\"w-16 h-16 rounded-lg object-cover bg-slate-100\"\r\n                        />\r\n                        <div className=\"flex-1\">\r\n                            <h4 className=\"text-sm font-medium text-slate-800\">{crossSell.name}</h4>\r\n                            <div className=\"flex items-center gap-2 mt-1\">\r\n                                <span className=\"text-sm font-bold text-slate-900\">\r\n                                    R$ {crossSell.price.toFixed(2).replace('.', ',')}\r\n                                </span>\r\n                                <span className=\"text-xs text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded\">\r\n                                    Tam: {size}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => setAddedCrossSell(!addedCrossSell)}\r\n                            className={`p-2 rounded-full transition-all ${addedCrossSell\r\n                                ? 'bg-green-100 text-green-700'\r\n                                : 'bg-lyvest-50 text-lyvest-700 hover:bg-lyvest-100'\r\n                                }`}\r\n                        >\r\n                            {addedCrossSell ? <CheckCircle2 className=\"w-5 h-5\" /> : <Plus className=\"w-5 h-5\" />}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* A√ß√µes */}\r\n            <div className=\"space-y-3\">\r\n                <button\r\n                    onClick={() => onAddToCart(viewSize)}\r\n                    className=\"w-full bg-lyvest-600 text-white py-4 rounded-xl font-semibold hover:bg-lyvest-700 transition-colors shadow-lg shadow-lyvest-200\"\r\n                >\r\n                    {addedCrossSell\r\n                        ? `Adicionar Kit ao Carrinho (Tam ${viewSize})`\r\n                        : `Adicionar Tamanho ${viewSize} ao Carrinho`\r\n                    }\r\n                </button>\r\n\r\n                <button\r\n                    onClick={onViewModels}\r\n                    className=\"w-full bg-slate-100 text-slate-700 py-3 rounded-xl font-medium hover:bg-slate-200 transition-colors\"\r\n                >\r\n                    Ver Modelos com Corpo Similar\r\n                </button>\r\n            </div>\r\n\r\n            {/* Nota */}\r\n            <div className=\"text-xs text-slate-500 text-center space-y-1 mt-6\">\r\n                <p>‚ú® Recomenda√ß√£o gerada por intelig√™ncia artificial</p>\r\n                <p>üìè Baseada nas melhores pr√°ticas de moda √≠ntima</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\BodyMannequin.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":211,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":211,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9720,9723],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9720,9723],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":212,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":212,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9831,9834],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9831,9834],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":213,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":213,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9946,9949],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9946,9949],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":217,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":217,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10166,10169],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10166,10169],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":218,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":218,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10278,10281],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10278,10281],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":219,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":219,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10393,10396],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10393,10396],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export type FitStatus = 'tight' | 'perfect' | 'loose' | undefined;\r\n\r\ninterface BodyMannequinProps {\r\n    bust: number;\r\n    waist: number;\r\n    hips: number;\r\n    viewMode?: 'input' | 'result';\r\n    skinTone?: 'light' | 'medium' | 'dark';\r\n    gender?: 'male' | 'female'; // NOVO: suporte a g√™nero\r\n    fitResult?: {\r\n        bust: FitStatus;\r\n        waist: FitStatus;\r\n        hips: FitStatus;\r\n    };\r\n}\r\n\r\nexport default function BodyMannequin({\r\n    viewMode = 'input',\r\n    skinTone = 'medium',\r\n    gender = 'female', // PADR√ÉO: feminino\r\n    fitResult\r\n}: BodyMannequinProps) {\r\n\r\n    // Mapeamento de imagens por g√™nero e tom de pele\r\n    const mannequinImages = {\r\n        female: {\r\n            'light': '/assets/mannequins/light.png',\r\n            'medium': '/assets/mannequins/medium.png',\r\n            'dark': '/assets/mannequins/dark.png'\r\n        },\r\n        male: {\r\n            'light': '/assets/mannequins/male/light.png',\r\n            'medium': '/assets/mannequins/male/medium.png',\r\n            'dark': '/assets/mannequins/male/dark.png'\r\n        }\r\n    };\r\n\r\n    const currentImage = mannequinImages[gender][skinTone];\r\n\r\n    // POSI√á√ïES ANAT√îMICAS (porcentagens da altura da imagem)\r\n    // MESMAS posi√ß√µes para masculino e feminino (j√° calibradas!)\r\n    const anatomyPositions = gender === 'female' ? {\r\n        bust: 25,      // Linha NA ALTURA DOS MAMILOS\r\n        waist: 37,     // Cintura NA ALTURA DO UMBIGO\r\n        hip: 44        // Quadril NA ALTURA DA PELVE\r\n    } : {\r\n        chest: 25,     // Peito masculino (MESMA altura que busto feminino)\r\n        waist: 37,     // Cintura masculina (MESMA altura)\r\n        hip: 44        // Quadril masculino (MESMA altura)\r\n    };\r\n\r\n    // Renderiza uma linha horizontal de fit\r\n    const renderFitLine = (\r\n        position: number,  // posi√ß√£o em % da altura\r\n        status?: FitStatus,\r\n        label?: string\r\n    ) => {\r\n        if (!status || viewMode !== 'result') return null;\r\n\r\n        const colors = {\r\n            perfect: '#10b981',\r\n            tight: '#f59e0b',\r\n            loose: '#3b82f6'\r\n        };\r\n\r\n        const statusText = {\r\n            perfect: 'Ideal',\r\n            tight: 'Levemente justo',\r\n            loose: 'Levemente largo'\r\n        };\r\n\r\n        const color = colors[status];\r\n\r\n        return (\r\n            <div\r\n                key={`fit-${position}`}\r\n                className=\"absolute w-full flex items-center justify-center\"\r\n                style={{ top: `${position}%` }}\r\n            >\r\n                {/* Linha horizontal */}\r\n                <div className=\"relative w-[85%] flex items-center\">\r\n                    <div\r\n                        className=\"w-full h-[3px] rounded-full\"\r\n                        style={{ backgroundColor: color, opacity: 0.9 }}\r\n                    />\r\n\r\n                    {/* Badge de status */}\r\n                    <div\r\n                        className=\"absolute -right-6 flex items-center gap-2\"\r\n                        style={{ transform: 'translateX(100%)' }}\r\n                    >\r\n                        {/* C√≠rculo com √≠cone */}\r\n                        <div\r\n                            className=\"w-7 h-7 rounded-full flex items-center justify-center shadow-md\"\r\n                            style={{ backgroundColor: color }}\r\n                        >\r\n                            {status === 'perfect' ? (\r\n                                <svg\r\n                                    className=\"w-4 h-4 text-white\"\r\n                                    viewBox=\"0 0 12 10\"\r\n                                    fill=\"none\"\r\n                                >\r\n                                    <path\r\n                                        d=\"M1 5L4.5 8.5L11 1.5\"\r\n                                        stroke=\"currentColor\"\r\n                                        strokeWidth=\"2.5\"\r\n                                        strokeLinecap=\"round\"\r\n                                        strokeLinejoin=\"round\"\r\n                                    />\r\n                                </svg>\r\n                            ) : (\r\n                                <span className=\"text-white text-sm font-bold\">!</span>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Texto de status */}\r\n                        {label && (\r\n                            <span\r\n                                className=\"text-xs font-semibold whitespace-nowrap\"\r\n                                style={{ color: color }}\r\n                            >\r\n                                {statusText[status]}\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative w-full h-[550px] flex items-center justify-center bg-gradient-to-b from-slate-50/50 to-white\">\r\n            {/* Labels de Input */}\r\n            {viewMode === 'input' && (\r\n                <div className=\"absolute inset-0 pointer-events-none z-10\">\r\n                    {gender === 'female' ? (\r\n                        <>\r\n                            {/* Busto feminino - √† esquerda */}\r\n                            <div className=\"absolute w-full flex items-center justify-start pl-4\" style={{ top: '25%' }}>\r\n                                <span className=\"bg-white/95 text-[10px] px-2.5 py-1 rounded-md text-slate-600 font-medium shadow-sm border border-slate-200\">\r\n                                    Busto\r\n                                </span>\r\n                                <div className=\"w-24 h-[1px] bg-slate-400 ml-2\"></div>\r\n                            </div>\r\n\r\n                            {/* Cintura feminina - √† esquerda */}\r\n                            <div className=\"absolute w-full flex items-center justify-start pl-4\" style={{ top: '37%' }}>\r\n                                <span className=\"bg-white/95 text-[10px] px-2.5 py-1 rounded-md text-slate-600 font-medium shadow-sm border border-slate-200\">\r\n                                    Cintura\r\n                                </span>\r\n                                <div className=\"w-24 h-[1px] bg-slate-400 ml-2\"></div>\r\n                            </div>\r\n\r\n                            {/* Quadril feminino - √† esquerda */}\r\n                            <div className=\"absolute w-full flex items-center justify-start pl-4\" style={{ top: '44%' }}>\r\n                                <span className=\"bg-white/95 text-[10px] px-2.5 py-1 rounded-md text-slate-600 font-medium shadow-sm border border-slate-200\">\r\n                                    Quadril\r\n                                </span>\r\n                                <div className=\"w-24 h-[1px] bg-slate-400 ml-2\"></div>\r\n                            </div>\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            {/* Peito masculino - √† esquerda */}\r\n                            <div className=\"absolute w-full flex items-center justify-start pl-4\" style={{ top: '25%' }}>\r\n                                <span className=\"bg-white/95 text-[10px] px-2.5 py-1 rounded-md text-slate-600 font-medium shadow-sm border border-slate-200\">\r\n                                    Peito\r\n                                </span>\r\n                                <div className=\"w-24 h-[1px] bg-slate-400 ml-2\"></div>\r\n                            </div>\r\n\r\n                            {/* Cintura masculina - √† esquerda */}\r\n                            <div className=\"absolute w-full flex items-center justify-start pl-4\" style={{ top: '37%' }}>\r\n                                <span className=\"bg-white/95 text-[10px] px-2.5 py-1 rounded-md text-slate-600 font-medium shadow-sm border border-slate-200\">\r\n                                    Cintura\r\n                                </span>\r\n                                <div className=\"w-24 h-[1px] bg-slate-400 ml-2\"></div>\r\n                            </div>\r\n\r\n                            {/* Quadril masculino - √† esquerda */}\r\n                            <div className=\"absolute w-full flex items-center justify-start pl-4\" style={{ top: '44%' }}>\r\n                                <span className=\"bg-white/95 text-[10px] px-2.5 py-1 rounded-md text-slate-600 font-medium shadow-sm border border-slate-200\">\r\n                                    Quadril\r\n                                </span>\r\n                                <div className=\"w-24 h-[1px] bg-slate-400 ml-2\"></div>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Container da Imagem do Manequim */}\r\n            <div className=\"relative w-full h-full flex items-center justify-center overflow-hidden\">\r\n                {/* Imagem do corpo - ESTICADA para preencher 100% */}\r\n                <img\r\n                    src={currentImage}\r\n                    alt=\"Body mannequin\"\r\n                    className=\"h-full w-auto object-cover drop-shadow-2xl\"\r\n                    style={{\r\n                        minWidth: '100%',\r\n                        filter: 'drop-shadow(0 25px 50px rgba(0,0,0,0.12))'\r\n                    }}\r\n                />\r\n\r\n                {/* Overlay das linhas de fit */}\r\n                {viewMode === 'result' && (\r\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                        <div className=\"relative h-full\" style={{ width: '400px' }}>\r\n                            {gender === 'female' ? (\r\n                                <>\r\n                                    {renderFitLine((anatomyPositions as any).bust, fitResult?.bust, 'Busto')}\r\n                                    {renderFitLine((anatomyPositions as any).waist, fitResult?.waist, 'Cintura')}\r\n                                    {renderFitLine((anatomyPositions as any).hip, fitResult?.hips, 'Quadril')}\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    {renderFitLine((anatomyPositions as any).chest, fitResult?.bust, 'Peito')}\r\n                                    {renderFitLine((anatomyPositions as any).waist, fitResult?.waist, 'Cintura')}\r\n                                    {renderFitLine((anatomyPositions as any).hip, fitResult?.hips, 'Quadril')}\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\ChatWidget.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[490,493],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[490,493],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[904,907],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[904,907],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[912,915],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[912,915],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":99,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":99,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5265,5268],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5265,5268],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":207,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":207,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12212,12215],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12212,12215],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"Ôªøimport { useChat } from '@ai-sdk/react';\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { Sparkles, X, Send, ShoppingBag } from 'lucide-react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport { useCart } from '../../hooks/useCart';\r\nimport { useModal } from '../../hooks/useModal';\r\nimport { productsData } from '../../data/mockData';\r\n\r\n// Custom type for simplified ToolInvocation\r\ninterface ToolInvocation {\r\n    toolName: string;\r\n    toolCallId: string;\r\n    args: any;\r\n}\r\n\r\nexport default function ChatWidget() {\r\n    const { messages, input, handleInputChange, handleSubmit, isLoading } = useChat({\r\n        api: '/api/chat',\r\n        initialMessages: [\r\n            {\r\n                id: 'welcome-v3',\r\n                role: 'assistant',\r\n                content: 'Oi! Sou a Ly, assistente digital da Ly Vest.\\n\\nComo posso ajudar hoje?'\r\n            }\r\n        ]\r\n    } as any) as any; // Cast to any to avoid generic type complex conflicts for now if strict mode is harsh\r\n\r\n    const [isOpen, setIsOpen] = useState<boolean>(false);\r\n    const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n    };\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages]);\r\n\r\n    const quickReplies: string[] = [\"Ajuda com Tamanhos\", \"Ideias de Presente\", \"Falar com Humano\"];\r\n\r\n    const handleQuickReply = (text: string) => {\r\n        const event = {\r\n            target: { value: text }\r\n        } as React.ChangeEvent<HTMLInputElement>;\r\n        handleInputChange(event);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* Floating Action Button */}\r\n            <button\r\n                onClick={() => setIsOpen(true)}\r\n                className={`fixed bottom-24 right-6 z-[95] flex h-14 w-14 items-center justify-center rounded-full shadow-lg transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[#800020] focus:ring-offset-2 bg-[#800020] text-white\r\n                    ${isOpen ? 'scale-0 opacity-0 pointer-events-none' : 'scale-100 opacity-100'}`}\r\n                aria-label=\"Falar com a Ly\"\r\n            >\r\n                <Sparkles className=\"h-6 w-6 animate-pulse\" />\r\n            </button>\r\n\r\n            {/* Chat Window */}\r\n            {isOpen && (\r\n                <div className=\"fixed bottom-24 left-4 right-4 z-[95] flex h-[450px] max-h-[45vh] flex-col overflow-hidden rounded-2xl bg-white/95 shadow-2xl backdrop-blur-xl transition-all duration-300 animate-slide-up sm:bottom-28 sm:left-auto sm:right-6 sm:max-h-[80vh] sm:h-[510px] sm:w-[440px] border border-stone-100\">\r\n                    <div className=\"flex items-center justify-between bg-gradient-to-r from-[#800020] to-[#600018] p-4 text-white shadow-md\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"relative\">\r\n                                <div className=\"flex h-10 w-10 items-center justify-center rounded-full shadow-inner overflow-hidden bg-white\">\r\n                                    <img src=\"/ly-avatar.png\" alt=\"Ly\" className=\"h-full w-full object-cover scale-110\" />\r\n                                </div>\r\n                                <span className=\"absolute bottom-0 right-0 h-2.5 w-2.5 rounded-full bg-green-400 border-2 border-[#800020]\"></span>\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=\"font-bold text-sm\">Ly</h3>\r\n                                <p className=\"text-xs text-white/80\">Sua Consultora Digital</p>\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => setIsOpen(false)}\r\n                            className=\"rounded-full p-1.5 transition-colors hover:bg-white/10 active:scale-95\"\r\n                        >\r\n                            <X className=\"h-5 w-5\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"flex-1 overflow-y-auto p-4 scrollbar-hide bg-gradient-to-b from-slate-50 to-white\">\r\n                        <div className=\"flex flex-col gap-4\">\r\n                            {messages.length === 0 && (\r\n                                <div className=\"flex gap-3 animate-fade-in\">\r\n                                    <div className=\"h-8 w-8 flex-shrink-0 rounded-full overflow-hidden shadow-sm bg-white\">\r\n                                        <img src=\"/ly-avatar.png\" alt=\"Ly\" className=\"h-full w-full object-cover scale-110\" />\r\n                                    </div>\r\n                                    <div className=\"flex flex-col gap-1 max-w-[85%]\">\r\n                                        <div className=\"rounded-2xl rounded-tl-none bg-white p-3 text-sm text-slate-700 shadow-sm border border-slate-100\">\r\n                                            <p>Oi! Sou a Ly, assistente digital da Ly Vest.<br /><br />Como posso ajudar hoje?</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {messages.map((m: any) => (\r\n                                m.role !== 'system' && (\r\n                                    <div\r\n                                        key={m.id}\r\n                                        className={`flex gap-3 ${m.role === 'user' ? 'flex-row-reverse' : 'flex-row'} animate-slide-up`}\r\n                                    >\r\n                                        {m.role !== 'user' && (\r\n                                            <div className=\"h-8 w-8 flex-shrink-0 rounded-full overflow-hidden shadow-sm bg-white\">\r\n                                                <img src=\"/ly-avatar.png\" alt=\"Ly\" className=\"h-full w-full object-cover scale-110\" />\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        <div className={`flex flex-col gap-1 max-w-[85%] ${m.role === 'user' ? 'items-end' : 'items-start'}`}>\r\n                                            <div\r\n                                                className={`rounded-2xl p-3 text-sm shadow-sm ${m.role === 'user'\r\n                                                    ? 'bg-[#800020] text-white rounded-tr-none'\r\n                                                    : 'bg-white text-slate-700 border border-slate-100 rounded-tl-none prose prose-sm max-w-none prose-p:my-1 prose-strong:text-[#800020] prose-a:text-[#800020] prose-a:font-bold'\r\n                                                    }`}\r\n                                            >\r\n                                                <ReactMarkdown>{m.content}</ReactMarkdown>\r\n\r\n                                                {m.toolInvocations?.map((toolInvocation: ToolInvocation) => {\r\n                                                    const { toolName, toolCallId, args } = toolInvocation;\r\n\r\n                                                    if (toolName === 'addToCart') {\r\n                                                        return (\r\n                                                            <div key={toolCallId} className=\"mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200\">\r\n                                                                <p className=\"font-semibold text-slate-700 text-xs mb-2\">\r\n                                                                    Sugest√£o de Compra:\r\n                                                                </p>\r\n                                                                <AddToCartButton productId={args.productId} />\r\n                                                            </div>\r\n                                                        );\r\n                                                    }\r\n                                                    return null;\r\n                                                })}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            ))}\r\n\r\n                            {isLoading && (\r\n                                <div className=\"flex gap-3 animate-fade-in\">\r\n                                    <div className=\"h-8 w-8 flex-shrink-0 rounded-full overflow-hidden shadow-sm bg-white\">\r\n                                        <img src=\"/ly-avatar.png\" alt=\"Ly\" className=\"h-full w-full object-cover scale-110\" />\r\n                                    </div>\r\n                                    <div className=\"rounded-2xl rounded-tl-none bg-white p-4 shadow-sm border border-slate-100\">\r\n                                        <div className=\"flex gap-1.5\">\r\n                                            <span className=\"h-1.5 w-1.5 animate-bounce rounded-full bg-slate-400\"></span>\r\n                                            <span className=\"h-1.5 w-1.5 animate-bounce rounded-full bg-slate-400 delay-100\"></span>\r\n                                            <span className=\"h-1.5 w-1.5 animate-bounce rounded-full bg-slate-400 delay-200\"></span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                            <div ref={messagesEndRef} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"border-t border-slate-100 bg-white p-4\">\r\n                        {messages.length < 2 && (\r\n                            <div className=\"mb-3 flex gap-2 overflow-x-auto pb-1 scrollbar-hide\">\r\n                                {quickReplies.map((reply) => (\r\n                                    <button\r\n                                        key={reply}\r\n                                        onClick={() => handleQuickReply(reply)}\r\n                                        className=\"whitespace-nowrap rounded-full border border-slate-200 bg-slate-50 px-3 py-1.5 text-xs font-medium text-slate-600 transition-colors hover:border-[#800020] hover:bg-white hover:text-[#800020]\"\r\n                                    >\r\n                                        {reply}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n\r\n                        <form onSubmit={handleSubmit} className=\"flex gap-2 relative\">\r\n                            <input\r\n                                value={input}\r\n                                onChange={handleInputChange}\r\n                                placeholder=\"Digite sua d√∫vida...\"\r\n                                className=\"flex-1 rounded-full border border-slate-200 bg-slate-50 pl-4 pr-10 py-2.5 text-sm transition-all focus:border-[#800020] focus:bg-white focus:outline-none focus:ring-1 focus:ring-[#800020]/20\"\r\n                            />\r\n                            <button\r\n                                type=\"submit\"\r\n                                disabled={isLoading || !(input || '').trim()}\r\n                                className=\"absolute right-1 top-1 flex h-8 w-8 items-center justify-center rounded-full bg-[#800020] text-white transition-transform hover:bg-[#600018] active:scale-95 disabled:opacity-50 disabled:scale-100\"\r\n                            >\r\n                                <Send className=\"h-3.5 w-3.5 ml-0.5\" />\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\ninterface AddToCartButtonProps {\r\n    productId: string | number;\r\n}\r\n\r\nfunction AddToCartButton({ productId }: AddToCartButtonProps) {\r\n    const { addToCart } = useCart();\r\n    const { openDrawer } = useModal();\r\n    const [added, setAdded] = useState<boolean>(false);\r\n\r\n    const handleAdd = () => {\r\n        // Safe check for product ID match (string vs number)\r\n        const product = productsData.find((p: any) => String(p.id) === String(productId));\r\n\r\n        if (product) {\r\n            addToCart(product);\r\n            setAdded(true);\r\n            setTimeout(() => {\r\n                openDrawer('cart');\r\n            }, 300); // Small delay for effect\r\n        } else {\r\n            console.warn('Product not found in context', productId);\r\n        }\r\n    };\r\n\r\n    if (added) {\r\n        return (\r\n            <button disabled className='w-full flex items-center justify-center gap-2 bg-green-100 text-green-700 py-2 rounded-md text-xs font-bold cursor-default'>\r\n                <Sparkles className='w-3 h-3' /> Adicionado!\r\n            </button>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <button\r\n            onClick={handleAdd}\r\n            className='w-full bg-[#800020] text-white py-2 rounded-md text-xs font-bold hover:bg-[#600018] transition-colors flex items-center justify-center gap-2'\r\n        >\r\n            <ShoppingBag className='w-3 h-3' /> Adicionar ao Carrinho\r\n        </button>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\FloatingWhatsApp.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\InfoStrip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\LanguageSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\ModelGallery.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\NewsletterForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\ReloadPrompt.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\SEO.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\SEOComponent.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":95,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":98,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[566,569],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[566,569],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[648,651],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[648,651],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":30,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[793,796],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[793,796],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":221,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":221,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7565,7568],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7565,7568],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst DOMAIN = 'https://lyvest.vercel.app';\r\n\r\ninterface AdditionalProperty {\r\n    \"@type\": string;\r\n    name: string;\r\n    value: string;\r\n}\r\n\r\ninterface ProductColor {\r\n    name: string;\r\n    hex?: string;\r\n}\r\n\r\ninterface Product {\r\n    id: string | number;\r\n    name: string;\r\n    description?: string;\r\n    image: string | string[];\r\n    price: number;\r\n    rating?: number;\r\n    reviews?: number;\r\n    ean?: string;\r\n    category?: string | { name: string; slug: string; } | { name: string; slug: string; }[] | any; // Allow complex category\r\n    slug?: string;\r\n    colors?: ProductColor[] | any[]; // Allow loose structure for compatibility\r\n    specs?: Record<string, string | number | undefined>; // Match Service\r\n    [key: string]: any;\r\n}\r\n\r\ninterface BreadcrumbItem {\r\n    label: string;\r\n    link?: string;\r\n}\r\n\r\ninterface FAQItem {\r\n    question: string;\r\n    answer: string;\r\n}\r\n\r\ninterface SEOProps {\r\n    title: string;\r\n    description?: string;\r\n    image?: string;\r\n    url?: string;\r\n    type?: 'website' | 'article' | 'product' | 'category';\r\n    product?: Product | Product[] | null;\r\n    breadcrumbs?: BreadcrumbItem[];\r\n    faq?: FAQItem[];\r\n    fullTitle?: boolean;\r\n}\r\n\r\nexport default function SEO({\r\n    title,\r\n    description,\r\n    image,\r\n    url,\r\n    type = 'website',\r\n    product,\r\n    breadcrumbs = [],\r\n    faq = [],\r\n    fullTitle = false\r\n}: SEOProps) {\r\n    const metaTitle = fullTitle ? title : `${title} | Ly Vest`;\r\n    const metaDescription = description || \"Ly Vest - Moda feminina com estilo e eleg√¢ncia. Vestidos, blusas, saias e muito mais.\";\r\n    const metaImage = image ? (image.startsWith('http') ? image : `${DOMAIN}${image}`) : `${DOMAIN}/og-default.jpg`;\r\n    const metaUrl = url ? (url.startsWith('http') ? url : `${DOMAIN}${url}`) : DOMAIN;\r\n\r\n    // --- Schema Generators ---\r\n\r\n    const generateOrganizationSchema = () => ({\r\n        \"@type\": \"Organization\",\r\n        \"name\": \"Ly Vest\",\r\n        \"url\": DOMAIN,\r\n        \"logo\": `${DOMAIN}/logo.png`,\r\n        \"sameAs\": [\r\n            \"https://www.instagram.com/lyvest\",\r\n            \"https://www.facebook.com/lyvest\"\r\n        ],\r\n        \"contactPoint\": {\r\n            \"@type\": \"ContactPoint\",\r\n            \"telephone\": \"+55-13-99624-6969\",\r\n            \"contactType\": \"customer service\",\r\n            \"areaServed\": \"BR\",\r\n            \"availableLanguage\": \"Portuguese\"\r\n        }\r\n    });\r\n\r\n    const generateBreadcrumbSchema = () => {\r\n        if (!breadcrumbs || breadcrumbs.length === 0) return null;\r\n        return {\r\n            \"@type\": \"BreadcrumbList\",\r\n            \"itemListElement\": breadcrumbs.map((item, index) => ({\r\n                \"@type\": \"ListItem\",\r\n                \"position\": index + 1,\r\n                \"name\": item.label,\r\n                \"item\": item.link ? (item.link.startsWith('http') ? item.link : `${DOMAIN}${item.link}`) : undefined\r\n            }))\r\n        };\r\n    };\r\n\r\n    const generateProductSchema = (prod: Product) => {\r\n        if (!prod) return null;\r\n\r\n        // Construct additional properties from specs\r\n        const additionalProperty: AdditionalProperty[] = prod.specs ? Object.entries(prod.specs).map(([key, value]) => ({\r\n            \"@type\": \"PropertyValue\",\r\n            \"name\": key,\r\n            \"value\": String(value) // Convert to string for schema\r\n        })) : [];\r\n\r\n        // Add Color/Material logic if available\r\n        if (prod.colors && prod.colors.length > 0) {\r\n            additionalProperty.push({\r\n                \"@type\": \"PropertyValue\",\r\n                \"name\": \"availableColors\",\r\n                \"value\": prod.colors.map(c => c.name).join(\", \")\r\n            });\r\n        }\r\n\r\n        return {\r\n            \"@type\": \"Product\",\r\n            \"name\": prod.name,\r\n            \"image\": Array.isArray(prod.image) ? prod.image : [prod.image],\r\n            \"description\": prod.description,\r\n            \"sku\": prod.id ? `SKU-${prod.id}` : undefined,\r\n            \"gtin\": prod.ean || undefined,\r\n            \"brand\": {\r\n                \"@type\": \"Brand\",\r\n                \"name\": \"Ly Vest\"\r\n            },\r\n            \"category\": prod.category,\r\n            \"additionalProperty\": additionalProperty,\r\n            \"offers\": {\r\n                \"@type\": \"Offer\",\r\n                \"url\": metaUrl,\r\n                \"priceCurrency\": \"BRL\",\r\n                \"price\": prod.price.toFixed(2),\r\n                \"itemCondition\": \"https://schema.org/NewCondition\",\r\n                \"availability\": \"https://schema.org/InStock\",\r\n                \"shippingDetails\": {\r\n                    \"@type\": \"OfferShippingDetails\",\r\n                    \"shippingRate\": {\r\n                        \"@type\": \"MonetaryAmount\",\r\n                        \"value\": 0,\r\n                        \"currency\": \"BRL\"\r\n                    },\r\n                    \"deliveryTime\": {\r\n                        \"@type\": \"ShippingDeliveryTime\",\r\n                        \"handlingTime\": {\r\n                            \"@type\": \"QuantitativeValue\",\r\n                            \"minValue\": 0,\r\n                            \"maxValue\": 1,\r\n                            \"unitCode\": \"DAY\"\r\n                        },\r\n                        \"transitTime\": {\r\n                            \"@type\": \"QuantitativeValue\",\r\n                            \"minValue\": 1,\r\n                            \"maxValue\": 5,\r\n                            \"unitCode\": \"DAY\"\r\n                        }\r\n                    }\r\n                },\r\n                \"hasMerchantReturnPolicy\": {\r\n                    \"@type\": \"MerchantReturnPolicy\",\r\n                    \"applicableCountry\": \"BR\",\r\n                    \"returnPolicyCategory\": \"https://schema.org/MerchantReturnFiniteReturnWindow\",\r\n                    \"merchantReturnDays\": 30,\r\n                    \"returnMethod\": \"https://schema.org/ReturnByMail\",\r\n                    \"returnFees\": \"https://schema.org/FreeReturn\"\r\n                }\r\n            },\r\n            // Aggregate Rating (safe check)\r\n            ...(prod.rating && {\r\n                \"aggregateRating\": {\r\n                    \"@type\": \"AggregateRating\",\r\n                    \"ratingValue\": prod.rating,\r\n                    \"reviewCount\": prod.reviews || 1\r\n                }\r\n            })\r\n        };\r\n    };\r\n\r\n    const generateFAQSchema = (faqs: FAQItem[]) => {\r\n        if (!faqs || faqs.length === 0) return null;\r\n        return {\r\n            \"@type\": \"FAQPage\",\r\n            \"mainEntity\": faqs.map(faqItem => ({\r\n                \"@type\": \"Question\",\r\n                \"name\": faqItem.question,\r\n                \"acceptedAnswer\": {\r\n                    \"@type\": \"Answer\",\r\n                    \"text\": faqItem.answer\r\n                }\r\n            }))\r\n        };\r\n    };\r\n\r\n\r\n    const generateCollectionPageSchema = (prods: Product[]) => {\r\n        if (!prods || prods.length === 0) return null;\r\n        return {\r\n            \"@type\": \"CollectionPage\",\r\n            \"name\": metaTitle,\r\n            \"url\": metaUrl,\r\n            \"description\": metaDescription,\r\n            \"mainEntity\": {\r\n                \"@type\": \"ItemList\",\r\n                \"itemListElement\": prods.slice(0, 10).map((prod, index) => ({ // First 10 items for brevity\r\n                    \"@type\": \"ListItem\",\r\n                    \"position\": index + 1,\r\n                    \"url\": `${DOMAIN}/produto/${prod.slug || prod.id}` // Assuming slug generation might be needed if not present\r\n                }))\r\n            }\r\n        };\r\n    };\r\n\r\n    // --- Context & Graph Construction ---\r\n    const graph: any[] = [\r\n        generateOrganizationSchema(),\r\n        {\r\n            \"@type\": \"WebSite\",\r\n            \"url\": DOMAIN,\r\n            \"name\": \"Ly Vest\",\r\n            \"potentialAction\": {\r\n                \"@type\": \"SearchAction\",\r\n                \"target\": `${DOMAIN}/busca?q={search_term_string}`,\r\n                \"query-input\": \"required name=search_term_string\"\r\n            }\r\n        }\r\n    ];\r\n\r\n    const breadcrumbSchema = generateBreadcrumbSchema();\r\n    if (breadcrumbSchema) graph.push(breadcrumbSchema);\r\n\r\n    if (type === 'product' && product && !Array.isArray(product)) {\r\n        const productSchema = generateProductSchema(product as Product);\r\n        if (productSchema) graph.push(productSchema);\r\n    } else if (type === 'category' && product && Array.isArray(product)) {\r\n        // 'product' prop is reused here to pass the list of products for category pages\r\n        const collectionSchema = generateCollectionPageSchema(product as Product[]);\r\n        if (collectionSchema) graph.push(collectionSchema);\r\n    }\r\n\r\n    const faqSchema = generateFAQSchema(faq);\r\n    if (faqSchema) graph.push(faqSchema);\r\n\r\n\r\n    return (\r\n        <Helmet>\r\n            {/* Standard SEO */}\r\n            <title>{metaTitle}</title>\r\n            <meta name=\"description\" content={metaDescription} />\r\n            <link rel=\"canonical\" href={metaUrl} />\r\n\r\n            {/* Open Graph / Facebook */}\r\n            <meta property=\"og:type\" content={type} />\r\n            <meta property=\"og:title\" content={metaTitle} />\r\n            <meta property=\"og:description\" content={metaDescription} />\r\n            <meta property=\"og:image\" content={metaImage} />\r\n            <meta property=\"og:url\" content={metaUrl} />\r\n            <meta property=\"og:site_name\" content=\"Ly Vest\" />\r\n            <meta property=\"og:locale\" content=\"pt_BR\" />\r\n\r\n            {/* Product Specific OG */}\r\n            {type === 'product' && product && !Array.isArray(product) && (\r\n                <>\r\n                    <meta property=\"product:price:amount\" content={(product as Product).price.toFixed(2)} />\r\n                    <meta property=\"product:price:currency\" content=\"BRL\" />\r\n                    <meta property=\"product:brand\" content=\"Ly Vest\" />\r\n                    <meta property=\"product:category\" content={(product as Product).category} />\r\n                    {(product as Product).colors && (product as Product).colors?.map((color: ProductColor) => (\r\n                        <meta property=\"product:color\" content={color.name} key={color.name} />\r\n                    ))}\r\n                </>\r\n            )}\r\n\r\n            {/* Twitter Cards */}\r\n            <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n            <meta name=\"twitter:title\" content={metaTitle} />\r\n            <meta name=\"twitter:description\" content={metaDescription} />\r\n            <meta name=\"twitter:image\" content={metaImage} />\r\n\r\n            {/* JSON-LD Schema */}\r\n            <script type=\"application/ld+json\">\r\n                {JSON.stringify({\r\n                    \"@context\": \"https://schema.org\",\r\n                    \"@graph\": graph\r\n                })}\r\n            </script>\r\n        </Helmet>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\SizeCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\TestimonialCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\Testimonials.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\TestimonialsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\features\\VirtualFitting.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[926,929],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[926,929],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":2,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":119,"column":9,"nodeType":"JSXOpeningElement","endLine":122,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":2,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":119,"column":9,"nodeType":"JSXOpeningElement","endLine":122,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":2,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":123,"column":13,"nodeType":"JSXOpeningElement","endLine":126,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":2,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":123,"column":13,"nodeType":"JSXOpeningElement","endLine":126,"endColumn":14}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { X, Sparkles } from 'lucide-react';\r\nimport { Product } from '../../services/ProductService';\r\nimport { BodyMeasurements, SizeRecommendation, calculateSize } from '../../services/sizeAI';\r\nimport { findSimilarModels } from '../../data/sizeGuide';\r\nimport SizeCalculator from './SizeCalculator';\r\nimport AIRecommendation from './AIRecommendation';\r\nimport ModelGallery from './ModelGallery';\r\nimport { getProductGender } from '../../utils/productUtils';\r\n\r\ninterface VirtualFittingProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    product: Product;\r\n    onSizeSelected: (size: string) => void;\r\n}\r\n\r\ntype Step = 'input' | 'recommendation' | 'models';\r\n\r\nconst STORAGE_KEY = 'lyvest_user_measurements';\r\n\r\n// Simples sistema de analytics (pode ser expandido para GA4/Pixel)\r\nconst trackEvent = (eventName: string, data: any) => {\r\n    console.log(`üìä [Analytics] ${eventName}:`, data);\r\n    // Aqui seria: window.gtag('event', eventName, data);\r\n};\r\n\r\nexport default function VirtualFitting({\r\n    isOpen,\r\n    onClose,\r\n    product,\r\n    onSizeSelected,\r\n}: VirtualFittingProps) {\r\n    const [step, setStep] = useState<Step>('input');\r\n    const [isCalculating, setIsCalculating] = useState(false);\r\n    const [recommendation, setRecommendation] = useState<SizeRecommendation | null>(null);\r\n    const [measurements, setMeasurements] = useState<BodyMeasurements | null>(null);\r\n\r\n    const productGender = getProductGender(product);\r\n\r\n    // Carregar dados salvos\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem(STORAGE_KEY);\r\n        if (saved) {\r\n            try {\r\n                setMeasurements(JSON.parse(saved));\r\n            } catch (e) {\r\n                console.error('Erro ao ler medidas salvas', e);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const handleCalculate = async (userMeasurements: BodyMeasurements) => {\r\n        setIsCalculating(true);\r\n        setMeasurements(userMeasurements);\r\n\r\n        // Salvar persist√™ncia\r\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(userMeasurements));\r\n\r\n        trackEvent('calculate_size', {\r\n            measurements: userMeasurements,\r\n            productId: product.id\r\n        });\r\n\r\n        try {\r\n            // Simular delay m√≠nimo para UX (mostrar loading)\r\n            const [result] = await Promise.all([\r\n                calculateSize(userMeasurements, product),\r\n                new Promise((resolve) => setTimeout(resolve, 1000)),\r\n            ]);\r\n\r\n            setRecommendation(result);\r\n            setStep('recommendation');\r\n        } catch (error) {\r\n            console.error('Erro ao calcular tamanho:', error);\r\n        } finally {\r\n            setIsCalculating(false);\r\n        }\r\n    };\r\n\r\n    const handleAddToCart = (size: string) => {\r\n        onSizeSelected(size);\r\n        trackEvent('add_to_cart_recommendation', {\r\n            size,\r\n            productId: product.id\r\n        });\r\n        onClose();\r\n    };\r\n\r\n    const handleViewModels = () => {\r\n        setStep('models');\r\n        trackEvent('view_models', { productId: product.id });\r\n    };\r\n\r\n    const handleBack = () => {\r\n        if (step === 'models') setStep('recommendation');\r\n        else if (step === 'recommendation') setStep('input');\r\n    };\r\n\r\n    // Detectar g√™nero do produto\r\n    // REMOVIDO: Usando getProductGender de productUtils agora\r\n\r\n    // Get similar models if we have measurements\r\n    const similarModels =\r\n        measurements\r\n            ? findSimilarModels(\r\n                measurements.height,\r\n                measurements.weight,\r\n                measurements.bustType,\r\n                measurements.hipType,\r\n                productGender // Passar g√™nero detectado\r\n            )\r\n            : [];\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const modalContent = (\r\n        <div\r\n            className=\"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-fade-in\"\r\n            onClick={onClose}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl relative animate-scale-up\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                {/* Header */}\r\n                <div className=\"sticky top-0 z-10 bg-white border-b border-slate-200 px-6 py-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <Sparkles className=\"w-5 h-5 text-lyvest-600\" />\r\n                            <h2 className=\"text-xl font-bold text-slate-900\">\r\n                                {step === 'input' && 'Calculadora de Tamanho'}\r\n                                {step === 'recommendation' && 'Seu Tamanho Perfeito'}\r\n                                {step === 'models' && 'Modelos Similares'}\r\n                            </h2>\r\n                        </div>\r\n                        <button\r\n                            onClick={onClose}\r\n                            className=\"p-2 bg-slate-100 rounded-full hover:bg-slate-200 transition-colors\"\r\n                            aria-label=\"Fechar\"\r\n                        >\r\n                            <X className=\"w-5 h-5 text-slate-500\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Breadcrumbs */}\r\n                    <div className=\"flex items-center gap-2 mt-3 text-sm\">\r\n                        <button\r\n                            onClick={() => setStep('input')}\r\n                            className={`${step === 'input'\r\n                                ? 'text-lyvest-600 font-medium'\r\n                                : 'text-slate-500 hover:text-slate-700'\r\n                                }`}\r\n                        >\r\n                            Medidas\r\n                        </button>\r\n                        {recommendation && (\r\n                            <>\r\n                                <span className=\"text-slate-400\">‚Üí</span>\r\n                                <button\r\n                                    onClick={() => setStep('recommendation')}\r\n                                    className={`${step === 'recommendation'\r\n                                        ? 'text-lyvest-600 font-medium'\r\n                                        : 'text-slate-500 hover:text-slate-700'\r\n                                        }`}\r\n                                >\r\n                                    Resultado\r\n                                </button>\r\n                            </>\r\n                        )}\r\n                        {step === 'models' && (\r\n                            <>\r\n                                <span className=\"text-slate-400\">‚Üí</span>\r\n                                <span className=\"text-lyvest-600 font-medium\">Modelos</span>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"p-6\">\r\n                    {step === 'input' && (\r\n                        <div>\r\n                            <div className=\"mb-6 text-center\">\r\n                                <p className=\"text-sm text-slate-600\">\r\n                                    Responda algumas perguntas e nossa IA vai recomendar o tamanho\r\n                                    perfeito para voc√™!\r\n                                </p>\r\n                            </div>\r\n                            <SizeCalculator\r\n                                onCalculate={handleCalculate}\r\n                                isLoading={isCalculating}\r\n                                initialMeasurements={measurements}\r\n                                product={product}\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                    {step === 'recommendation' && recommendation && (\r\n                        <AIRecommendation\r\n                            recommendation={recommendation}\r\n                            onAddToCart={handleAddToCart}\r\n                            onViewModels={handleViewModels}\r\n                            product={product}\r\n                            gender={productGender}\r\n                        />\r\n                    )}\r\n\r\n                    {step === 'models' && (\r\n                        <div>\r\n                            <ModelGallery models={similarModels} productId={product.id} />\r\n                            <div className=\"mt-8 flex gap-3\">\r\n                                <button\r\n                                    onClick={handleBack}\r\n                                    className=\"flex-1 py-3 border border-slate-200 rounded-xl font-medium text-slate-600 hover:bg-slate-50 transition-colors\"\r\n                                >\r\n                                    Voltar\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => handleAddToCart(recommendation?.size || 'M')}\r\n                                    className=\"flex-1 py-3 bg-lyvest-600 text-white rounded-xl font-bold hover:bg-lyvest-700 transition-colors shadow-lg shadow-lyvest-200\"\r\n                                >\r\n                                    Comprar Agora\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return createPortal(modalContent, document.body);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\layout\\AnnouncementBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\layout\\AppProviders.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\layout\\CookieBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\layout\\DrawerManager.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":77,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3156,3159],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3156,3159],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":87,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":87,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3748,3751],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3748,3751],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":98,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4374,4377],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4374,4377],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"Ôªøimport React, { Suspense, lazy } from 'react';\r\nimport { useModal } from '../../hooks/useModal';\r\nimport { useCart } from '../../hooks/useCart';\r\nimport { useFavorites } from '../../hooks/useFavorites';\r\nimport { useI18n } from '../../hooks/useI18n';\r\nimport { productsData } from '../../data/mockData';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// Lazy load drawers\r\n// Lazy load drawers\r\nconst DrawerCart = lazy(() => import('../DrawerCart'));\r\nconst DrawerFavorites = lazy(() => import('../DrawerFavorites'));\r\nconst DrawerTracking = lazy(() => import('../DrawerTracking'));\r\nexport default function DrawerManager() {\r\n    const {\r\n        activeDrawer,\r\n        closeDrawer,\r\n        trackingCode,\r\n        setTrackingCode,\r\n        trackingResult,\r\n        setTrackingResult,\r\n        showNotification\r\n    } = useModal();\r\n\r\n    const { cartItems, removeFromCart, addToCart } = useCart();\r\n    const { favorites, toggleFavorite } = useFavorites();\r\n    const { isRTL } = useI18n();\r\n    const navigate = useNavigate();\r\n\r\n    const handleCheckout = () => {\r\n        closeDrawer();\r\n        navigate('/checkout');\r\n    };\r\n\r\n    const [headerHeight, setHeaderHeight] = React.useState(0);\r\n\r\n    React.useEffect(() => {\r\n        const updateHeight = () => {\r\n            const header = document.querySelector('header');\r\n            if (header) {\r\n                setHeaderHeight(header.getBoundingClientRect().bottom);\r\n            }\r\n        };\r\n\r\n        updateHeight();\r\n        window.addEventListener('scroll', updateHeight);\r\n        window.addEventListener('resize', updateHeight);\r\n\r\n        return () => {\r\n            window.removeEventListener('scroll', updateHeight);\r\n            window.removeEventListener('resize', updateHeight);\r\n        };\r\n    }, []);\r\n\r\n    if (!activeDrawer) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 z-40 transition-[top] duration-75 ease-out\"\r\n            style={{ top: `${headerHeight}px`, height: `calc(100vh - ${headerHeight}px)` }}\r\n        >\r\n            {activeDrawer && (\r\n                <div className=\"absolute inset-0 bg-slate-900/30 backdrop-blur-sm\" onClick={closeDrawer} onKeyDown={(e) => e.key === 'Escape' && closeDrawer()} role=\"button\" tabIndex={0} aria-label=\"Fechar painel\" />\r\n            )}\r\n            <div\r\n                className={`absolute top-0 right-0 h-full w-full max-w-md bg-white shadow-2xl flex flex-col transition-transform duration-300 transform ${activeDrawer ? 'translate-x-0' : 'translate-x-full'}`}\r\n                role=\"dialog\"\r\n                aria-modal=\"true\"\r\n                aria-labelledby={`${activeDrawer}-title`}\r\n                dir={isRTL ? 'rtl' : 'ltr'}\r\n            >\r\n                <Suspense fallback={<div className=\"flex items-center justify-center h-full\"><div className=\"w-8 h-8 border-4 border-lyvest-100 border-t-[#800020] rounded-full animate-spin\" /></div>}>\r\n                    {activeDrawer === 'cart' && (\r\n                        <DrawerCart\r\n                            isOpen={true}\r\n                            onClose={closeDrawer}\r\n                            cartItems={cartItems as any[]} // TODO: Fix CartItem vs Product type mismatch properly\r\n                            onRemoveFromCart={removeFromCart}\r\n                            onCheckout={handleCheckout}\r\n                        />\r\n                    )}\r\n                    {activeDrawer === 'favorites' && (\r\n                        <DrawerFavorites\r\n                            isOpen={true}\r\n                            onClose={closeDrawer}\r\n                            favoriteProducts={productsData.filter((p) => favorites.includes(p.id))}\r\n                            onAddToCart={(p) => addToCart(p as any)} // Cast to match useCart expectation\r\n                            onToggleFavorite={toggleFavorite}\r\n                            setNotification={(msg) => showNotification(msg, 'success')}\r\n                        />\r\n                    )}\r\n                    {activeDrawer === 'tracking' && (\r\n                        <DrawerTracking\r\n                            isOpen={true}\r\n                            onClose={closeDrawer}\r\n                            trackingCode={trackingCode || ''}\r\n                            setTrackingCode={setTrackingCode}\r\n                            trackingResult={trackingResult as any}\r\n                            setTrackingResult={setTrackingResult}\r\n                        />\r\n                    )}\r\n                </Suspense>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\layout\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\layout\\Header.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1200,1203],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1200,1203],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"Ôªøimport React, { useEffect, ChangeEvent } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport { Menu, Search, PackageSearch, Heart, ShoppingBag, ChevronDown, X } from 'lucide-react';\r\nimport { mainMenu, productsData } from '../../data/mockData';\r\nimport { useDebounce } from '../../hooks/useDebounce';\r\nimport { detectXSS } from '../../utils/security';\r\nimport LanguageSelector from '../features/LanguageSelector';\r\nimport { useI18n } from '../../hooks/useI18n';\r\nimport { useCart } from '../../context/CartContext';\r\nimport { useFavorites } from '../../context/FavoritesContext';\r\nimport { useModal } from '../../context/ModalContext';\r\nimport Button from '../ui/Button';\r\nimport { getUserAvatar } from '../../utils/userUtils';\r\n\r\n\r\nimport { useShop } from '../../context/ShopContext';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useShopNavigation } from '../../hooks/useShopNavigation';\r\n\r\ninterface HeaderProps {\r\n    setIsMobileMenuOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n    isMobileMenuOpen: boolean;\r\n    navigateToDashboard: () => void;\r\n}\r\n\r\ninterface User {\r\n    name?: string;\r\n    email?: string;\r\n    [key: string]: any;\r\n}\r\n\r\ninterface MenuItem {\r\n    label: string;\r\n    translationKey: string;\r\n    action: string;\r\n    category?: string;\r\n    subcategories?: MenuItem[];\r\n}\r\n\r\nexport default function Header({\r\n    setIsMobileMenuOpen,\r\n    isMobileMenuOpen,\r\n    navigateToDashboard\r\n}: HeaderProps) {\r\n    const navigate = useNavigate();\r\n    const { t } = useI18n();\r\n    const { cartCount } = useCart();\r\n    const { favorites } = useFavorites();\r\n    const { openDrawer, closeDrawer, openModal } = useModal();\r\n    const { user, isAuthenticated: isLoggedIn } = useAuth();\r\n    const { searchQuery, setSearchQuery, selectedCategory, setSelectedCategory } = useShop();\r\n    const { handleMenuClick } = useShopNavigation();\r\n\r\n    // Cast properties for stricter usage\r\n    const currentUser = user as User | null;\r\n    const menuItems = mainMenu as MenuItem[];\r\n\r\n    interface MockProduct {\r\n        id: number;\r\n        name: string;\r\n        category: string;\r\n        price: number;\r\n        image: string;\r\n    }\r\n    const safeProducts = productsData as MockProduct[];\r\n\r\n\r\n    // Debounce da busca APENAS para navega√É¬ß√É¬£o/URL\r\n    const debouncedSearch = useDebounce(searchQuery, 500);\r\n\r\n    // Atualizar URL quando o termo debounced mudar\r\n    useEffect(() => {\r\n        if (debouncedSearch) {\r\n            navigate(`/?busca=${encodeURIComponent(debouncedSearch)}`);\r\n        } else if (searchQuery === '' && window.location.search.includes('busca=')) {\r\n            // Se limpou a busca, volta para home limpa\r\n            navigate('/');\r\n        }\r\n    }, [debouncedSearch, navigate, searchQuery]);\r\n\r\n    const handleSearch = (e: ChangeEvent<HTMLInputElement>) => {\r\n        let value = e.target.value.slice(0, 50);\r\n\r\n        // Prote√É¬ß√É¬£o XSS\r\n        if (detectXSS(value)) {\r\n            value = '';\r\n        }\r\n\r\n        setSearchQuery(value);\r\n    };\r\n\r\n    const handleLogoClick = () => {\r\n        setSelectedCategory(\"Todos\");\r\n        setSearchQuery(\"\");\r\n        navigate('/');\r\n    };\r\n\r\n    const location = useLocation();\r\n    const isCheckout = location.pathname === '/checkout';\r\n\r\n    return (\r\n        <header className=\"sticky top-0 z-50 bg-white transition-all shadow-sm\" role=\"banner\" dir=\"ltr\">\r\n            <div className=\"container mx-auto px-4 py-2 lg:py-4\">\r\n                <a href=\"#main-content\" className=\"sr-only focus:not-sr-only bg-white text-lyvest-500 px-4 py-2 absolute z-[100] top-0 left-0 shadow-md\">\r\n                    {t('a11y.skipToContent') || 'Pular para o conte√É¬∫do principal'}\r\n                </a>\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n\r\n                    {/* Logo e Menu Mobile */}\r\n                    <div className=\"flex items-center gap-4 mr-12 lg:mr-24\">\r\n                        <button\r\n                            onClick={() => {\r\n                                setIsMobileMenuOpen(prev => !prev);\r\n                                if (!isMobileMenuOpen) {\r\n                                    closeDrawer();\r\n                                }\r\n                            }}\r\n                            className=\"lg:hidden p-3 hover:bg-slate-100 rounded-full text-slate-600 transition-colors touch-target\"\r\n                            aria-label={t('aria.openMenu')}\r\n                        >\r\n                            <Menu className=\"w-7 h-7\" />\r\n                        </button>\r\n                        <Link\r\n                            to=\"/\"\r\n                            aria-label=\"Ly Vest Home\"\r\n                            onClick={handleLogoClick}\r\n                        >\r\n                            <img src=\"/lyvest-red-logo.png\" alt=\"Ly Vest Logo\" className=\"h-16 md:h-12 w-auto object-contain transition-transform duration-300 hover:scale-105\" />\r\n                        </Link>\r\n                    </div>\r\n\r\n                    {/* Barra de Busca Inteligente */}\r\n                    <div className=\"hidden lg:flex flex-1 max-w-xs lg:max-w-sm xl:max-w-lg relative mx-4 lg:mx-8 group z-50\">\r\n                        <div className=\"relative w-full\">\r\n                            <input\r\n                                type=\"text\"\r\n                                value={searchQuery}\r\n                                onChange={handleSearch}\r\n                                placeholder={t('common.search')}\r\n                                aria-label={t('common.search')}\r\n                                maxLength={50}\r\n                                className=\"w-full pl-12 pr-4 py-2.5 rounded-full bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-[#F5E6E8] focus:border-lyvest-200 transition-all text-sm placeholder:text-slate-400 group-hover:bg-white\"\r\n                            />\r\n                            <Search className=\"w-5 h-5 absolute left-4 top-1/2 -translate-y-1/2 transition-colors text-lyvest-500\" />\r\n                            {searchQuery && (\r\n                                <button\r\n                                    onClick={() => { setSearchQuery(''); navigate('/'); }}\r\n                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1 bg-slate-200 rounded-full hover:bg-slate-300\"\r\n                                    aria-label={t('aria.clearSearch')}\r\n                                >\r\n                                    <X className=\"w-4 h-4 text-slate-500\" />\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Autocomplete Dropdown */}\r\n                        {searchQuery.length > 2 && (\r\n                            <div className=\"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden animate-fade-in\">\r\n                                {safeProducts\r\n                                    .filter((p) => p.name.toLowerCase().includes(searchQuery.toLowerCase()))\r\n                                    .slice(0, 5)\r\n                                    .map((product) => (\r\n                                        <Link\r\n                                            key={product.id}\r\n                                            to={`/produto/${product.name.toLowerCase().replace(/ /g, '-')}`}\r\n                                            onClick={() => setSearchQuery('')}\r\n                                            className=\"flex items-center gap-4 p-3 hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0\"\r\n                                        >\r\n                                            <div className=\"w-12 h-12 rounded-lg bg-slate-100 overflow-hidden flex-shrink-0\">\r\n                                                <img src={product.image} alt={product.name} className=\"w-full h-full object-cover\" />\r\n                                            </div>\r\n                                            <div className=\"flex-1 min-w-0\">\r\n                                                <p className=\"font-bold text-slate-800 text-sm truncate\">{product.name}</p>\r\n                                                <p className=\"text-xs text-slate-500 truncate\">{product.category}</p>\r\n                                            </div>\r\n                                            <div className=\"text-right\">\r\n                                                <span className=\"font-bold text-lyvest-500 text-sm\">\r\n                                                    R$ {product.price.toFixed(2).replace('.', ',')}\r\n                                                </span>\r\n                                            </div>\r\n                                        </Link>\r\n                                    ))}\r\n                                {safeProducts.filter((p) => p.name.toLowerCase().includes(searchQuery.toLowerCase())).length === 0 && (\r\n                                    <div className=\"p-4 text-center text-slate-500 text-sm\">\r\n                                        Nenhum produto encontrado.\r\n                                    </div>\r\n                                )}\r\n                                {safeProducts.filter((p) => p.name.toLowerCase().includes(searchQuery.toLowerCase())).length > 0 && (\r\n                                    <button\r\n                                        onClick={() => navigate(`/?busca=${encodeURIComponent(searchQuery)}`)}\r\n                                        className=\"w-full p-3 bg-slate-50 text-lyvest-600 text-sm font-bold hover:bg-lyvest-50 transition-colors text-center\"\r\n                                    >\r\n                                        Ver todos os resultados\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* A√É¬ß√É¬µes (Direita) */}\r\n                    <div className=\"flex items-center gap-1 sm:gap-2 lg:gap-4\">\r\n\r\n                        {/* Rastreio */}\r\n                        <button\r\n                            onClick={() => { openDrawer('tracking'); setIsMobileMenuOpen(false); }}\r\n                            className=\"p-2 sm:p-2.5 hover:bg-lyvest-100/30 rounded-full transition-colors text-lyvest-500 hover:text-lyvest-600 touch-target\"\r\n                            title={t('nav.tracking')}\r\n                            aria-label={t('aria.trackOrder')}\r\n                        >\r\n                            <PackageSearch className=\"w-5 h-5 sm:w-6 sm:h-6\" />\r\n                        </button>\r\n\r\n                        {/* Favoritos */}\r\n                        <button\r\n                            onClick={() => { openDrawer('favorites'); setIsMobileMenuOpen(false); }}\r\n                            className=\"relative p-2 sm:p-2.5 rounded-full transition-colors touch-target hover:bg-lyvest-100/30 text-lyvest-500 hover:text-lyvest-600\"\r\n                            title={t('nav.favorites')}\r\n                            aria-label={t('aria.favoritesCount', { count: favorites.length })}\r\n                        >\r\n                            <Heart className={`w-5 h-5 sm:w-6 sm:h-6 ${favorites.length > 0 ? 'fill-lyvest-500 text-lyvest-500' : ''}`} />\r\n                            {favorites.length > 0 && (\r\n                                <span className=\"absolute -top-1 -right-1 bg-lyvest-500 text-white text-[10px] font-bold w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center rounded-full shadow-sm\">\r\n                                    {favorites.length}\r\n                                </span>\r\n                            )}\r\n                        </button>\r\n\r\n                        {/* Carrinho */}\r\n                        <button\r\n                            data-testid=\"cart-button\"\r\n                            onClick={() => { openDrawer('cart'); setIsMobileMenuOpen(false); }}\r\n                            className=\"relative p-2 sm:p-3 hover:bg-lyvest-100/30 rounded-full transition-colors group touch-target\"\r\n                            title={t('nav.cart')}\r\n                            aria-label={t('aria.cartCount', { count: cartCount })}\r\n                        >\r\n                            <ShoppingBag className=\"w-5 h-5 sm:w-7 sm:h-7 text-lyvest-500 group-hover:text-lyvest-600 transition-colors\" />\r\n                            {cartCount > 0 && (\r\n                                <span className=\"absolute -top-1 -right-1 bg-lyvest-500 text-white text-[10px] sm:text-xs font-bold w-4 h-4 sm:w-6 sm:h-6 flex items-center justify-center rounded-full shadow-sm animate-pulse\">\r\n                                    {cartCount}\r\n                                </span>\r\n                            )}\r\n                        </button>\r\n\r\n                        {isLoggedIn && currentUser ? (\r\n                            <button\r\n                                onClick={navigateToDashboard}\r\n                                className=\"hidden lg:flex items-center gap-2 pl-1 pr-3 py-1 bg-white hover:bg-slate-50 rounded-full border border-slate-200 transition-all shadow-sm group\"\r\n                            >\r\n                                <img\r\n                                    src={getUserAvatar(currentUser)}\r\n                                    alt={currentUser.name || 'User'}\r\n                                    onError={(e) => {\r\n                                        const target = e.target as HTMLImageElement;\r\n                                        target.onerror = null;\r\n                                        target.src = getUserAvatar({ name: currentUser.name }); // Force regeneration\r\n                                    }}\r\n                                    className=\"w-8 h-8 rounded-full object-cover relative z-10 bg-white\"\r\n                                />\r\n                                <span className=\"text-sm font-bold text-slate-700 group-hover:text-lyvest-500 transition-colors\">\r\n                                    {currentUser.name}\r\n                                </span>\r\n                            </button>\r\n                        ) : (\r\n                            <div className=\"hidden lg:block\">\r\n                                <Button\r\n                                    onClick={() => openModal('login')}\r\n                                    variant=\"primary\"\r\n                                >\r\n                                    {t('nav.login')}\r\n                                </Button>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Seletor de Idioma (Desktop) */}\r\n                        <div className=\"hidden lg:flex items-center gap-2\">\r\n                            <LanguageSelector />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* --- MENU PRINCIPAL (Barra de Categorias) --- */}\r\n            {!isCheckout && (\r\n                <div className=\"hidden lg:block bg-lyvest-500\" dir=\"ltr\">\r\n                    <div className=\"container mx-auto px-4\">\r\n                        <nav aria-label={t('aria.mainMenu') || \"Menu principal\"}>\r\n                            <ul className=\"flex items-center justify-center gap-4 lg:gap-6 xl:gap-10 text-sm font-bold text-white py-2 tracking-wide\">\r\n                                {menuItems.map((item, index) => (\r\n                                    <li key={index} className=\"group relative cursor-pointer\">\r\n                                        <button\r\n                                            onClick={() => handleMenuClick(item)}\r\n                                            className={`flex items-center gap-1.5 hover:text-[#FFE4E1] transition-colors py-1 uppercase text-xs sm:text-sm\r\n                                                ${selectedCategory === item.category ? 'text-[#FFE4E1]' : ''}`}\r\n                                            aria-current={selectedCategory === item.category ? 'page' : undefined}\r\n                                        >\r\n                                            {t(item.translationKey) || item.label}\r\n                                            {item.subcategories && item.subcategories.length > 0 && (\r\n                                                <ChevronDown className=\"w-3.5 h-3.5 text-white group-hover:text-[#FFE4E1] transition-colors\" />\r\n                                            )}\r\n                                        </button>\r\n                                        {/* Active/Hover Line */}\r\n                                        <span className={`absolute bottom-0 left-0 h-0.5 bg-[#FFE4E1] transition-all duration-300 ${selectedCategory === item.category ? 'w-full' : 'w-0 group-hover:w-full'}`}></span>\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </nav>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </header>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\layout\\MobileMenu.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[984,987],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[984,987],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"Ôªøimport React from 'react';\r\nimport { useI18n } from '../../hooks/useI18n';\r\nimport LanguageSelector from '../features/LanguageSelector';\r\nimport { X, Search, ChevronRight, User } from 'lucide-react';\r\nimport { mainMenu } from '../../data/mockData';\r\n\r\nimport { useShop } from '../../context/ShopContext';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useShopNavigation } from '../../hooks/useShopNavigation';\r\n\r\ninterface MobileMenuProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    onOpenLogin: () => void;\r\n    navigateToDashboard: () => void;\r\n}\r\n\r\nexport default function MobileMenu({\r\n    isOpen,\r\n    onClose,\r\n    onOpenLogin,\r\n    navigateToDashboard\r\n}: MobileMenuProps) {\r\n    const { user, isAuthenticated: isLoggedIn } = useAuth();\r\n    const { searchQuery, setSearchQuery } = useShop();\r\n    const { handleMenuClick: baseHandleMenuClick } = useShopNavigation();\r\n\r\n    // Wrap handleMenuClick to close menu\r\n    const handleMenuClick = (item: any) => {\r\n        baseHandleMenuClick(item);\r\n        onClose();\r\n    };\r\n\r\n    const { t } = useI18n();\r\n\r\n    const [headerHeight, setHeaderHeight] = React.useState(0);\r\n\r\n    React.useEffect(() => {\r\n        const updateHeight = () => {\r\n            const header = document.querySelector('header');\r\n            if (header) {\r\n                setHeaderHeight(header.getBoundingClientRect().bottom);\r\n            }\r\n        };\r\n\r\n        updateHeight();\r\n        window.addEventListener('scroll', updateHeight);\r\n        window.addEventListener('resize', updateHeight);\r\n\r\n        return () => {\r\n            window.removeEventListener('scroll', updateHeight);\r\n            window.removeEventListener('resize', updateHeight);\r\n        };\r\n    }, []);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 z-40 lg:hidden transition-[top] duration-75 ease-out\"\r\n            style={{ top: `${headerHeight}px`, height: `calc(100vh - ${headerHeight}px)` }}\r\n            role=\"dialog\"\r\n            aria-modal=\"true\"\r\n            aria-label=\"Mobile navigation menu\"\r\n        >\r\n            <div className=\"absolute inset-0 bg-slate-900/50 backdrop-blur-sm\" onClick={onClose} onKeyDown={(e) => e.key === 'Escape' && onClose()} role=\"button\" tabIndex={0} aria-label=\"Fechar menu\" />\r\n            <div className=\"absolute top-0 left-0 h-full w-[65%] max-w-[280px] bg-white shadow-2xl pt-5 pb-6 pl-0 pr-4 flex flex-col overflow-y-auto overscroll-y-contain scroll-smooth safe-top safe-bottom\">\r\n                <div className=\"flex items-center justify-start mt-6 mb-6 w-full gap-4 pl-2\">\r\n                    <div className=\"flex items-center\">\r\n                        {/* Login Button / User Profile Replaces \"Menu\" Text */}\r\n                        {isLoggedIn ? (\r\n                            <button\r\n                                onClick={() => { onClose(); navigateToDashboard(); }}\r\n                                className=\"flex items-center gap-2 px-4 py-1.5 bg-[#800020] hover:bg-[#600018] text-white rounded-full transition-colors shadow-sm\"\r\n                            >\r\n                                <img\r\n                                    src={user?.avatar || `https://ui-avatars.com/api/?name=${user?.name}&background=random`}\r\n                                    alt={user?.name}\r\n                                    className=\"w-5 h-5 rounded-full object-cover border border-white/20\"\r\n                                />\r\n                                <span className=\"text-xs font-bold truncate max-w-[80px]\">{user?.name}</span>\r\n                            </button>\r\n                        ) : (\r\n                            <button\r\n                                onClick={() => { onClose(); onOpenLogin(); }}\r\n                                className=\"flex items-center gap-2 pr-4 py-1.5 bg-[#800020] text-white rounded-full font-bold shadow-sm hover:bg-[#600018] active:scale-95 transition-all text-xs whitespace-nowrap\"\r\n                            >\r\n                                <div className=\"pl-3 flex items-center gap-2\">\r\n                                    <User className=\"w-4 h-4\" />\r\n                                    {t('nav.login') || 'Entrar'}\r\n                                </div>\r\n                            </button>\r\n                        )}\r\n\r\n                        <div className=\"w-px h-6 bg-slate-200 mx-2\"></div> {/* Separator */}\r\n                        <LanguageSelector />\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-1.5 bg-slate-50 rounded-lg border border-slate-100 flex items-center justify-center flex-shrink-0\"\r\n                        aria-label={t('aria.closeMenu')}\r\n                    >\r\n                        <X className=\"w-3.5 h-3.5 text-slate-400\" />\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"mb-4 w-full pl-3\">\r\n                    <div className=\"relative flex items-center bg-white rounded-full border border-slate-300 h-[38px] focus-within:border-slate-500 transition-colors\">\r\n                        <Search className=\"w-4 h-4 text-slate-800 absolute left-3\" />\r\n                        <div className=\"w-px h-4 bg-slate-100 absolute left-9\"></div>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value.slice(0, 50))}\r\n                            placeholder=\"\"\r\n                            className=\"flex-1 bg-transparent border-none focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:!outline-none text-sm pl-12 pr-4 shadow-none appearance-none\"\r\n                            style={{ boxShadow: 'none' }} // Force removal of any shadow rings\r\n                        />\r\n                    </div>\r\n                </div>\r\n                {/* Navigation */}\r\n                <nav className=\"space-y-0.5 text-base font-medium text-slate-600 flex-1 w-full mt-3 pl-6\" role=\"navigation\" aria-label=\"Mobile menu navigation\">\r\n                    {mainMenu.map((item, index) => (\r\n                        <button key={index} onClick={() => handleMenuClick(item)} className=\"flex w-full items-center justify-start hover:text-lyvest-500 py-4 border-b border-slate-50 last:border-0 text-left transition-colors touch-target group\">\r\n                            <span className=\"text-left font-medium text-[16px] leading-none whitespace-nowrap flex-1\">{t(item.translationKey) || item.label}</span>\r\n                            <ChevronRight className={`w-3.5 h-3.5 text-slate-300 group-hover:text-lyvest-500 transition-transform flex-shrink-0 ${t('direction') === 'rtl' ? 'rotate-180' : ''}`} />\r\n                        </button>\r\n                    ))}\r\n                </nav>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\layout\\ModalManager.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":30,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1718,1721],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1718,1721],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":46,"column":17,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":46,"endColumn":98,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[2288,2369],"text":"// @ts-expect-error - RegisterModal prop types might be inferred incorrectly or missing"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":66,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3111,3114],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3111,3114],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":68,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3222,3225],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3222,3225],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"Ôªøimport { Suspense, lazy } from 'react';\r\nimport { useModal } from '../../hooks/useModal';\r\nimport { X } from 'lucide-react';\r\nimport { useI18n } from '../../hooks/useI18n';\r\nimport { useCart } from '../../hooks/useCart';\r\nimport LoadingSpinner from '../ui/LoadingSpinner';\r\n\r\n// Import Modals (Keep small modals static or lazy? Small ones are fine static)\r\nconst LoginModal = lazy(() => import('../modals/LoginModal'));\r\nconst RegisterModal = lazy(() => import('../modals/RegisterModal'));\r\n// const ForgotPasswordModal = lazy(() => import('../modals/ForgotPasswordModal')); // Missing\r\nconst ProductQuickView = lazy(() => import('../product/ProductQuickView'));\r\n// const NewsletterModal = lazy(() => import('../modals/NewsletterModal')); // Missing\r\n// const SizeGuideModal = lazy(() => import('../modals/SizeGuideModal')); // Missing\r\nconst ContactModal = lazy(() => import('../modals/ContactModal'));\r\nconst AboutModal = lazy(() => import('../modals/AboutModal'));\r\nconst PrivacyModal = lazy(() => import('../modals/PrivacyModal'));\r\nconst TermsModal = lazy(() => import('../modals/TermsModal'));\r\nconst ShippingModal = lazy(() => import('../modals/ShippingModal'));\r\nconst FaqModal = lazy(() => import('../modals/FaqModal'));\r\nconst AddedToCartModal = lazy(() => import('../modals/AddedToCartModal'));\r\n\r\n// Lazy load large components\r\n// ProductQuickView is already imported above\r\n// const ForgotPasswordModal = lazy(() => import('../modals/ForgotPasswordModal')); // Missing\r\n// const NewsletterModal = lazy(() => import('../modals/NewsletterModal')); // Missing\r\n// const SizeGuideModal = lazy(() => import('../modals/SizeGuideModal')); // Missing\r\n\r\ninterface ModalManagerProps {\r\n    onLoginSuccess: (user: any) => void;\r\n}\r\n\r\nexport default function ModalManager({ onLoginSuccess }: ModalManagerProps) {\r\n    const { activeModal, closeModal, modalData } = useModal();\r\n    const { t } = useI18n();\r\n    const { addToCart } = useCart();\r\n\r\n    if (!activeModal) return null;\r\n\r\n    const renderModalContent = () => {\r\n        switch (activeModal) {\r\n            case 'login':\r\n                return <LoginModal onLoginSuccess={onLoginSuccess} />;\r\n            // case 'forgotPassword': return <ForgotPasswordModal />; // Missing\r\n            case 'register':\r\n                // @ts-ignore - RegisterModal prop types might be inferred incorrectly or missing\r\n                return <RegisterModal onRegisterSuccess={onLoginSuccess} />;\r\n            case 'contact':\r\n                return <ContactModal />;\r\n            case 'about':\r\n                return <AboutModal />;\r\n            case 'privacy':\r\n                return <PrivacyModal />;\r\n            case 'terms':\r\n            case 'returns':\r\n                return <TermsModal />;\r\n            case 'shipping':\r\n                return <ShippingModal />;\r\n            case 'faq':\r\n                return <FaqModal />;\r\n            case 'addedToCart':\r\n                return <AddedToCartModal />;\r\n            case 'quickview':\r\n                return (\r\n                    <ProductQuickView\r\n                        product={modalData as any}\r\n                        onClose={closeModal}\r\n                        onAddToCart={(p) => addToCart(p as any)}\r\n                    />\r\n                );\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    // Special wrapper for Quick View (Product Details) to avoid standard modal wrapper if needed, \r\n    // OR just reuse the wrapper. ProductDetails usually has its own layout?\r\n    // In MainLayout, ProductDetails was wrapped in a div with backdrop.\r\n    // Here ModalManager wraps everything in a div with backdrop.\r\n    // BUT ProductDetails might trigger its own styles.\r\n    // MainLayout: <div className=\"fixed inset-0 ... bg-slate-900/40 backdrop-blur-sm ...\"> <ProductDetails ... /> </div>\r\n    // ModalManager: <div className=\"fixed inset-0 ... bg-slate-900/50 block ...\"> <div className=\"bg-white ...\"> {content} </div> </div>\r\n    // ProductDetails implies it is a full card.\r\n    // If I use the standard ModalManager wrapper (white rounded-3xl box), it might double wrap ProductDetails or constrain it.\r\n    // ProductDetails usually expects to be THE card.\r\n    // Let's check ProductDetails code if I can.\r\n    // Assuming ProductDetails is a full component.\r\n    // If activeModal is quickview, I might want a different wrapper or no wrapper (if ProductDetails handles it).\r\n    // MainLayout had a wrapper around ProductDetails.\r\n    // ModalManager has a wrapper around renderModalContent.\r\n    // The wrapper in ModalManager is \"max-w-md\". QuickView usually needs \"max-w-4xl\" or similar.\r\n    // I should adjust the wrapper width based on modal type.\r\n\r\n    const isQuickView = activeModal === 'quickview';\r\n    const isRegister = activeModal === 'register';\r\n    const isAddedToCart = activeModal === 'addedToCart';\r\n    const isDashboardModal = ['faq', 'shipping', 'terms', 'privacy', 'returns'].includes(activeModal);\r\n    const isContentModal = ['about', 'contact'].includes(activeModal);\r\n\r\n    let maxWidthClass = 'max-w-md';\r\n    if (isQuickView) maxWidthClass = 'max-w-4xl';\r\n    else if (isRegister) maxWidthClass = 'max-w-3xl';\r\n    else if (isAddedToCart) maxWidthClass = 'max-w-lg';\r\n    else if (isDashboardModal) maxWidthClass = 'max-w-[95vw] lg:max-w-6xl h-[85vh]'; // Fixed height for complex UIs\r\n    else if (isContentModal) maxWidthClass = 'max-w-[95vw] lg:max-w-7xl'; // Auto height for simple content pages\r\n\r\n\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-fade-in\"\r\n            role=\"dialog\"\r\n            aria-modal=\"true\"\r\n            aria-labelledby=\"modal-title\"\r\n        >\r\n            <div className={`bg-white rounded-3xl w-[95%] md:w-full ${maxWidthClass} max-h-[90vh] overflow-y-auto shadow-2xl relative animate-scale-up scrollbar-thin scrollbar-thumb-[#F5E6E8] scrollbar-track-transparent`}>\r\n                <button onClick={closeModal} className=\"absolute top-4 right-4 z-50 p-2 bg-slate-100 rounded-full hover:bg-slate-200 transition-colors cursor-pointer\" aria-label={t('aria.closeModal')}>\r\n                    <X className=\"w-5 h-5 text-slate-500\" />\r\n                </button>\r\n                <Suspense fallback={<div className=\"flex justify-center items-center h-64\"><LoadingSpinner /></div>}>\r\n                    {renderModalContent()}\r\n                </Suspense>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\layout\\ScrollToTop.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\layout\\SkipLinks.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\modals\\AboutModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\modals\\AddedToCartModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\modals\\ContactModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\modals\\FaqModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\modals\\LoginModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\modals\\PrivacyModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\modals\\RegisterModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\modals\\ShippingModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\modals\\TermsModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\FeaturedProducts.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":56,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1827,1830],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1827,1830],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"Ôªøimport ProductCard from './ProductCard';\r\nimport { productsData } from '../../data/mockData';\r\nimport { useI18n } from '../../hooks/useI18n';\r\nimport { Product } from '../../services/ProductService';\r\n\r\nconst FeaturedProducts: React.FC = () => {\r\n    const { t } = useI18n();\r\n\r\n    const sectionStyle: React.CSSProperties = {\r\n        padding: 'var(--spacing-lg) 0',\r\n        backgroundColor: 'var(--color-background)'\r\n    };\r\n\r\n    const containerStyle: React.CSSProperties = {\r\n        maxWidth: '1280px',\r\n        margin: '0 auto',\r\n        padding: '0 2rem'\r\n    };\r\n\r\n    const headerStyle: React.CSSProperties = {\r\n        textAlign: 'center',\r\n        marginBottom: 'var(--spacing-md)'\r\n    };\r\n\r\n    const titleStyle: React.CSSProperties = {\r\n        fontSize: '2.5rem',\r\n        fontWeight: '700',\r\n        color: 'var(--color-text)',\r\n        marginBottom: '1rem'\r\n    };\r\n\r\n    const subtitleStyle: React.CSSProperties = {\r\n        fontSize: '1.1rem',\r\n        color: 'var(--color-text-light)',\r\n        maxWidth: '600px',\r\n        margin: '0 auto'\r\n    };\r\n\r\n    const gridStyle: React.CSSProperties = {\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',\r\n        gap: '2rem',\r\n        marginTop: 'var(--spacing-md)'\r\n    };\r\n\r\n    return (\r\n        <section style={sectionStyle}>\r\n            <div style={containerStyle}>\r\n                <div style={headerStyle}>\r\n                    <h2 style={titleStyle}>{t('featured.title') || 'Nossos Favoritos'}</h2>\r\n                    <p style={subtitleStyle}>\r\n                        {t('featured.subtitle') || 'Pe√ßas escolhidas a dedo que combinam conforto, qualidade e estilo atemporal.'}\r\n                    </p>\r\n                </div>\r\n                <div style={gridStyle}>\r\n                    {(productsData as any[]).slice(0, 4).map((product) => (\r\n                        <ProductCard\r\n                            key={product.id}\r\n                            product={product as Product}\r\n                            isFavorite={false}\r\n                            onToggleFavorite={() => { }}\r\n                            onAddToCart={(qty: number) => console.log('Add to cart:', product.name, qty)}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default FeaturedProducts;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\ProductActions.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[433,436],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[433,436],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { Minus, Plus, Lock } from 'lucide-react';\r\nimport { useState } from 'react';\r\nimport SizeGuideModal from './SizeGuideModal';\r\n// Use Product from services/ProductService instead of local definition\r\nimport { Product } from '../../services/ProductService';\r\n\r\ninterface ProductActionsProps {\r\n    product: Product;\r\n    quantity: number;\r\n    setQuantity: (fn: (prev: number) => number) => void;\r\n    onAddToCart: (product: any) => void; // Using any for now to match flexible usage, or Product\r\n    onOpenVirtualFitting?: () => void;\r\n    shippingZip: string;\r\n    setShippingZip: (zip: string) => void;\r\n    t: (key: string) => string;\r\n    isRTL?: boolean;\r\n}\r\n\r\nexport function ProductActions({\r\n    product,\r\n    quantity,\r\n    setQuantity,\r\n    onAddToCart,\r\n    onOpenVirtualFitting,\r\n    shippingZip,\r\n    setShippingZip,\r\n    t,\r\n    isRTL = false\r\n}: ProductActionsProps) {\r\n\r\n    const [isGuideOpen, setIsGuideOpen] = useState(false);\r\n\r\n    const handleQuantityChange = (delta: number) => {\r\n        setQuantity(prev => Math.max(1, prev + delta));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* Buy Actions */}\r\n            <div className=\"flex flex-row gap-4 mt-2\">\r\n                {/* Quantity */}\r\n                <div className=\"flex items-center bg-slate-100 rounded-md h-12\">\r\n                    <button onClick={() => handleQuantityChange(-1)} className=\"px-4 h-full text-slate-500 hover:text-lyvest-600 transition-colors\" type=\"button\">\r\n                        <Minus className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <span className=\"w-10 text-center font-bold text-slate-800\">{quantity}</span>\r\n                    <button onClick={() => handleQuantityChange(1)} className=\"px-4 h-full text-slate-500 hover:text-lyvest-600 transition-colors\" type=\"button\">\r\n                        <Plus className=\"w-4 h-4\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Buy Button */}\r\n                <button\r\n                    data-testid=\"add-to-cart-button\"\r\n                    onClick={() => onAddToCart({ ...product, quantity })}\r\n                    className=\"px-8 bg-lyvest-600 text-white font-bold h-12 rounded-md hover:bg-lyvest-700 transition-colors shadow-md text-base uppercase tracking-wide\"\r\n                >\r\n                    {t('products.buy')}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Dois bot√µes lado a lado - estilo link */}\r\n            <div className=\"flex gap-4 text-xs text-slate-500 mt-4 items-center\">\r\n                {onOpenVirtualFitting && (\r\n                    <button\r\n                        onClick={onOpenVirtualFitting}\r\n                        className=\"flex items-center gap-1.5 hover:text-lyvest-600 transition-colors\"\r\n                    >\r\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                        </svg>\r\n                        <span>Descubra o seu tamanho</span>\r\n                    </button>\r\n                )}\r\n                <button\r\n                    onClick={() => setIsGuideOpen(true)}\r\n                    className=\"flex items-center gap-1.5 hover:text-lyvest-600 transition-colors\"\r\n                >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z\" />\r\n                    </svg>\r\n                    <span>Guia de tamanhos</span>\r\n                </button>\r\n            </div>\r\n\r\n            {/* Size Guide Modal */}\r\n            <SizeGuideModal\r\n                isOpen={isGuideOpen}\r\n                onClose={() => setIsGuideOpen(false)}\r\n                category={typeof product.category === 'string' ? product.category.toLowerCase() : 'lingerie'}\r\n            />\r\n\r\n            {/* Shipping Calculator */}\r\n            <div className=\"mt-6\">\r\n                <h3 className=\"text-lyvest-600 font-bold text-sm mb-2\">{t('products.shipping.title')}</h3>\r\n                <div className=\"flex gap-2 max-w-md\">\r\n                    <div className=\"relative flex-1\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={shippingZip}\r\n                            onChange={(e) => setShippingZip(e.target.value)}\r\n                            placeholder={t('products.shipping.placeholder')}\r\n                            className={`w-full border border-slate-300 rounded-md ${isRTL ? 'pr-4 pl-10' : 'pl-4 pr-10'} py-2.5 outline-none focus:border-lyvest-500 transition-colors text-sm`}\r\n                        />\r\n                        <Lock className={`w-4 h-4 text-green-500 absolute ${isRTL ? 'left-3' : 'right-3'} top-1/2 -translate-y-1/2`} />\r\n                    </div>\r\n                    <button className=\"px-6 py-2.5 border border-slate-300 text-slate-500 font-bold text-xs uppercase rounded-md hover:bg-slate-50 hover:text-slate-700 transition-colors\" type=\"button\">\r\n                        {t('products.shipping.calculate')}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\ProductCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\ProductCardSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\ProductDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\ProductDetailsSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\ProductGallery.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\ProductInfo.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[237,240],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[237,240],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { Product } from '../../services/ProductService'; // Correct import\r\n\r\ninterface ProductInfoProps {\r\n    product: Product;\r\n    productName: string;\r\n    formatCurrency: (value: number) => string;\r\n    t: (key: string, params?: any) => string;\r\n}\r\n\r\nexport function ProductInfo({ product, productName, formatCurrency, t }: ProductInfoProps) {\r\n    return (\r\n        <div>\r\n            <h1 className=\"text-3xl lg:text-4xl text-lyvest-600 font-normal mb-2 leading-tight\">\r\n                {productName}\r\n            </h1>\r\n            <p className=\"text-slate-500 text-sm\">\r\n                {t('products.brand')}: <span className=\"text-lyvest-500 font-bold\">Ly Vest</span>\r\n            </p>\r\n\r\n            <div className=\"h-px bg-slate-100 w-full my-6\" />\r\n\r\n            {/* Price */}\r\n            <div>\r\n                <span className=\"text-slate-400 line-through text-sm\">de: R$ {(product.price * 1.2).toFixed(2).replace('.', ',')}</span>\r\n                <div className=\"flex items-end gap-2 mb-1\">\r\n                    <span className=\"text-lg text-slate-800 font-bold mb-1\">{t('products.priceBy') || 'por:'}</span>\r\n                    <span className=\"text-4xl font-bold text-slate-900\">{formatCurrency(product.price)}</span>\r\n                </div>\r\n                <p className=\"text-lyvest-600 text-sm font-medium\">\r\n                    {t('products.installments', { installments: 3, amount: formatCurrency(product.price / 3) })}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\ProductQuickView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\ProductSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\ProductStructuredData.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\ProductTabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\ProductVideo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\product\\SizeGuideModal.tsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":2,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":65,"column":9,"nodeType":"JSXOpeningElement","endLine":65,"endColumn":132},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":2,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":65,"column":9,"nodeType":"JSXOpeningElement","endLine":65,"endColumn":132},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":2,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":66,"column":13,"nodeType":"JSXOpeningElement","endLine":69,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":2,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":66,"column":13,"nodeType":"JSXOpeningElement","endLine":69,"endColumn":14}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { X } from 'lucide-react';\r\nimport { createPortal } from 'react-dom';\r\n\r\ninterface SizeGuideModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    category?: string;\r\n}\r\n\r\nexport default function SizeGuideModal({ isOpen, onClose, category = 'lingerie' }: SizeGuideModalProps) {\r\n    if (!isOpen) return null;\r\n\r\n    // Tabelas de medidas por categoria\r\n    const sizeGuides = {\r\n        lingerie: {\r\n            title: 'Guia de Tamanhos - Lingerie',\r\n            columns: ['Tamanho', 'Busto (cm)', 'Cintura (cm)', 'Quadril (cm)'],\r\n            rows: [\r\n                ['PP', '78-82', '58-62', '84-88'],\r\n                ['P', '83-87', '63-67', '89-93'],\r\n                ['M', '88-92', '68-72', '94-98'],\r\n                ['G', '93-97', '73-77', '99-103'],\r\n                ['GG', '98-102', '78-82', '104-108'],\r\n                ['XG', '103-107', '83-87', '109-113']\r\n            ]\r\n        },\r\n        sutia: {\r\n            title: 'Guia de Tamanhos - Suti√£s',\r\n            columns: ['Tamanho', 'Busto (cm)', 'Baixo Busto (cm)', 'Numera√ß√£o'],\r\n            rows: [\r\n                ['PP', '78-82', '63-67', '38-40'],\r\n                ['P', '83-87', '68-72', '40-42'],\r\n                ['M', '88-92', '73-77', '42-44'],\r\n                ['G', '93-97', '78-82', '44-46'],\r\n                ['GG', '98-102', '83-87', '46-48']\r\n            ]\r\n        },\r\n        pijamas: {\r\n            title: 'Guia de Tamanhos - Pijamas',\r\n            columns: ['Tamanho', 'Busto/T√≥rax (cm)', 'Cintura (cm)', 'Quadril (cm)', 'Ombros (cm)'],\r\n            rows: [\r\n                ['PP', '78-82', '58-62', '84-88', '35-37'],\r\n                ['P', '83-87', '63-67', '89-93', '38-40'],\r\n                ['M', '88-92', '68-72', '94-98', '41-43'],\r\n                ['G', '93-97', '73-77', '99-103', '44-46'],\r\n                ['GG', '98-102', '78-82', '104-108', '47-49']\r\n            ]\r\n        },\r\n        meias: {\r\n            title: 'Guia de Tamanhos - Meias e Sapatilhas',\r\n            columns: ['Tamanho', 'Cal√ßado (BR)', 'Comprimento do P√© (cm)'],\r\n            rows: [\r\n                ['PP', '33-35', '21-22'],\r\n                ['P', '36-38', '23-24'],\r\n                ['M', '39-40', '25-26'],\r\n                ['G', '41-42', '27-28'],\r\n                ['GG', '43-44', '29-30']\r\n            ]\r\n        }\r\n    };\r\n\r\n    const currentGuide = sizeGuides[category as keyof typeof sizeGuides] || sizeGuides.lingerie;\r\n\r\n    const modalContent = (\r\n        <div className=\"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/50 animate-fade-in\" onClick={onClose}>\r\n            <div\r\n                className=\"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                {/* Header */}\r\n                <div className=\"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between rounded-t-2xl z-10\">\r\n                    <h2 className=\"text-2xl font-bold text-lyvest-600\">{currentGuide.title}</h2>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-2 hover:bg-slate-100 rounded-full transition-colors\"\r\n                    >\r\n                        <X className=\"w-6 h-6 text-slate-500\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"p-6\">\r\n                    {/* Dicas */}\r\n                    <div className=\"bg-lyvest-50 border border-lyvest-200 rounded-lg p-4 mb-6\">\r\n                        <h3 className=\"font-bold text-lyvest-700 mb-2 flex items-center gap-2\">\r\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                            </svg>\r\n                            Como medir\r\n                        </h3>\r\n                        <ul className=\"text-sm text-slate-600 space-y-1\">\r\n                            <li>‚Ä¢ Use uma fita m√©trica flex√≠vel</li>\r\n                            <li>‚Ä¢ Me√ßa sobre a pele ou roupa fina</li>\r\n                            <li>‚Ä¢ Mantenha a fita reta e paralela ao ch√£o</li>\r\n                            <li>‚Ä¢ N√£o aperte demais a fita</li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    {/* Tabela */}\r\n                    <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full border-collapse\">\r\n                            <thead>\r\n                                <tr className=\"bg-lyvest-600 text-white\">\r\n                                    {currentGuide.columns.map((col, idx) => (\r\n                                        <th key={idx} className=\"px-4 py-3 text-left font-bold text-sm uppercase tracking-wider\">\r\n                                            {col}\r\n                                        </th>\r\n                                    ))}\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {currentGuide.rows.map((row, rowIdx) => (\r\n                                    <tr\r\n                                        key={rowIdx}\r\n                                        className={`border-b border-slate-200 hover:bg-slate-50 transition-colors ${rowIdx % 2 === 0 ? 'bg-white' : 'bg-slate-50'}`}\r\n                                    >\r\n                                        {row.map((cell, cellIdx) => (\r\n                                            <td\r\n                                                key={cellIdx}\r\n                                                className={`px-4 py-3 ${cellIdx === 0 ? 'font-bold text-lyvest-600' : 'text-slate-700'}`}\r\n                                            >\r\n                                                {cell}\r\n                                            </td>\r\n                                        ))}\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                    {/* Footer Info */}\r\n                    <div className=\"mt-6 p-4 bg-slate-50 rounded-lg border border-slate-200\">\r\n                        <p className=\"text-sm text-slate-600\">\r\n                            <strong>D√∫vidas?</strong> Entre em contato com nossa equipe pelo WhatsApp ou use o <strong>Provador Virtual com IA</strong> para descobrir seu tamanho ideal automaticamente! ‚ú®\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return createPortal(modalContent, document.body);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\ui\\Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\ui\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\ui\\LazyImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\ui\\LoadingFallback.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\ui\\LoadingSpinner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\ui\\PageLoader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\ui\\ResponsiveImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\components\\ui\\Skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\config\\constants.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\context\\AuthContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[708,711],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[708,711],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[767,770],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[767,770],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\context\\AuthContext.tsx:100:21\n   98 |                 try {\n   99 |                     const parsed = JSON.parse(mockUser);\n> 100 |                     setUser(parsed);\n      |                     ^^^^^^^ Avoid calling setState() directly within an effect\n  101 |                     setProfile(parsed);\n  102 |                 } catch {\n  103 |                     // Ignorar erro de parse","line":100,"column":21,"nodeType":null,"endLine":100,"endColumn":28,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":287,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":287,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/context/AuthContext.tsx\r\n/* eslint-disable react-refresh/only-export-components, react-hooks/set-state-in-effect */\r\nimport { createContext, useContext, useState, useEffect, useCallback, useMemo, ReactNode } from 'react';\r\nimport { AuthError } from '@supabase/supabase-js';\r\nimport { supabase, isSupabaseConfigured } from '../lib/supabase';\r\n\r\ninterface Profile {\r\n    id: string;\r\n    full_name?: string;\r\n    phone?: string;\r\n    avatar?: string | null;\r\n    [key: string]: unknown;\r\n}\r\n\r\nexport interface User {\r\n    id: string;\r\n    email?: string;\r\n    name?: string;\r\n    avatar?: string;\r\n    user_metadata?: {\r\n        full_name?: string;\r\n        avatar_url?: string;\r\n        [key: string]: any;\r\n    };\r\n    app_metadata?: {\r\n        [key: string]: any;\r\n    };\r\n}\r\n\r\ninterface AuthResponse {\r\n    data: unknown;\r\n    error: AuthError | null | { message: string };\r\n}\r\n\r\ninterface AuthContextType {\r\n    user: User | null; // Using defined User type\r\n    profile: Profile | null;\r\n    loading: boolean;\r\n    isConfigured: boolean;\r\n    isAuthenticated: boolean;\r\n    signIn: (email: string, password: string) => Promise<AuthResponse>;\r\n    signUp: (email: string, password: string, metadata?: Record<string, unknown>) => Promise<AuthResponse>;\r\n    signInWithGoogle: () => Promise<AuthResponse>;\r\n    signOut: () => Promise<{ error: AuthError | null }>;\r\n    resetPassword: (email: string) => Promise<AuthResponse>;\r\n    updateProfile: (updates: Record<string, unknown>) => Promise<AuthResponse>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | null>(null);\r\n\r\ninterface AuthProviderProps {\r\n    children: ReactNode;\r\n}\r\n\r\nexport function AuthProvider({ children }: AuthProviderProps) {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [profile, setProfile] = useState<Profile | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isConfigured] = useState(isSupabaseConfigured);\r\n\r\n    // Buscar perfil do usu√°rio\r\n    const fetchProfile = useCallback(async (userId: string) => {\r\n        if (!isConfigured) return null;\r\n\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('profiles')\r\n                .select('*')\r\n                .eq('id', userId)\r\n                .single();\r\n\r\n            // C√≥digo PGRST116 = registro n√£o encontrado (normal para novos usu√°rios)\r\n            if (error && error.code !== 'PGRST116') {\r\n                // Ignorar erros de abort (causados pelo React StrictMode)\r\n                if (error.name === 'AbortError' || error.message?.includes('abort')) {\r\n                    return null;\r\n                }\r\n                console.warn('Aviso ao buscar perfil:', error.message);\r\n                return null;\r\n            }\r\n            return data;\r\n        } catch (err: unknown) {\r\n            // Ignorar erros de abort\r\n            if ((err as Error).name === 'AbortError' || (err as Error).message?.includes('abort')) {\r\n                return null;\r\n            }\r\n            console.warn('Aviso ao buscar perfil:', (err as Error).message);\r\n            return null;\r\n        }\r\n    }, [isConfigured]);\r\n\r\n    // Inicializar sess√£o\r\n    useEffect(() => {\r\n        if (!isConfigured) {\r\n            // Modo mock para desenvolvimento\r\n            const mockUser = localStorage.getItem('lyvest_mock_user');\r\n            if (mockUser) {\r\n                try {\r\n                    const parsed = JSON.parse(mockUser);\r\n                    setUser(parsed);\r\n                    setProfile(parsed);\r\n                } catch {\r\n                    // Ignorar erro de parse\r\n                }\r\n            }\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        // Verificar sess√£o existente\r\n        supabase.auth.getSession().then(({ data: { session } }) => {\r\n            setUser(session?.user ?? null);\r\n            if (session?.user) {\r\n                fetchProfile(session.user.id).then(setProfile);\r\n            }\r\n            setLoading(false);\r\n        });\r\n\r\n        // Escutar mudan√ßas de auth\r\n        const { data: { subscription } } = supabase.auth.onAuthStateChange(\r\n            async (_, session) => {\r\n                setUser(session?.user ?? null);\r\n                if (session?.user) {\r\n                    const profileData = await fetchProfile(session.user.id);\r\n                    setProfile(profileData);\r\n                } else {\r\n                    setProfile(null);\r\n                }\r\n                setLoading(false);\r\n            }\r\n        );\r\n\r\n        return () => subscription.unsubscribe();\r\n    }, [isConfigured, fetchProfile]);\r\n\r\n    // Login com email/senha\r\n    const signIn = useCallback(async (email: string, password: string): Promise<AuthResponse> => {\r\n        if (!isConfigured) {\r\n            // Modo mock\r\n            const mockUser = {\r\n                id: 'mock-user-id',\r\n                email,\r\n                name: email.split('@')[0],\r\n                avatar: undefined\r\n            };\r\n            localStorage.setItem('lyvest_mock_user', JSON.stringify(mockUser));\r\n            setUser(mockUser);\r\n            setProfile(mockUser);\r\n            return { data: { user: mockUser }, error: null };\r\n        }\r\n\r\n        try {\r\n            const { data, error } = await supabase.auth.signInWithPassword({\r\n                email,\r\n                password\r\n            });\r\n            return { data, error };\r\n        } catch (err: unknown) {\r\n            // Tratar erros de rede/abort\r\n            return {\r\n                data: null,\r\n                error: { message: (err as Error).message || 'Erro de conex√£o. Tente novamente.' }\r\n            };\r\n        }\r\n    }, [isConfigured]);\r\n\r\n    // Registro com email/senha\r\n    const signUp = useCallback(async (email: string, password: string, metadata: Record<string, unknown> = {}): Promise<AuthResponse> => {\r\n        if (!isConfigured) {\r\n            // Modo mock\r\n            const mockUser = {\r\n                id: 'mock-user-id',\r\n                email,\r\n                name: (metadata.full_name as string) || email.split('@')[0],\r\n                avatar: undefined\r\n            };\r\n            localStorage.setItem('lyvest_mock_user', JSON.stringify(mockUser));\r\n            setUser(mockUser);\r\n            setProfile(mockUser);\r\n            return { data: { user: mockUser }, error: null };\r\n        }\r\n\r\n        const { data, error } = await supabase.auth.signUp({\r\n            email,\r\n            password,\r\n            options: {\r\n                data: metadata\r\n            }\r\n        });\r\n\r\n        // Criar perfil inicial\r\n        if (data?.user && !error) {\r\n            await supabase.from('profiles').insert({\r\n                id: data.user.id,\r\n                full_name: metadata.full_name || '',\r\n                phone: metadata.phone || ''\r\n            });\r\n        }\r\n\r\n        return { data, error };\r\n    }, [isConfigured]);\r\n\r\n    // Login com Google\r\n    const signInWithGoogle = useCallback(async (): Promise<AuthResponse> => {\r\n        if (!isConfigured) {\r\n            return { data: null, error: { message: 'Supabase n√£o configurado' } };\r\n        }\r\n\r\n        const { data, error } = await supabase.auth.signInWithOAuth({\r\n            provider: 'google',\r\n            options: {\r\n                redirectTo: `${window.location.origin}/dashboard`\r\n            }\r\n        });\r\n        return { data, error };\r\n    }, [isConfigured]);\r\n\r\n    // Logout\r\n    const signOut = useCallback(async () => {\r\n        if (!isConfigured) {\r\n            localStorage.removeItem('lyvest_mock_user');\r\n            setUser(null);\r\n            setProfile(null);\r\n            return { error: null };\r\n        }\r\n\r\n        const { error } = await supabase.auth.signOut();\r\n        if (!error) {\r\n            setUser(null);\r\n            setProfile(null);\r\n        }\r\n        return { error };\r\n    }, [isConfigured]);\r\n\r\n    // Recuperar senha\r\n    const resetPassword = useCallback(async (email: string): Promise<AuthResponse> => {\r\n        if (!isConfigured) {\r\n            return { data: null, error: { message: 'Supabase n√£o configurado' } };\r\n        }\r\n\r\n        const { data, error } = await supabase.auth.resetPasswordForEmail(email, {\r\n            redirectTo: `${window.location.origin}/reset-password`\r\n        });\r\n        return { data, error };\r\n    }, [isConfigured]);\r\n\r\n    // Atualizar perfil\r\n    const updateProfile = useCallback(async (updates: Record<string, unknown>): Promise<AuthResponse> => {\r\n        if (!isConfigured || !user) {\r\n            return { data: null, error: { message: 'N√£o autenticado' } };\r\n        }\r\n\r\n        const { data, error } = await supabase\r\n            .from('profiles')\r\n            .upsert({ id: (user as { id: string }).id, ...updates })\r\n            .select()\r\n            .single();\r\n\r\n        if (!error && data) {\r\n            setProfile(data);\r\n        }\r\n\r\n        return { data, error };\r\n    }, [isConfigured, user]);\r\n\r\n    const value = useMemo(() => ({\r\n        user,\r\n        profile,\r\n        loading,\r\n        isConfigured,\r\n        isAuthenticated: Boolean(user),\r\n        signIn,\r\n        signUp,\r\n        signInWithGoogle,\r\n        signOut,\r\n        resetPassword,\r\n        updateProfile\r\n    }), [user, profile, loading, isConfigured, signIn, signUp, signInWithGoogle, signOut, resetPassword, updateProfile]);\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useAuth() {\r\n    const context = useContext(AuthContext);\r\n    if (!context) {\r\n        throw new Error('useAuth deve ser usado dentro de um AuthProvider');\r\n    }\r\n    return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\context\\CartContext.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'VALID_COUPONS'. Either include it or remove the dependency array.","line":161,"column":8,"nodeType":"ArrayExpression","endLine":161,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [VALID_COUPONS]","fix":{"range":[5376,5378],"text":"[VALID_COUPONS]"}}]}],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Move your React context(s) to a separate file.","line":37,"column":14,"nodeType":"Identifier","messageId":"reactContext","endLine":37,"endColumn":25,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":269,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":269,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable react-refresh/only-export-components */\r\n// src/context/CartContext.tsx\r\nimport React, { createContext, useState, useCallback, useMemo, useEffect, ReactNode } from 'react';\r\nimport { CART_CONFIG } from '../config/constants';\r\n\r\n// Interface para o item do carrinho\r\nexport interface CartItem {\r\n    id: number;\r\n    name: string;\r\n    price: number;\r\n    qty: number;\r\n    image: string;\r\n    category: string;\r\n}\r\n\r\n// Interface para o contexto\r\ninterface CartContextType {\r\n    cartItems: CartItem[];\r\n    addToCart: (product: Partial<CartItem>) => void;\r\n    removeFromCart: (id: number) => void;\r\n    updateQuantity: (id: number, qty: number) => void;\r\n    clearCart: () => void;\r\n    cartTotal: number;\r\n    cartCount: number;\r\n    // Coupon properties\r\n    couponCode: string | null;\r\n    discount: number;\r\n    discountAmount: number;\r\n    finalTotal: number;\r\n    applyCoupon: (code: string) => { success: boolean; message: string };\r\n    removeCoupon: () => void;\r\n    // Free shipping\r\n    freeShippingEligible: boolean;\r\n    freeShippingMinimum: number;\r\n}\r\n\r\nexport const CartContext = createContext<CartContextType | null>(null);\r\n\r\n// Usar constantes centralizadas\r\nconst CART_STORAGE_KEY = CART_CONFIG.STORAGE_KEY;\r\nconst CART_MAX_ITEMS = CART_CONFIG.MAX_ITEMS;\r\nconst CART_MAX_QUANTITY = CART_CONFIG.MAX_QUANTITY_PER_ITEM;\r\n\r\n/**\r\n * Valida estrutura de um item do carrinho\r\n * Previne inje√ß√£o de dados maliciosos via localStorage\r\n */\r\nfunction validateCartItem(item: unknown): CartItem | null {\r\n    if (!item || typeof item !== 'object') return null;\r\n    const i = item as Record<string, unknown>;\r\n\r\n    // Validar campos obrigat√≥rios\r\n    if (typeof i.id !== 'number' || i.id <= 0) return null;\r\n    if (typeof i.name !== 'string' || i.name.length === 0 || i.name.length > 200) return null;\r\n    if (typeof i.price !== 'number' || i.price < 0 || i.price > 100000) return null;\r\n    if (typeof i.qty !== 'number' || i.qty <= 0 || i.qty > CART_MAX_QUANTITY) return null;\r\n\r\n    // Sanitizar e retornar apenas campos necess√°rios\r\n    return {\r\n        id: Math.floor(i.id),\r\n        name: String(i.name).slice(0, 200).replace(/<[^>]*>/g, ''), // Remove HTML\r\n        price: Math.abs(Number(i.price)),\r\n        qty: Math.min(Math.floor(i.qty), CART_MAX_QUANTITY),\r\n        image: typeof i.image === 'string' ? i.image.slice(0, 500) : '',\r\n        category: typeof i.category === 'string' ? i.category.slice(0, 100) : ''\r\n    };\r\n}\r\n\r\n/**\r\n * Carrega e valida carrinho do localStorage\r\n */\r\nfunction loadCartFromStorage(): CartItem[] {\r\n    try {\r\n        const saved = localStorage.getItem(CART_STORAGE_KEY);\r\n        if (!saved) return [];\r\n\r\n        const parsed = JSON.parse(saved);\r\n\r\n        // Validar que √© um array\r\n        if (!Array.isArray(parsed)) return [];\r\n\r\n        // Validar cada item e limitar quantidade\r\n        const validItems = parsed\r\n            .slice(0, CART_MAX_ITEMS)\r\n            .map(validateCartItem)\r\n            .filter((item): item is CartItem => item !== null);\r\n\r\n        return validItems;\r\n    } catch {\r\n        // Se falhar, limpar dados corrompidos\r\n        localStorage.removeItem(CART_STORAGE_KEY);\r\n        return [];\r\n    }\r\n}\r\n\r\n/**\r\n * Salva carrinho no localStorage com valida√ß√£o\r\n */\r\nfunction saveCartToStorage(items: CartItem[]) {\r\n    try {\r\n        // Validar antes de salvar\r\n        const validItems = items\r\n            .slice(0, CART_MAX_ITEMS)\r\n            .map(validateCartItem)\r\n            .filter(Boolean);\r\n\r\n        localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(validItems));\r\n    } catch {\r\n        // Falha silenciosa (localStorage cheio, etc)\r\n    }\r\n}\r\n\r\ninterface CartProviderProps {\r\n    children: ReactNode;\r\n}\r\n\r\nexport const CartProvider = ({ children }: CartProviderProps) => {\r\n    // Inicializar do localStorage com valida√ß√£o\r\n    const [cartItems, setCartItems] = useState<CartItem[]>(loadCartFromStorage);\r\n\r\n    // Estado para cupons\r\n    const [couponCode, setCouponCode] = useState<string | null>(null);\r\n    const [discount, setDiscount] = useState(0);\r\n\r\n    // Persistir no localStorage quando mudar\r\n    useEffect(() => {\r\n        saveCartToStorage(cartItems);\r\n    }, [cartItems]);\r\n\r\n    // Cupons Mockados (Simula√ß√£o de Backend)\r\n    const VALID_COUPONS: Record<string, number> = {\r\n        'BEMVINDA10': 0.10,   // 10% off\r\n        'LYVEST2026': 0.15,   // 15% off\r\n        'PROMO5': 0.05,       // 5% off\r\n    };\r\n\r\n    // Constante de frete gr√°tis\r\n    const FREE_SHIPPING_MIN = 199;\r\n\r\n    const applyCoupon = useCallback((code: string): { success: boolean, message: string } => {\r\n        const normalizedCode = code.toUpperCase().trim();\r\n\r\n        if (!normalizedCode) {\r\n            return { success: false, message: 'Digite um c√≥digo v√°lido.' };\r\n        }\r\n\r\n        if (Object.prototype.hasOwnProperty.call(VALID_COUPONS, normalizedCode)) {\r\n            // Verificar regras (ex: m√≠nimo de compra) se necess√°rio\r\n            const discountPercent = VALID_COUPONS[normalizedCode];\r\n\r\n            setCouponCode(normalizedCode);\r\n            setDiscount(discountPercent);\r\n\r\n            return {\r\n                success: true,\r\n                message: `Cupom ${normalizedCode} aplicado! (${discountPercent * 100}% OFF)`\r\n            };\r\n        }\r\n\r\n        return { success: false, message: 'Cupom inv√°lido ou expirado.' };\r\n    }, []);\r\n\r\n    const removeCoupon = useCallback(() => {\r\n        setCouponCode(null);\r\n        setDiscount(0);\r\n    }, []);\r\n\r\n    const addToCart = useCallback((product: Partial<CartItem>) => {\r\n        // Validar produto antes de adicionar\r\n        // Usa a quantidade informada ou 1 se n√£o informada\r\n        const qtyToAdd = product.qty && typeof product.qty === 'number' && product.qty > 0 ? product.qty : 1;\r\n        const validProduct = validateCartItem({ ...product, qty: qtyToAdd });\r\n\r\n        if (!validProduct) return;\r\n\r\n        setCartItems((prev) => {\r\n            // Verificar limite de itens\r\n            if (prev.length >= CART_MAX_ITEMS) {\r\n                return prev;\r\n            }\r\n\r\n            const existing = prev.find((item) => item.id === validProduct.id);\r\n            if (existing) {\r\n                return prev.map((item) =>\r\n                    item.id === validProduct.id\r\n                        ? { ...item, qty: Math.min(item.qty + validProduct.qty, CART_MAX_QUANTITY) }\r\n                        : item\r\n                );\r\n            }\r\n            return [...prev, validProduct];\r\n        });\r\n    }, []);\r\n\r\n    const removeFromCart = useCallback((id: number) => {\r\n        if (typeof id !== 'number') return;\r\n        setCartItems((prev) => prev.filter((item) => item.id !== id));\r\n    }, []);\r\n\r\n    const updateQuantity = useCallback((id: number, qty: number) => {\r\n        if (typeof id !== 'number') return;\r\n        if (typeof qty !== 'number' || qty < 0) return;\r\n\r\n        setCartItems((prev) => {\r\n            if (qty <= 0) {\r\n                return prev.filter((item) => item.id !== id);\r\n            }\r\n            return prev.map((item) =>\r\n                item.id === id\r\n                    ? { ...item, qty: Math.min(Math.floor(qty), CART_MAX_QUANTITY) }\r\n                    : item\r\n            );\r\n        });\r\n    }, []);\r\n\r\n    const clearCart = useCallback(() => {\r\n        setCartItems([]);\r\n        setCouponCode(null);\r\n        setDiscount(0);\r\n    }, []);\r\n\r\n    const cartTotal = useMemo(\r\n        () => cartItems.reduce((acc, item) => acc + item.price * item.qty, 0),\r\n        [cartItems]\r\n    );\r\n\r\n    const discountAmount = useMemo(() => {\r\n        return cartTotal * discount;\r\n    }, [cartTotal, discount]);\r\n\r\n    const finalTotal = useMemo(() => {\r\n        return Math.max(0, cartTotal - discountAmount);\r\n    }, [cartTotal, discountAmount]);\r\n\r\n    const cartCount = useMemo(\r\n        () => cartItems.reduce((acc, item) => acc + item.qty, 0),\r\n        [cartItems]\r\n    );\r\n\r\n    // Verifica se √© eleg√≠vel para frete gr√°tis\r\n    const freeShippingEligible = useMemo(() => cartTotal >= FREE_SHIPPING_MIN, [cartTotal]);\r\n\r\n    return (\r\n        <CartContext.Provider\r\n            value={{\r\n                cartItems,\r\n                addToCart,\r\n                removeFromCart,\r\n                updateQuantity,\r\n                clearCart,\r\n                cartTotal,\r\n                cartCount,\r\n                // Coupon Props\r\n                couponCode,\r\n                discount,\r\n                discountAmount,\r\n                finalTotal,\r\n                applyCoupon,\r\n                removeCoupon,\r\n                // Free Shipping\r\n                freeShippingEligible,\r\n                freeShippingMinimum: FREE_SHIPPING_MIN\r\n            }}\r\n        >\r\n            {children}\r\n        </CartContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useCart = () => {\r\n    const context = React.useContext(CartContext);\r\n    if (!context) {\r\n        throw new Error('useCart deve ser usado dentro de um CartProvider');\r\n    }\r\n    return context;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\context\\FavoritesContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Move your React context(s) to a separate file.","line":17,"column":14,"nodeType":"Identifier","messageId":"reactContext","endLine":17,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":158,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":158,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\context\\I18nContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Move your React context(s) to a separate file.","line":19,"column":14,"nodeType":"Identifier","messageId":"reactContext","endLine":19,"endColumn":25,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":180,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":180,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\context\\ModalContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Move your React context(s) to a separate file.","line":28,"column":14,"nodeType":"Identifier","messageId":"reactContext","endLine":28,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":88,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":88,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\context\\ShopContext.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":39,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":39,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useState, useContext, ReactNode, useCallback } from 'react';\r\n\r\n// Define context shape\r\ninterface ShopContextType {\r\n    searchQuery: string;\r\n    setSearchQuery: (query: string) => void;\r\n    selectedCategory: string;\r\n    setSelectedCategory: (category: string) => void;\r\n    resetShopState: () => void;\r\n}\r\n\r\nconst ShopContext = createContext<ShopContextType | undefined>(undefined);\r\n\r\nexport const ShopProvider = ({ children }: { children: ReactNode }) => {\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [selectedCategory, setSelectedCategory] = useState('Todos');\r\n\r\n    const resetShopState = useCallback(() => {\r\n        setSearchQuery('');\r\n        setSelectedCategory('Todos');\r\n    }, []);\r\n\r\n    // Memoize value to prevent unnecessary re-renders\r\n    const value = React.useMemo(() => ({\r\n        searchQuery,\r\n        setSearchQuery,\r\n        selectedCategory,\r\n        setSelectedCategory,\r\n        resetShopState\r\n    }), [searchQuery, selectedCategory, resetShopState]);\r\n\r\n    return (\r\n        <ShopContext.Provider value={value}>\r\n            {children}\r\n        </ShopContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useShop = () => {\r\n    const context = useContext(ShopContext);\r\n    if (context === undefined) {\r\n        throw new Error('useShop must be used within a ShopProvider');\r\n    }\r\n    return context;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\context\\__tests__\\CartContext.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\context\\__tests__\\CartContext.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\context\\__tests__\\FavoritesContext.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\context\\__tests__\\I18nContext.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\context\\__tests__\\ModalContext.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\data\\legalData.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\data\\locales\\en-US.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\data\\locales\\es-ES.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\data\\locales\\pt-BR.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\data\\mockData.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\data\\sizeGuide.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\data\\translations.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\hooks\\__tests__\\useCart.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'beforeEach' is defined but never used.","line":1,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":42,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"beforeEach"},"fix":{"range":[29,41],"text":""},"desc":"Remove unused variable \"beforeEach\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { describe, it, expect, beforeEach } from 'vitest';\r\nimport { renderHook, act } from '@testing-library/react';\r\nimport { useCart } from '../../hooks/useCart';\r\nimport { CartProvider } from '../../context/CartContext';\r\n\r\n// Wrapper para provider\r\nconst wrapper = ({ children }: { children: React.ReactNode }) => (\r\n    <CartProvider>{children}</CartProvider>\r\n);\r\n\r\ndescribe('useCart Hook', () => {\r\n    describe('Adicionar e Remover Itens', () => {\r\n        it('deve adicionar item ao carrinho', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product = {\r\n                id: 1,\r\n                name: 'Calcinha Test',\r\n                price: 49.90,\r\n                image: '/test.jpg'\r\n            };\r\n\r\n            act(() => {\r\n                result.current.addToCart(product);\r\n            });\r\n\r\n            expect(result.current.cartItems).toHaveLength(1);\r\n            expect(result.current.cartCount).toBe(1);\r\n            expect(result.current.cartTotal).toBe(49.90);\r\n        });\r\n\r\n        it('deve incrementar quantidade se produto j√° existe', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product = {\r\n                id: 1,\r\n                name: 'Calcinha Test',\r\n                price: 49.90,\r\n                image: '/test.jpg'\r\n            };\r\n\r\n            act(() => {\r\n                result.current.addToCart(product);\r\n                result.current.addToCart(product);\r\n            });\r\n\r\n            expect(result.current.cartItems).toHaveLength(1);\r\n            expect(result.current.cartItems[0].qty).toBe(2);\r\n            expect(result.current.cartTotal).toBe(99.80);\r\n        });\r\n\r\n        it('deve remover item do carrinho', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product = {\r\n                id: 1,\r\n                name: 'Calcinha Test',\r\n                price: 49.90,\r\n                image: '/test.jpg'\r\n            };\r\n\r\n            act(() => {\r\n                result.current.addToCart(product);\r\n                result.current.removeFromCart(1);\r\n            });\r\n\r\n            expect(result.current.cartItems).toHaveLength(0);\r\n            expect(result.current.cartTotal).toBe(0);\r\n        });\r\n\r\n        it('deve limpar carrinho', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product1 = { id: 1, name: 'Item 1', price: 50, image: '/1.jpg' };\r\n            const product2 = { id: 2, name: 'Item 2', price: 75, image: '/2.jpg' };\r\n\r\n            act(() => {\r\n                result.current.addToCart(product1);\r\n                result.current.addToCart(product2);\r\n                result.current.clearCart();\r\n            });\r\n\r\n            expect(result.current.cartItems).toHaveLength(0);\r\n            expect(result.current.cartTotal).toBe(0);\r\n        });\r\n    });\r\n\r\n    describe('Cupons de Desconto', () => {\r\n        it('deve aplicar cupom BEMVINDA10 (10% off)', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product = { id: 1, name: 'Test', price: 100, image: '/test.jpg' };\r\n\r\n            act(() => {\r\n                result.current.addToCart(product);\r\n                result.current.applyCoupon('BEMVINDA10');\r\n            });\r\n\r\n            expect(result.current.discount).toBe(0.10);\r\n            expect(result.current.discountAmount).toBe(10);\r\n            expect(result.current.finalTotal).toBe(90);\r\n        });\r\n\r\n        it('deve aplicar cupom LYVEST2026 (15% off)', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product = { id: 1, name: 'Test', price: 200, image: '/test.jpg' };\r\n\r\n            act(() => {\r\n                result.current.addToCart(product);\r\n                result.current.applyCoupon('LYVEST2026');\r\n            });\r\n\r\n            expect(result.current.discount).toBe(0.15);\r\n            expect(result.current.discountAmount).toBe(30);\r\n            expect(result.current.finalTotal).toBe(170);\r\n        });\r\n\r\n        it('deve rejeitar cupom inv√°lido', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product = { id: 1, name: 'Test', price: 100, image: '/test.jpg' };\r\n\r\n            act(() => {\r\n                result.current.addToCart(product);\r\n            });\r\n\r\n            const resultCoupon = result.current.applyCoupon('INVALIDO');\r\n\r\n            expect(resultCoupon.success).toBe(false);\r\n            expect(resultCoupon.message).toContain('inv√°lido');\r\n            expect(result.current.discount).toBe(0);\r\n        });\r\n\r\n        it('deve remover cupom aplicado', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product = { id: 1, name: 'Test', price: 100, image: '/test.jpg' };\r\n\r\n            act(() => {\r\n                result.current.addToCart(product);\r\n                result.current.applyCoupon('PROMO5');\r\n                result.current.removeCoupon();\r\n            });\r\n\r\n            expect(result.current.couponCode).toBeNull();\r\n            expect(result.current.discount).toBe(0);\r\n            expect(result.current.finalTotal).toBe(100);\r\n        });\r\n    });\r\n\r\n    describe('Frete Gr√°tis (R$ 199)', () => {\r\n        it('deve indicar frete gr√°tis para carrinho >= R$ 199', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product = { id: 1, name: 'Test', price: 199, image: '/test.jpg' };\r\n\r\n            act(() => {\r\n                result.current.addToCart(product);\r\n            });\r\n\r\n            expect(result.current.freeShippingEligible).toBe(true);\r\n            expect(result.current.freeShippingMinimum).toBe(199);\r\n        });\r\n\r\n        it('N√ÉO deve indicar frete gr√°tis para carrinho < R$ 199', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product = { id: 1, name: 'Test', price: 150, image: '/test.jpg' };\r\n\r\n            act(() => {\r\n                result.current.addToCart(product);\r\n            });\r\n\r\n            expect(result.current.freeShippingEligible).toBe(false);\r\n        });\r\n\r\n        it('deve reavaliar frete gr√°tis ao adicionar/remover itens', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product1 = { id: 1, name: 'Item 1', price: 100, image: '/1.jpg' };\r\n            const product2 = { id: 2, name: 'Item 2', price: 100, image: '/2.jpg' };\r\n\r\n            // Adicionar item 1 (R$ 100) - Sem frete gr√°tis\r\n            act(() => {\r\n                result.current.addToCart(product1);\r\n            });\r\n            expect(result.current.freeShippingEligible).toBe(false);\r\n\r\n            // Adicionar item 2 (R$ 200 total) - Com frete gr√°tis\r\n            act(() => {\r\n                result.current.addToCart(product2);\r\n            });\r\n            expect(result.current.freeShippingEligible).toBe(true);\r\n\r\n            // Remover item 2 (R$ 100 total) - Sem frete gr√°tis novamente\r\n            act(() => {\r\n                result.current.removeFromCart(2);\r\n            });\r\n            expect(result.current.freeShippingEligible).toBe(false);\r\n        });\r\n    });\r\n\r\n    describe('Persist√™ncia em localStorage', () => {\r\n        it('deve persistir itens no localStorage', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product = { id: 1, name: 'Test', price: 50, image: '/test.jpg' };\r\n\r\n            act(() => {\r\n                result.current.addToCart(product);\r\n            });\r\n\r\n            // Verificar localStorage\r\n            const stored = localStorage.getItem('lyvest_cart');\r\n            expect(stored).toBeTruthy();\r\n\r\n            const parsed = JSON.parse(stored!);\r\n            expect(parsed).toHaveLength(1);\r\n            expect(parsed[0].id).toBe(1);\r\n        });\r\n    });\r\n\r\n    describe('Limites e Valida√ß√µes', () => {\r\n        it('deve respeitar quantidade m√°xima por item', () => {\r\n            const { result } = renderHook(() => useCart(), { wrapper });\r\n\r\n            const product = { id: 1, name: 'Test', price: 50, image: '/test.jpg' };\r\n\r\n            // Adicionar m√∫ltiplas vezes\r\n            act(() => {\r\n                for (let i = 0; i < 15; i++) {\r\n                    result.current.addToCart(product);\r\n                }\r\n            });\r\n\r\n            // Deve limitar a 10 (se houver valida√ß√£o)\r\n            // Ajustar expect baseado na l√≥gica do CartContext\r\n            expect(result.current.cartItems[0].qty).toBeLessThanOrEqual(10);\r\n        });\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\hooks\\__tests__\\useDebounce.test.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\hooks\\__tests__\\useFocusTrap.test.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\hooks\\useCart.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\hooks\\useDebounce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\hooks\\useFavorites.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\hooks\\useFocusTrap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\hooks\\useI18n.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\hooks\\useLocalStorage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\hooks\\useModal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\hooks\\useShopNavigation.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[421,424],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[421,424],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useNavigate } from 'react-router-dom';\r\nimport { useShop } from '../context/ShopContext';\r\nimport { useModal } from '../context/ModalContext';\r\nimport { generateSlug } from '../utils/slug';\r\n\r\nexport const useShopNavigation = () => {\r\n    const navigate = useNavigate();\r\n    const { setSelectedCategory, setSearchQuery } = useShop();\r\n    const { openModal } = useModal();\r\n\r\n    const handleMenuClick = (item: any) => {\r\n        if (item.action === 'reset') {\r\n            setSelectedCategory('Todos');\r\n            setSearchQuery('');\r\n            navigate('/');\r\n        } else if (item.action === 'filter') {\r\n            setSelectedCategory(item.category || item.label);\r\n            const slug = generateSlug(item.category || item.label);\r\n            navigate(`/categoria/${slug}`);\r\n        } else if (item.action === 'modal') {\r\n            openModal(item.modal);\r\n        }\r\n    };\r\n\r\n    return { handleMenuClick };\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\layouts\\MainLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\lib\\supabase.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\CategoryPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":50,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1942,1945],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1942,1945],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":54,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2193,2196],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2193,2196],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":144,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":144,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6086,6089],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6086,6089],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":145,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":145,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6146,6149],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6146,6149],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":160,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":160,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6747,6750],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6747,6750],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":161,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":161,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6807,6810],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6807,6810],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"Ôªø// Forced refresh\r\n\r\nimport { useMemo, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { productsData } from '../data/mockData';\r\nimport { generateSlug } from '../utils/slug';\r\nimport ProductCard from '../components/product/ProductCard';\r\nimport { useI18n } from '../hooks/useI18n';\r\nimport SEO from '../components/features/SEOComponent';\r\nimport { Home } from 'lucide-react';\r\nimport CategoryToolbar from '../components/CategoryToolbar';\r\nimport FilterSidebar from '../components/FilterSidebar';\r\nimport { useCart } from '../hooks/useCart';\r\nimport { useFavorites } from '../hooks/useFavorites';\r\nimport { useModal } from '../hooks/useModal';\r\n\r\nexport default function CategoryPage() {\r\n    const { slug } = useParams() as { slug: string };\r\n    const { t } = useI18n();\r\n    const { addToCart } = useCart();\r\n    const { favorites, toggleFavorite } = useFavorites();\r\n    const { openModal } = useModal();\r\n\r\n    // State for Toolbar & Filters\r\n    const [sortOption, setSortOption] = useState('relevance');\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n    const [filters, setFilters] = useState<{\r\n        minPrice: number;\r\n        maxPrice: number;\r\n        sizes: string[];\r\n        colors: string[];\r\n    }>({\r\n        minPrice: 0,\r\n        maxPrice: 1000,\r\n        sizes: [],\r\n        colors: []\r\n    });\r\n\r\n    // Encontrar a categoria baseada no slug\r\n    const categoryName = useMemo(() => {\r\n        const product = productsData.find(p => generateSlug(p.category) === slug);\r\n        return product ? product.category : null;\r\n    }, [slug]);\r\n\r\n    const displayTitle = categoryName || (slug ? slug.charAt(0).toUpperCase() + slug.slice(1).replace(/-/g, ' ') : '');\r\n\r\n    // Filter Logic\r\n    const { filteredAndSortedProducts, availableColors, availableSizes, priceRange } = useMemo(() => {\r\n        // 1. Base Category Filtering\r\n        let result = (productsData as any[]).filter(product => generateSlug(product.category) === slug);\r\n\r\n        // Calculate available distinct options and price range based on current category\r\n        const allSizes = new Set<string>();\r\n        const allColorsMap = new Map<string, any>();\r\n        let minPrice = Infinity;\r\n        let maxPrice = -Infinity;\r\n\r\n        result.forEach(p => {\r\n            // Sizes\r\n            if (p.sizes) p.sizes.forEach((s: string) => allSizes.add(s));\r\n            // Colors\r\n            if (p.colors) p.colors.forEach((c: { name: string }) => allColorsMap.set(c.name, c));\r\n            // Prices\r\n            if (p.price < minPrice) minPrice = p.price;\r\n            if (p.price > maxPrice) maxPrice = p.price;\r\n        });\r\n\r\n        // 2. Apply Sidebar Filters\r\n        // Price Range Filter\r\n        if (filters.maxPrice < 1000 || filters.minPrice > 0) {\r\n            result = result.filter(p => p.price >= filters.minPrice && p.price <= filters.maxPrice);\r\n        }\r\n\r\n        if (filters.sizes.length > 0) {\r\n            result = result.filter(p => p.sizes && p.sizes.some((s: string) => filters.sizes.includes(s)));\r\n        }\r\n\r\n        if (filters.colors.length > 0) {\r\n            result = result.filter(p => p.colors && p.colors.some((c: { name: string }) => filters.colors.includes(c.name)));\r\n        }\r\n\r\n        // 3. Apply Sorting\r\n        result = result.sort((a, b) => {\r\n            switch (sortOption) {\r\n                case 'price-asc': return a.price - b.price;\r\n                case 'price-desc': return b.price - a.price;\r\n                case 'name-asc': return a.name.localeCompare(b.name);\r\n                default: return 0; // relevance\r\n            }\r\n        });\r\n\r\n        return {\r\n            filteredAndSortedProducts: result,\r\n            availableColors: Array.from(allColorsMap.values()),\r\n            availableSizes: Array.from(allSizes).sort(),\r\n            priceRange: { min: Math.floor(minPrice), max: Math.ceil(maxPrice) }\r\n        };\r\n    }, [slug, sortOption, filters]);\r\n\r\n    // Check if category exists (conceptually)\r\n    const hasCategoryProducts = productsData.some(p => generateSlug(p.category) === slug);\r\n\r\n    if (!hasCategoryProducts) {\r\n        return (\r\n            <div className=\"container mx-auto px-4 py-16 text-center\">\r\n                <SEO\r\n                    title={`${displayTitle} | Ly Vest`}\r\n                    description={`Produtos da categoria ${displayTitle}`}\r\n                />\r\n                <h1 className=\"text-3xl font-bold text-slate-800 mb-4\">{t('common.categoryNotFound') || 'Categoria n√É¬£o encontrada'}</h1>\r\n                <p className=\"text-slate-600 mb-8\">{t('common.noProductsInCategory') || 'N√É¬£o encontramos produtos nesta categoria.'}</p>\r\n                <Link to=\"/\" className=\"inline-flex items-center gap-2 text-lyvest-500 hover:text-lyvest-600 font-medium\">\r\n                    <Home className=\"w-5 h-5\" />\r\n                    {t('common.backToHome') || 'Voltar para o in√É¬≠cio'}\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-50 pb-20\">\r\n            <SEO\r\n                title={`${displayTitle} | Ly Vest`}\r\n                description={`Confira nossa sele√É¬ß√É¬£o de ${displayTitle}. Produtos exclusivos de moda feminina.`}\r\n                product={filteredAndSortedProducts}\r\n                type=\"category\"\r\n            />\r\n\r\n            {/* Toolbar with Breadcrumbs integrated */}\r\n            <CategoryToolbar\r\n                categoryTitle={displayTitle}\r\n                sortOption={sortOption}\r\n                onSortChange={setSortOption}\r\n                onOpenFilters={() => setIsSidebarOpen(!isSidebarOpen)}\r\n            />\r\n\r\n            {/* Mobile Filter Panel - Dropdown below toolbar */}\r\n            <div className=\"container mx-auto px-4 lg:hidden relative\">\r\n                <FilterSidebar\r\n                    filters={filters}\r\n                    setFilters={setFilters}\r\n                    isOpen={isSidebarOpen}\r\n                    onClose={() => setIsSidebarOpen(false)}\r\n                    availableColors={availableColors as any}\r\n                    availableSizes={availableSizes as any}\r\n                    priceRange={priceRange.min === Infinity ? { min: 0, max: 1000 } : priceRange}\r\n                    variant=\"mobile\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"container mx-auto px-4 mt-8 flex flex-col lg:flex-row gap-8\">\r\n\r\n\r\n                {/* Sidebar de Filtros */}\r\n                <FilterSidebar\r\n                    filters={filters}\r\n                    setFilters={setFilters}\r\n                    isOpen={isSidebarOpen}\r\n                    onClose={() => setIsSidebarOpen(false)}\r\n                    availableColors={availableColors as any}\r\n                    availableSizes={availableSizes as any}\r\n                    priceRange={priceRange.min === Infinity ? { min: 0, max: 1000 } : priceRange}\r\n                />\r\n\r\n                {/* Grid de Produtos */}\r\n                <div className=\"flex-1\">\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6 md:gap-8\">\r\n                        {filteredAndSortedProducts.map(product => (\r\n                            <ProductCard\r\n                                key={product.id}\r\n                                product={product}\r\n                                isFavorite={favorites.includes(product.id)}\r\n                                onToggleFavorite={(e: React.MouseEvent) => toggleFavorite(e, product.id)}\r\n                                onAddToCart={(qty: number) => {\r\n                                    addToCart({ ...product, qty: qty || 1 });\r\n                                    openModal('addedToCart', { ...product, qty: qty || 1 });\r\n                                }}\r\n                                onQuickView={() => openModal('quickview', product)}\r\n                            />\r\n                        ))}\r\n\r\n                        {filteredAndSortedProducts.length === 0 && (\r\n                            <div className=\"col-span-full py-12 text-center text-slate-500 bg-white rounded-2xl border border-slate-100 shadow-sm p-10\">\r\n                                <span className=\"text-4xl mb-4 block\">√∞≈∏‚Äù¬ç</span>\r\n                                <h3 className=\"text-xl font-bold text-slate-700 mb-2\">Nenhum produto encontrado</h3>\r\n                                <p className=\"text-slate-500\">Tente ajustar os filtros para encontrar o que procura.</p>\r\n                                <button\r\n                                    onClick={() => setFilters({ minPrice: 0, maxPrice: 1000, sizes: [], colors: [] })}\r\n                                    className=\"mt-4 text-lyvest-500 font-bold hover:underline\"\r\n                                >\r\n                                    Limpar Filtros\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\CheckoutPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\DashboardPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":49,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1820,1823],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1820,1823],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":50,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1929,1932],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1929,1932],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"Ôªø\r\n\r\nimport { useNavigate, useOutletContext } from 'react-router-dom';\r\nimport UserDashboard from '../components/dashboard/UserDashboard';\r\nimport SEO from '../components/features/SEOComponent';\r\nimport { mockOrders } from '../data/mockData';\r\nimport { useI18n } from '../hooks/useI18n';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\ninterface GlobalContextType {\r\n    setActiveDrawer: (drawerId: string) => void;\r\n    setTrackingCode: (code: string) => void;\r\n}\r\n\r\nexport default function DashboardPage() {\r\n    const navigate = useNavigate();\r\n    const { t } = useI18n();\r\n    const { user, profile, signOut } = useAuth();\r\n    const { setActiveDrawer, setTrackingCode } = useOutletContext<GlobalContextType>();\r\n\r\n    const handleTrackOrder = (code: string) => {\r\n        setTrackingCode(code);\r\n        setActiveDrawer('tracking');\r\n    };\r\n\r\n    const handleLogout = async () => {\r\n        await signOut();\r\n        navigate('/');\r\n    };\r\n\r\n    // Criar objeto de usu√É¬°rio para UserDashboard\r\n    const dashboardUser = {\r\n        id: user?.id || 'mock-id',\r\n        name: profile?.full_name || user?.user_metadata?.full_name || (user?.email ? user.email.split('@')[0] : 'U') || 'Usu√É¬°rio',\r\n        email: user?.email || 'usuario@email.com',\r\n        avatar: (profile?.avatar_url || user?.user_metadata?.avatar_url || `https://ui-avatars.com/api/?name=${encodeURIComponent(user?.email || 'U')}&background=FF1493&color=fff&bold=true`) as string,\r\n        phone: profile?.phone || '',\r\n        cpf: profile?.cpf || '',\r\n        birthDate: profile?.birth_date || '',\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <SEO\r\n                title={t('dashboard.title')}\r\n                description={t('dashboard.description')}\r\n            />\r\n            <UserDashboard\r\n                user={dashboardUser as any} // Cast to any to avoid strict type mismatch with User interface\r\n                orders={mockOrders as any} // Cast to any to avoid strict enum mismatch with PaymentMethod\r\n                onTrackOrder={handleTrackOrder}\r\n                onLogout={handleLogout}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\HomePage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\NotFoundPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\ProductPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":82,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3129,3132],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3129,3132],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"Ôªøimport { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { supabase } from '../lib/supabase';\r\nimport ProductDetails from '../components/product/ProductDetails';\r\nimport { useCart } from '../hooks/useCart';\r\nimport { useModal } from '../hooks/useModal';\r\nimport SEO from '../components/features/SEOComponent';\r\nimport Breadcrumbs from '../components/Breadcrumbs';\r\nimport ProductDetailsSkeleton from '../components/product/ProductDetailsSkeleton';\r\nimport { productsData } from '../data/mockData';\r\nimport { generateSlug } from '../utils/slug';\r\nimport { CartItem } from '../context/CartContext';\r\nimport { Product } from '../services/ProductService';\r\nimport VirtualFitting from '../components/features/VirtualFitting';\r\n\r\nexport default function ProductPage() {\r\n    const { slug } = useParams();\r\n    const { addToCart } = useCart();\r\n    const { openModal } = useModal();\r\n    const [product, setProduct] = useState<Product | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isVirtualFittingOpen, setIsVirtualFittingOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        async function loadProduct() {\r\n            if (!slug) return;\r\n            setLoading(true);\r\n\r\n            // 1. Try to find by slug in Supabase\r\n            const { data, error } = await supabase\r\n                .from('products')\r\n                .select('*')\r\n                .eq('slug', slug)\r\n                .single();\r\n\r\n            if (data) {\r\n                setProduct(data);\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            // 2. Fallback: Try to find by name (slugified) in mockData\r\n            const mockProduct = productsData.find(p => generateSlug(p.name) === slug);\r\n\r\n            if (mockProduct) {\r\n                setProduct(mockProduct);\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            // 3. Not found\r\n            console.error('Product not found in Supabase or Mock Data:', error);\r\n            setLoading(false);\r\n            // Don't auto-redirect to 404 here to avoid flickering if it's just slow, \r\n            // but if loading is done and no product, we render 404 or redirect.\r\n        }\r\n\r\n        loadProduct();\r\n    }, [slug]);\r\n\r\n    const getCategoryName = (p: Product) => {\r\n        if (typeof p.category === 'string') return p.category;\r\n        if (Array.isArray(p.category)) return p.category[0]?.name || 'Departamento';\r\n        return p.category?.name || 'Departamento';\r\n    };\r\n\r\n    const getCategorySlug = (p: Product) => {\r\n        if (typeof p.category === 'string') return p.category; // Or slugify string\r\n        if (Array.isArray(p.category)) return p.category[0]?.slug || 'todos';\r\n        return p.category?.slug || 'todos';\r\n    };\r\n\r\n    const mapProductToCartItem = (p: Product): Partial<CartItem> => ({\r\n        id: p.id,\r\n        name: p.name,\r\n        price: p.price,\r\n        image: Array.isArray(p.image) ? p.image[0] : p.image,\r\n        category: getCategoryName(p),\r\n        qty: 1\r\n    });\r\n\r\n    const handleAddToCart = (item: any) => {\r\n        // If item comes from ProductDetails, it might be constructed there. \r\n        // We pass it through. Ideally ProductDetails should be typed too.\r\n        addToCart(item);\r\n        openModal('addedToCart', item);\r\n    };\r\n\r\n    const handleSizeSelected = () => {\r\n        if (product) {\r\n            // Adicionar produto ao carrinho quando selecionado via IA\r\n            const cartItem = mapProductToCartItem(product);\r\n            addToCart(cartItem);\r\n            openModal('addedToCart', product); // We notify with full product info\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return <ProductDetailsSkeleton />;\r\n    }\r\n\r\n    if (!product) {\r\n        // Redirect or show not found\r\n        // navigate('/404', { replace: true });\r\n        // return null;\r\n        return <div className=\"text-center p-20\">Produto n√£o encontrado.</div>;\r\n    }\r\n\r\n    const breadcrumbItems = [\r\n        { label: getCategoryName(product), link: `/categoria/${getCategorySlug(product)}` },\r\n        { label: product.name }\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <SEO\r\n                title={product.name}\r\n                description={product.description}\r\n                image={Array.isArray(product.image) ? product.image[0] : product.image}\r\n                product={product}\r\n                type=\"product\"\r\n                breadcrumbs={breadcrumbItems}\r\n            />\r\n            <div className=\"min-h-screen bg-white md:bg-slate-50 animate-fade-in relative z-10 w-full\">\r\n                <div className=\"container mx-auto px-4 py-2 md:py-3\">\r\n                    <Breadcrumbs\r\n                        items={breadcrumbItems}\r\n                    />\r\n                </div>\r\n                <div className=\"w-full\">\r\n                    <ProductDetails\r\n                        product={product}\r\n                        onAddToCart={handleAddToCart}\r\n                        onOpenVirtualFitting={() => setIsVirtualFittingOpen(true)}\r\n                    />\r\n                </div>\r\n\r\n                {/* Provador Virtual com IA */}\r\n                <VirtualFitting\r\n                    isOpen={isVirtualFittingOpen}\r\n                    onClose={() => setIsVirtualFittingOpen(false)}\r\n                    product={product}\r\n                    onSizeSelected={handleSizeSelected}\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\__tests__\\HomePage.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\__tests__\\NotFoundPage.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\__tests__\\ProductPage.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\admin\\AffiliatesPage.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\admin\\AffiliatesPage.tsx:40:9\n  38 |\n  39 |     useEffect(() => {\n> 40 |         fetchAffiliates();\n     |         ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  41 |     }, []);\n  42 |\n  43 |     async function handleCreate(e: React.FormEvent) {","line":40,"column":9,"nodeType":null,"endLine":40,"endColumn":24},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":78,"column":25,"nodeType":"JSXOpeningElement","endLine":78,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":88,"column":25,"nodeType":"JSXOpeningElement","endLine":88,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":98,"column":25,"nodeType":"JSXOpeningElement","endLine":98,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":107,"column":25,"nodeType":"JSXOpeningElement","endLine":107,"endColumn":89}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState } from 'react';\r\nimport { supabase } from '../../lib/supabase';\r\n\r\ninterface Affiliate {\r\n    id: string;\r\n    name: string;\r\n    coupon_code: string;\r\n    commission_rate: number;\r\n    pix_key: string;\r\n    active: boolean;\r\n}\r\n\r\nexport default function AffiliatesPage() {\r\n    const [affiliates, setAffiliates] = useState<Affiliate[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        coupon_code: '',\r\n        commission_rate: 10,\r\n        pix_key: ''\r\n    });\r\n\r\n    async function fetchAffiliates() {\r\n        setLoading(true);\r\n        const { data, error } = await supabase\r\n            .from('affiliates')\r\n            .select('*')\r\n            .order('created_at', { ascending: false });\r\n\r\n        if (error) {\r\n            console.error('Error fetching affiliates:', error);\r\n            alert('Erro ao carregar afiliados. Verifique se voc√™ √© Admin.');\r\n        } else {\r\n            setAffiliates(data || []);\r\n        }\r\n        setLoading(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchAffiliates();\r\n    }, []);\r\n\r\n    async function handleCreate(e: React.FormEvent) {\r\n        e.preventDefault();\r\n\r\n        // Basic validation\r\n        if (!formData.name || !formData.coupon_code) return;\r\n\r\n        const { error } = await supabase\r\n            .from('affiliates')\r\n            .insert([{\r\n                name: formData.name,\r\n                coupon_code: formData.coupon_code.toUpperCase(),\r\n                commission_rate: formData.commission_rate,\r\n                pix_key: formData.pix_key\r\n            }]);\r\n\r\n        if (error) {\r\n            alert('Erro ao criar: ' + error.message);\r\n        } else {\r\n            alert('Afiliado criado com sucesso!');\r\n            setFormData({ name: '', coupon_code: '', commission_rate: 10, pix_key: '' });\r\n            fetchAffiliates();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mx-auto p-6 max-w-5xl\">\r\n            <h1 className=\"text-3xl font-bold mb-8 text-rose-900\">Gerenciamento de Afiliados</h1>\r\n\r\n            {/* Cadastro */}\r\n            <div className=\"bg-white p-6 rounded-lg shadow-md mb-10 border border-rose-100\">\r\n                <h2 className=\"text-xl font-semibold mb-4 flex items-center gap-2\">\r\n                    <span>‚ûï</span> Novo Parceiro\r\n                </h2>\r\n                <form onSubmit={handleCreate} className=\"grid grid-cols-1 md:grid-cols-4 gap-4 items-end\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Nome</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"w-full p-2 border rounded focus:ring-rose-500 focus:border-rose-500\"\r\n                            placeholder=\"Ex: Maria Blogueira\"\r\n                            value={formData.name}\r\n                            onChange={e => setFormData({ ...formData, name: e.target.value })}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Cupom (C√≥digo)</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"w-full p-2 border rounded uppercase focus:ring-rose-500 focus:border-rose-500\"\r\n                            placeholder=\"MARIA10\"\r\n                            value={formData.coupon_code}\r\n                            onChange={e => setFormData({ ...formData, coupon_code: e.target.value.toUpperCase() })}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Comiss√£o (%)</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            className=\"w-full p-2 border rounded focus:ring-rose-500 focus:border-rose-500\"\r\n                            value={formData.commission_rate}\r\n                            onChange={e => setFormData({ ...formData, commission_rate: Number(e.target.value) })}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Chave Pix</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"w-full p-2 border rounded focus:ring-rose-500 focus:border-rose-500\"\r\n                            placeholder=\"CPF ou E-mail\"\r\n                            value={formData.pix_key}\r\n                            onChange={e => setFormData({ ...formData, pix_key: e.target.value })}\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"bg-rose-600 text-white p-2 rounded hover:bg-rose-700 transition md:col-span-4 font-bold\"\r\n                    >\r\n                        Cadastrar Afiliado\r\n                    </button>\r\n                </form>\r\n            </div>\r\n\r\n            {/* Listagem */}\r\n            <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n                <table className=\"w-full text-left border-collapse\">\r\n                    <thead className=\"bg-rose-50\">\r\n                        <tr>\r\n                            <th className=\"p-4 border-b font-semibold text-rose-900\">Nome</th>\r\n                            <th className=\"p-4 border-b font-semibold text-rose-900\">Cupom</th>\r\n                            <th className=\"p-4 border-b font-semibold text-rose-900\">Comiss√£o</th>\r\n                            <th className=\"p-4 border-b font-semibold text-rose-900\">Pix</th>\r\n                            <th className=\"p-4 border-b font-semibold text-rose-900\">Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {loading ? (\r\n                            <tr><td colSpan={5} className=\"p-8 text-center text-gray-500\">Carregando...</td></tr>\r\n                        ) : affiliates.length === 0 ? (\r\n                            <tr><td colSpan={5} className=\"p-8 text-center text-gray-500\">Nenhum afiliado cadastrado.</td></tr>\r\n                        ) : (\r\n                            affiliates.map(aff => (\r\n                                <tr key={aff.id} className=\"hover:bg-gray-50 border-b last:border-0\">\r\n                                    <td className=\"p-4 font-medium\">{aff.name}</td>\r\n                                    <td className=\"p-4\"><span className=\"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-mono\">{aff.coupon_code}</span></td>\r\n                                    <td className=\"p-4\">{aff.commission_rate}%</td>\r\n                                    <td className=\"p-4 text-sm text-gray-600\">{aff.pix_key || '-'}</td>\r\n                                    <td className=\"p-4\">\r\n                                        <span className={`px-2 py-1 rounded text-xs font-bold ${aff.active ? 'bg-blue-100 text-blue-800' : 'bg-red-100 text-red-800'}`}>\r\n                                            {aff.active ? 'ATIVO' : 'INATIVO'}\r\n                                        </span>\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\affiliate\\DashboardPage.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`loadData` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\affiliate\\DashboardPage.tsx:28:9\n  26 |\n  27 |     useEffect(() => {\n> 28 |         loadData();\n     |         ^^^^^^^^ `loadData` accessed before it is declared\n  29 |     }, []);\n  30 |\n  31 |     async function loadData() {\n\nC:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\pages\\affiliate\\DashboardPage.tsx:31:5\n  29 |     }, []);\n  30 |\n> 31 |     async function loadData() {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 32 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 33 |         const { data: { user } } = await supabase.auth.getUser();\n     ‚Ä¶\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 69 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 70 |     }\n     | ^^^^^^ `loadData` is declared here\n  71 |\n  72 |     const stats = useMemo(() => {\n  73 |         return {","line":28,"column":9,"nodeType":null,"endLine":28,"endColumn":17},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadData'. Either include it or remove the dependency array.","line":29,"column":8,"nodeType":"ArrayExpression","endLine":29,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [loadData]","fix":{"range":[836,838],"text":"[loadData]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState, useMemo } from 'react';\r\nimport { supabase } from '../../lib/supabase';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\ninterface Commission {\r\n    id: string;\r\n    order_id: string;\r\n    amount: number;\r\n    status: 'pending' | 'available' | 'paid' | 'cancelled';\r\n    order_total: number;\r\n    created_at: string;\r\n    maturation_date: string;\r\n}\r\n\r\ninterface AffiliateProfile {\r\n    name: string;\r\n    coupon_code: string;\r\n    commission_rate: number;\r\n}\r\n\r\nexport default function AffiliateDashboardPage() {\r\n    const [commissions, setCommissions] = useState<Commission[]>([]);\r\n    const [profile, setProfile] = useState<AffiliateProfile | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        loadData();\r\n    }, []);\r\n\r\n    async function loadData() {\r\n        setLoading(true);\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n\r\n        if (!user) {\r\n            navigate('/auth'); // Redirect to login if not authenticated\r\n            return;\r\n        }\r\n\r\n        // 1. Get Affiliate Profile\r\n        const { data: affData, error: affError } = await supabase\r\n            .from('affiliates')\r\n            .select('name, coupon_code, commission_rate')\r\n            .eq('user_id', user.id)\r\n            .single();\r\n\r\n        if (affError || !affData) {\r\n            // Not an affiliate or error\r\n            console.error('Affiliate profile not found:', affError);\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        setProfile(affData);\r\n\r\n        // 2. Get Commissions using the RLS policy (filtered by affiliate_id implicitly via subquery or direct logic if set up)\r\n        // Note: The RLS policy we created: \"Affiliate View Own Commissions\" checks \"affiliate_id IN (SELECT id FROM affiliates WHERE user_id = auth.uid())\"\r\n        // So we can simple select * from commissions\r\n        const { data: commData, error: commError } = await supabase\r\n            .from('commissions')\r\n            .select('*')\r\n            .order('created_at', { ascending: false });\r\n\r\n        if (commError) {\r\n            console.error('Error loading commissions:', commError);\r\n        } else {\r\n            setCommissions(commData || []);\r\n        }\r\n        setLoading(false);\r\n    }\r\n\r\n    const stats = useMemo(() => {\r\n        return {\r\n            pending: commissions.filter(c => c.status === 'pending').reduce((sum, c) => sum + c.amount, 0),\r\n            available: commissions.filter(c => c.status === 'available').reduce((sum, c) => sum + c.amount, 0),\r\n            paid: commissions.filter(c => c.status === 'paid').reduce((sum, c) => sum + c.amount, 0),\r\n            totalSales: commissions.reduce((sum, c) => c.status !== 'cancelled' ? sum + c.order_total : sum, 0)\r\n        };\r\n    }, [commissions]);\r\n\r\n    if (loading) return <div className=\"p-10 text-center\">Carregando painel...</div>;\r\n\r\n    if (!profile) {\r\n        return (\r\n            <div className=\"max-w-4xl mx-auto p-10 text-center\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">Voc√™ ainda n√£o √© um parceiro.</h2>\r\n                <p className=\"text-gray-600 mt-2\">Entre em contato conosco para se tornar um afiliado Ly Vest!</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mx-auto p-4 md:p-8 max-w-6xl\">\r\n            {/* Header / Banner */}\r\n            <div className=\"bg-gradient-to-r from-rose-600 to-pink-500 rounded-2xl p-8 text-white mb-8 shadow-lg\">\r\n                <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">Ol√°, {profile.name}! üëã</h1>\r\n                <p className=\"opacity-90 text-lg\">Bem-vinda ao seu Painel de Parceira Ly Vest.</p>\r\n\r\n                <div className=\"mt-6 bg-white/20 inline-block p-4 rounded-lg backdrop-blur-sm border border-white/30\">\r\n                    <p className=\"text-sm uppercase tracking-wide opacity-80 mb-1\">Seu Cupom Exclusivo</p>\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <span className=\"text-3xl font-mono font-bold\">{profile.coupon_code}</span>\r\n                        <button\r\n                            onClick={() => navigator.clipboard.writeText(profile.coupon_code)}\r\n                            className=\"bg-white text-rose-600 px-3 py-1 rounded text-sm font-bold hover:bg-gray-100 transition\"\r\n                        >\r\n                            Copiar\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Stats Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10\">\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-orange-100\">\r\n                    <p className=\"text-orange-600 font-medium mb-1\">Saldo Pendente</p>\r\n                    <h3 className=\"text-3xl font-bold text-gray-800\">{stats.pending.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</h3>\r\n                    <p className=\"text-xs text-gray-500 mt-2\">Libera 7 dias ap√≥s entrega</p>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-green-100 relative overflow-hidden\">\r\n                    <div className=\"absolute top-0 right-0 p-4 opacity-10 text-green-600\">\r\n                        <svg className=\"w-16 h-16\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path d=\"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z\"></path></svg>\r\n                    </div>\r\n                    <p className=\"text-green-600 font-medium mb-1\">Dispon√≠vel para Saque</p>\r\n                    <h3 className=\"text-3xl font-bold text-gray-800\">{stats.available.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</h3>\r\n                    {stats.available > 0 && (\r\n                        <button className=\"mt-3 bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 w-full\">\r\n                            Solicitar Saque\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-blue-100\">\r\n                    <p className=\"text-blue-600 font-medium mb-1\">J√° Recebido</p>\r\n                    <h3 className=\"text-3xl font-bold text-gray-800\">{stats.paid.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</h3>\r\n                    <p className=\"text-xs text-gray-500 mt-2\">Total de vendas: {stats.totalSales.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Extrato */}\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden\">\r\n                <div className=\"p-6 border-b border-gray-100\">\r\n                    <h3 className=\"font-bold text-lg text-gray-800\">Extrato de Comiss√µes</h3>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead className=\"bg-gray-50 text-gray-600 text-sm\">\r\n                            <tr>\r\n                                <th className=\"p-4 font-medium\">Data</th>\r\n                                <th className=\"p-4 font-medium\">Venda</th>\r\n                                <th className=\"p-4 font-medium\">Valor da Venda</th>\r\n                                <th className=\"p-4 font-medium\">Sua Comiss√£o</th>\r\n                                <th className=\"p-4 font-medium\">Status / Libera√ß√£o</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-gray-100\">\r\n                            {commissions.length === 0 ? (\r\n                                <tr>\r\n                                    <td colSpan={5} className=\"p-8 text-center text-gray-500\">Nenhuma venda registrada ainda.</td>\r\n                                </tr>\r\n                            ) : (\r\n                                commissions.map(comm => (\r\n                                    <tr key={comm.id} className=\"hover:bg-gray-50 transition\">\r\n                                        <td className=\"p-4 text-sm text-gray-600\">\r\n                                            {new Date(comm.created_at).toLocaleDateString('pt-BR')}\r\n                                        </td>\r\n                                        <td className=\"p-4 font-mono text-xs text-gray-500\">#{comm.order_id || 'ID'}</td>\r\n                                        <td className=\"p-4 text-sm\">{comm.order_total.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</td>\r\n                                        <td className=\"p-4 font-bold text-rose-600\">\r\n                                            {comm.amount.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}\r\n                                        </td>\r\n                                        <td className=\"p-4\">\r\n                                            <StatusBadge status={comm.status} date={comm.maturation_date} />\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction StatusBadge({ status, date }: { status: string, date: string }) {\r\n    const config: Record<string, { color: string; label: string }> = {\r\n        pending: { color: 'bg-orange-100 text-orange-800', label: 'Pendente' },\r\n        available: { color: 'bg-green-100 text-green-800', label: 'Dispon√≠vel' },\r\n        paid: { color: 'bg-blue-100 text-blue-800', label: 'Pago' },\r\n        cancelled: { color: 'bg-red-100 text-red-800', label: 'Cancelado' },\r\n    };\r\n\r\n    const { color, label } = config[status] || config.pending;\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-start\">\r\n            <span className={`px-2 py-1 rounded text-xs font-bold ${color}`}>\r\n                {label}\r\n            </span>\r\n            {status === 'pending' && date && (\r\n                <span className=\"text-[10px] text-gray-400 mt-1\">\r\n                    Libera em: {new Date(date).toLocaleDateString('pt-BR')}\r\n                </span>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\services\\ProductService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[605,608],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[605,608],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { supabase, isSupabaseConfigured } from '../lib/supabase';\r\n\r\n// Define the Product interface matching our application usage and DB structure\r\nexport interface Product {\r\n    id: number;\r\n    name: string;\r\n    description: string;\r\n    price: number;\r\n    image: string;\r\n    category?: {\r\n        name: string;\r\n        slug: string;\r\n    } | { name: string; slug: string; }[] | string; // Handle both expanded and flat category\r\n    specs?: Record<string, string | number | undefined>;\r\n    ean?: string;\r\n    active?: boolean;\r\n    stock_quantity?: number;\r\n    sizes?: string[];\r\n    colors?: any[]; // Allow strings or objects {name, hex}\r\n    quantity?: number;\r\n    badge?: string | null;\r\n    rating?: number;\r\n    reviews?: number;\r\n    video?: string;\r\n    oldPrice?: number;\r\n    installments?: { count: number; value: number };\r\n}\r\n\r\n/**\r\n * Service to handle product data retrieval for RAG (Retrieval-Augmented Generation)\r\n * and general application usage.\r\n */\r\nexport const ProductService = {\r\n\r\n    /**\r\n     * Search products using Postgres Full Text Search or simple ILIKE\r\n     * @param query Search term\r\n     * @returns Promise<Product[]>\r\n     */\r\n    async searchProducts(query: string): Promise<Product[]> {\r\n        if (!isSupabaseConfigured()) {\r\n            console.warn('ProductService: Supabase not configured, returning empty search.');\r\n            return [];\r\n        }\r\n\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('products')\r\n                .select(`\r\n                    *,\r\n                    category:categories(name, slug)\r\n                `)\r\n                .eq('active', true)\r\n                .or(`name.ilike.%${query}%,description.ilike.%${query}%`)\r\n                .limit(10);\r\n\r\n            if (error) throw error;\r\n            return data as Product[];\r\n        } catch (error) {\r\n            console.error('ProductService search error:', error);\r\n            return [];\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Get a single product by ID\r\n     * @param id Product ID\r\n     * @returns Promise<Product | null>\r\n     */\r\n    async getProductById(id: number | string): Promise<Product | null> {\r\n        if (!isSupabaseConfigured()) return null;\r\n\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('products')\r\n                .select(`\r\n                    *,\r\n                    category:categories(name, slug)\r\n                `)\r\n                .eq('id', id)\r\n                .single();\r\n\r\n            if (error) throw error;\r\n            return data as Product;\r\n        } catch (error) {\r\n            console.error('ProductService getById error:', error);\r\n            return null;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Get all active products (limited to 50 for context)\r\n     * Useful for populating initial AI context\r\n     * @returns Promise<Product[]>\r\n     */\r\n    async getAllProducts(limit = 50): Promise<Product[]> {\r\n        if (!isSupabaseConfigured()) return [];\r\n\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('products')\r\n                .select(`\r\n                    id,\r\n                    name,\r\n                    description,\r\n                    price,\r\n                    image,\r\n                    category:categories(name, slug),\r\n                    specs\r\n                `)\r\n                .eq('active', true)\r\n                .limit(limit);\r\n\r\n            if (error) throw error;\r\n            return data as Product[];\r\n        } catch (error) {\r\n            console.error('ProductService getAll error:', error);\r\n            return [];\r\n        }\r\n    }\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\services\\__tests__\\api.test.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\services\\api.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\services\\payment.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\services\\shipping.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\services\\sizeAI.ts","messages":[{"ruleId":"prefer-const","severity":2,"message":"'scores' is never reassigned. Use 'const' instead.","line":157,"column":9,"nodeType":"Identifier","messageId":"useConst","endLine":157,"endColumn":25,"fix":{"range":[5703,5729],"text":"const scores: number[] = [];"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":262,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":262,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9942,9945],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9942,9945],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":1,"fixableWarningCount":0,"source":"/*\r\n * Servi√ßo de IA para Recomenda√ß√£o de Tamanho\r\n * \r\n * Usa GPT-4 para recomendar tamanho baseado nas medidas do usu√°rio\r\n * Fallback para algoritmo offline se API falhar\r\n */\r\n\r\nimport { Product } from './ProductService';\r\nimport { SIZE_GUIDE } from '../data/sizeGuide';\r\n\r\nexport interface BodyMeasurements {\r\n    height: number; // cm\r\n    weight: number; // kg\r\n    age?: number; // anos (Novo)\r\n    bustType: 'small' | 'medium' | 'large';\r\n    hipType: 'narrow' | 'medium' | 'wide';\r\n    fitPreference: 'snug' | 'comfortable';\r\n\r\n    // Medidas Avan√ßadas (Especialista em Fit)\r\n    exactBust?: number;    // Busto Total\r\n    exactUnderBust?: number; // T√≥rax / Sub-busto (Novo)\r\n    exactWaist?: number;   // Cintura (Umbigo)\r\n    exactHips?: number;    // Quadril\r\n    exactThigh?: number;   // Coxa (Novo)\r\n    exactCalf?: number;    // Panturrilha (Novo)\r\n    shoeSize?: number;     // Cal√ßado (Novo)\r\n    shoulderWidth?: number; // Largura dos Ombros (Novo)\r\n}\r\n\r\nexport type FitType = 'tight' | 'perfect' | 'loose';\r\n\r\nexport interface SizeRecommendation {\r\n    size: 'PP' | 'P' | 'M' | 'G' | 'GG';\r\n    confidence: number; // 0-1\r\n    reason: string;\r\n    alternativeSize?: 'PP' | 'P' | 'M' | 'G' | 'GG';\r\n    fitMap?: Record<string, FitType>; // Novo: Mapa de fit relativo\r\n}\r\n\r\n/**\r\n * Calcula o tamanho recomendado usando IA\r\n */\r\nexport async function calculateSize(\r\n    measurements: BodyMeasurements,\r\n    product: Product\r\n): Promise<SizeRecommendation> {\r\n    // Sempre tentar algoritmo offline primeiro (mais r√°pido)\r\n    const offlineRecommendation = calculateOffline(measurements);\r\n\r\n    // Se tiver API configurada, refinar com IA Especialista\r\n    if (import.meta.env.VITE_OPENAI_API_KEY) {\r\n        try {\r\n            const aiRecommendation = await getAIRecommendation(measurements, product);\r\n            // Mesclar o fitMap do offline na resposta da IA se a IA n√£o retornar (ou se quisermos for√ßar o offline map)\r\n            return {\r\n                ...aiRecommendation,\r\n                fitMap: aiRecommendation.fitMap || offlineRecommendation.fitMap\r\n            };\r\n        } catch (error) {\r\n            console.warn('IA indispon√≠vel, usando algoritmo offline:', error);\r\n            return offlineRecommendation;\r\n        }\r\n    }\r\n\r\n    return offlineRecommendation;\r\n}\r\n\r\n/**\r\n * Algoritmo offline baseado em BMI e tabela de medidas\r\n */\r\nfunction calculateOffline(\r\n    measurements: BodyMeasurements\r\n): SizeRecommendation {\r\n    const { exactBust, exactHips, exactWaist } = measurements;\r\n\r\n    // SE tiver medidas exatas, usar l√≥gica de fita m√©trica (Mais preciso)\r\n    if (exactBust || exactHips || exactWaist) {\r\n        return calculateFromExactMeasurements(measurements);\r\n    }\r\n\r\n    // SEN√ÉO usar l√≥gica estimativa (Peso/Altura)\r\n    const { height, weight, age, bustType, hipType, fitPreference } = measurements;\r\n\r\n    // Calcular BMI\r\n    const heightInMeters = height / 100;\r\n    const bmi = weight / (heightInMeters * heightInMeters);\r\n\r\n    // Ajustes baseados em tipo de corpo\r\n    const bustAdjustment = getBustAdjustment(bustType);\r\n    const hipAdjustment = getHipAdjustment(hipType);\r\n    const fitAdjustment = fitPreference === 'snug' ? -0.5 : 0.5;\r\n\r\n    // Ajuste de idade: metabolismo tende a acumular mais peso central com idade\r\n    // Se > 40, assume que precisa de um pouco mais de conforto (score sobe levemente em dire√ß√£o a tamanhos maiores)\r\n    const ageAdjustment = (age && age > 40) ? 0.3 : 0;\r\n\r\n    // Score final\r\n    const sizeScore = bmi + bustAdjustment + hipAdjustment + fitAdjustment + ageAdjustment;\r\n\r\n    // Determinar tamanho\r\n    let size: 'PP' | 'P' | 'M' | 'G' | 'GG';\r\n    let confidence: number;\r\n    let reason: string;\r\n    let alternativeSize: 'PP' | 'P' | 'M' | 'G' | 'GG' | undefined;\r\n\r\n    if (sizeScore < 18) {\r\n        size = 'PP';\r\n        confidence = 0.85;\r\n        reason = 'Baseado em seu peso e altura, o tamanho PP √© ideal para voc√™.';\r\n        if (fitPreference === 'comfortable') alternativeSize = 'P';\r\n    } else if (sizeScore < 21) {\r\n        size = 'P';\r\n        confidence = 0.90;\r\n        reason = 'Tamanho P proporcionar√° o ajuste perfeito para suas medidas.';\r\n        if (fitPreference === 'snug') alternativeSize = 'PP';\r\n        else alternativeSize = 'M';\r\n    } else if (sizeScore < 24) {\r\n        size = 'M';\r\n        confidence = 0.92;\r\n        reason = 'Tamanho M √© o mais equilibrado para seu tipo de corpo.';\r\n        if (fitPreference === 'snug') alternativeSize = 'P';\r\n        else alternativeSize = 'G';\r\n    } else if (sizeScore < 27) {\r\n        size = 'G';\r\n        confidence = 0.88;\r\n        reason = 'Tamanho G oferecer√° conforto e bom caimento.';\r\n        if (fitPreference === 'snug') alternativeSize = 'M';\r\n        else alternativeSize = 'GG';\r\n    } else {\r\n        size = 'GG';\r\n        confidence = 0.85;\r\n        reason = 'Tamanho GG √© perfeito para valorizar suas curvas com conforto.';\r\n        if (fitPreference === 'snug') alternativeSize = 'G';\r\n    }\r\n\r\n    // Ajustar confian√ßa baseado em tipo de corpo\r\n    if (bustType === 'large' || hipType === 'wide') {\r\n        confidence -= 0.05; // Menos certeza em extremos\r\n    }\r\n\r\n    return {\r\n        size,\r\n        confidence: Math.max(0.7, Math.min(0.95, confidence)),\r\n        reason,\r\n        alternativeSize,\r\n        fitMap: generateFitMap(sizeScore, 18, 21, 24, 27) // Passar thresholds\r\n    };\r\n}\r\n\r\n/**\r\n * L√≥gica para c√°lculo via Fita M√©trica (CM exatos)\r\n */\r\nfunction calculateFromExactMeasurements(measurements: BodyMeasurements): SizeRecommendation {\r\n    const { exactBust, exactHips, exactWaist, fitPreference, age } = measurements;\r\n\r\n    // Pontua√ß√µes: PP=1, P=2, M=3, G=4, GG=5\r\n    let scores: number[] = [];\r\n\r\n    // Tabela simplificada BR\r\n    if (exactBust && exactBust > 0) {\r\n        if (exactBust <= 82) scores.push(1); // PP\r\n        else if (exactBust <= 87) scores.push(2); // P\r\n        else if (exactBust <= 92) scores.push(3); // M\r\n        else if (exactBust <= 97) scores.push(4); // G\r\n        else scores.push(exactBust <= 104 ? 5 : 5.5); // GG ou +\r\n    }\r\n\r\n    if (exactHips && exactHips > 0) {\r\n        if (exactHips <= 90) scores.push(1); // PP\r\n        else if (exactHips <= 96) scores.push(2); // P\r\n        else if (exactHips <= 102) scores.push(3); // M\r\n        else if (exactHips <= 108) scores.push(4); // G\r\n        else scores.push(exactHips <= 116 ? 5 : 5.5); // GG\r\n    }\r\n\r\n    if (exactWaist && exactWaist > 0) {\r\n        if (exactWaist <= 64) scores.push(1); // PP\r\n        else if (exactWaist <= 70) scores.push(2); // P\r\n        else if (exactWaist <= 76) scores.push(3); // M\r\n        else if (exactWaist <= 82) scores.push(4); // G\r\n        else scores.push(exactWaist <= 90 ? 5 : 5.5); // GG\r\n    }\r\n\r\n    // Se n√£o tiver nenhuma medida v√°lida (n√£o deveria acontecer), fallback\r\n    if (scores.length === 0) return calculateOffline({ ...measurements, exactBust: undefined, exactHips: undefined, exactWaist: undefined });\r\n\r\n    const avgScore = scores.reduce((a, b) => a + b, 0) / scores.length;\r\n\r\n    // Ajuste de prefer√™ncia (se estiver entre tamanhos)\r\n    // Ajuste de idade (similar ao offline, idade avan√ßada prefere conforto)\r\n    const ageAdjustment = (age && age > 50) ? 0.1 : 0;\r\n    const finalScore = avgScore + (fitPreference === 'snug' ? -0.2 : 0.2) + ageAdjustment;\r\n\r\n    let size: 'PP' | 'P' | 'M' | 'G' | 'GG';\r\n    // Rounding logic\r\n    if (finalScore <= 1.5) size = 'PP';\r\n    else if (finalScore <= 2.5) size = 'P';\r\n    else if (finalScore <= 3.5) size = 'M';\r\n    else if (finalScore <= 4.5) size = 'G';\r\n    else size = 'GG';\r\n\r\n    // Se temos 2 ou mais medidas exatas, confian√ßa sobe para 98%\r\n    const validMeasurementsCount = (exactBust ? 1 : 0) + (exactHips ? 1 : 0) + (exactWaist ? 1 : 0);\r\n    const confidence = validMeasurementsCount >= 2 ? 0.98 : 0.94;\r\n\r\n    return {\r\n        size,\r\n        confidence,\r\n        reason: 'Baseado nas suas medidas exatas, este √© o tamanho tecnicamente perfeito para seu corpo.',\r\n        alternativeSize: finalScore % 1 > 0.6 ? getNextSize(size) : undefined,\r\n        fitMap: generateFitMap(finalScore, 1.5, 2.5, 3.5, 4.5)\r\n    };\r\n}\r\n\r\n/**\r\n * Gera mapa de fit relativo baseado no score calculado\r\n */\r\nfunction generateFitMap(score: number, t1: number, _t2: number, _t3: number, _t4: number): Record<string, FitType> {\r\n    const map: Record<string, FitType> = {\r\n        PP: 'tight',\r\n        P: 'tight',\r\n        M: 'tight',\r\n        G: 'tight',\r\n        GG: 'tight'\r\n    };\r\n\r\n    // Fun√ß√£o auxiliar para determinar fit de um tamanho espec√≠fico dado o score ideal do usu√°rio\r\n    // Ex: score = 3.2 (Usu√°rio √© M um pouco folgado).\r\n    // Tamanho M (Center ~ 3.0) -> Perfeito\r\n    // Tamanho P (Center ~ 2.0) -> Apertado\r\n    // Tamanho G (Center ~ 4.0) -> Largo\r\n\r\n    // Simplificando l√≥gica baseada em thresholds\r\n    const checkFit = (sizeCenter: number, userScore: number): FitType => {\r\n        const diff = userScore - sizeCenter;\r\n        if (diff > 0.6) return 'tight'; // Usu√°rio √© maior que o tamanho\r\n        if (diff < -0.6) return 'loose'; // Usu√°rio √© menor que o tamanho\r\n        return 'perfect';\r\n    };\r\n\r\n    // Deduzindo centros aproximados dos tamanhos baseados nos thresholds\r\n    // t1=1.5 (limit PP/P) -> PP~1.0, P~2.0, etc.\r\n    // Para offline mode os n√∫meros s√£o maiores (BMI ~20), ent√£o precisamos normalizar\r\n\r\n    let centers: Record<string, number>;\r\n\r\n    if (t1 > 10) { // Modo BMI (Scores ~18-27)\r\n        centers = { 'PP': 16.5, 'P': 19.5, 'M': 22.5, 'G': 25.5, 'GG': 28.5 };\r\n    } else { // Modo Exact (Scores 1-5)\r\n        centers = { 'PP': 1.0, 'P': 2.0, 'M': 3.0, 'G': 4.0, 'GG': 5.0 };\r\n    }\r\n\r\n    map.PP = checkFit(centers.PP, score);\r\n    map.P = checkFit(centers.P, score);\r\n    map.M = checkFit(centers.M, score);\r\n    map.G = checkFit(centers.G, score);\r\n    map.GG = checkFit(centers.GG, score);\r\n\r\n    return map;\r\n}\r\n\r\nfunction getNextSize(s: string): any {\r\n    const sizes = ['PP', 'P', 'M', 'G', 'GG'];\r\n    const idx = sizes.indexOf(s);\r\n    return idx < sizes.length - 1 ? sizes[idx + 1] : undefined;\r\n}\r\n\r\n/**\r\n * Recomenda√ß√£o usando GPT-4 com Prompt Especialista\r\n */\r\nasync function getAIRecommendation(\r\n    measurements: BodyMeasurements,\r\n    product: Product\r\n): Promise<SizeRecommendation> {\r\n    const apiKey = import.meta.env.VITE_OPENAI_API_KEY;\r\n\r\n    if (!apiKey) {\r\n        throw new Error('OpenAI API key not configured');\r\n    }\r\n\r\n    const categoryValue = product.category;\r\n    const categoryName = typeof categoryValue === 'string'\r\n        ? categoryValue.toLowerCase()\r\n        : Array.isArray(categoryValue)\r\n            ? (categoryValue[0]?.slug || 'lingerie')\r\n            : (categoryValue?.slug || 'lingerie');\r\n\r\n    const sizeGuide = SIZE_GUIDE[categoryName] || SIZE_GUIDE.calcinhas;\r\n\r\n    // CONTEXTO DE MEDI√á√ÉO POR CATEGORIA\r\n    let contextPrompt = '';\r\n\r\n    if (categoryName.includes('sutia') || categoryName.includes('top')) {\r\n        contextPrompt = `\r\n        CONTEXTO SUTI√ÉS E TOPS:\r\n        - Sub-Busto (T√≥rax): ${measurements.exactUnderBust ? measurements.exactUnderBust + 'cm' : 'N√£o informado'} -> √â a base. Define o n√∫mero (40-52).\r\n        - Busto: ${measurements.exactBust ? measurements.exactBust + 'cm' : 'N√£o informado'} -> Define a ta√ßa.\r\n        - Priorize conforto da respira√ß√£o se medida do t√≥rax for lim√≠trofe.\r\n        - Se diferen√ßa Busto/T√≥rax for grande, alerte sobre necessidade de ta√ßa maior.`;\r\n    }\r\n    else if (categoryName.includes('calcinha') || categoryName.includes('cueca')) {\r\n        contextPrompt = `\r\n        CONTEXTO CALCINHAS E CUECAS:\r\n        - Cintura: ${measurements.exactWaist ? measurements.exactWaist + 'cm' : 'N√£o informado'} -> Crucial para modeladores/hot pants.\r\n        - Quadril: ${measurements.exactHips ? measurements.exactHips + 'cm' : 'N√£o informado'} -> Maior circunfer√™ncia do gl√∫teo.\r\n        - Coxa: ${measurements.exactThigh ? measurements.exactThigh + 'cm' : 'N√£o informado'} -> Se dispon√≠vel, use para evitar que enrole.`;\r\n    }\r\n    else if (categoryName.includes('pijama') || categoryName.includes('camisola') || categoryName.includes('robe')) {\r\n        contextPrompt = `\r\n        CONTEXTO PIJAMAS (CAMISOLAS/ROBES):\r\n        - Foco na FLUIDEZ. Ningu√©m dorme com roupa apertada.\r\n        - Use a maior medida (Busto ou Quadril) como determinante.`;\r\n    }\r\n    else if (categoryName.includes('meia')) {\r\n        contextPrompt = `\r\n        CONTEXTO MEIAS:\r\n        - N¬∫ Cal√ßado: ${measurements.shoeSize || 'N√£o informado'} -> Base principal.\r\n        - Panturrilha: ${measurements.exactCalf ? measurements.exactCalf + 'cm' : 'N√£o informado'} -> Determinante para 3/4 e 7/8. Evitar efeito garrote.`;\r\n    }\r\n\r\n    const measurementText = `\r\n    MEDIDAS FORNECIDAS:\r\n    - Altura/Peso: ${measurements.height}cm / ${measurements.weight}kg\r\n    - Busto: ${measurements.exactBust || 'N/A'}\r\n    - T√≥rax: ${measurements.exactUnderBust || 'N/A'}\r\n    - Cintura: ${measurements.exactWaist || 'N/A'}\r\n    - Quadril: ${measurements.exactHips || 'N/A'}\r\n    - Coxa: ${measurements.exactThigh || 'N/A'}\r\n    - Panturrilha: ${measurements.exactCalf || 'N/A'}\r\n    - Cal√ßado: ${measurements.shoeSize || 'N/A'}\r\n    `;\r\n\r\n    const prompt = `Voc√™ √© o Especialista em Fit e Modelagem da LyVest, uma intelig√™ncia artificial focada em encontrar o tamanho ideal de lingerie e moda √≠ntima.\r\n\r\nMISS√ÉO: Garantir conforto absoluto, eliminando erro de compra e aumentando confian√ßa.\r\n\r\n${contextPrompt}\r\n\r\nCLIENTE:\r\n${measurementText}\r\n- Tipo de corpo: ${translateBustType(measurements.bustType)} / ${translateHipType(measurements.hipType)}\r\n- Prefer√™ncia: ${measurements.fitPreference === 'snug' ? 'mais justo/modelador' : 'confort√°vel/solto'}\r\n\r\nPRODUTO:\r\n- Nome: ${product.name}\r\n- Categoria: ${categoryName}\r\n- Descri√ß√£o: ${product.description || ''}\r\n\r\nTABELA DE MEDIDAS (REFER√äNCIA):\r\n${JSON.stringify(sizeGuide, null, 2)}\r\n\r\nINSTRU√á√ïES DE SA√çDA:\r\n1. Retorne sempre o tamanho sugerido (PP, P, M, G, GG) com % de certeza.\r\n2. Justificativa: Explique de forma humanizada, focada em bem-estar.\r\n   Ex: \"Sugerimos o 44 porque oferece sustenta√ß√£o para costas sem apertar.\"\r\n3. Dica Personalizada: Se houver despropor√ß√£o (ex: costas finas, busto grande), d√™ uma dica de ouro.\r\n4. Tom de Voz: Profissional, acolhedor, t√©cnico por√©m acess√≠vel.\r\n\r\nRetorne APENAS JSON v√°lido:\r\n{\r\n  \"size\": \"P\",\r\n  \"confidence\": 0.92,\r\n  \"reason\": \"Explica√ß√£o humanizada...\",\r\n  \"alternativeSize\": \"M\"\r\n}\r\n\r\nA confian√ßa deve ser entre 0.75 e 0.99.`;\r\n\r\n    const response = await fetch('https://api.openai.com/v1/chat/completions', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${apiKey}`,\r\n        },\r\n        body: JSON.stringify({\r\n            model: 'gpt-4o-mini', // Mais barato e r√°pido\r\n            messages: [\r\n                {\r\n                    role: 'system',\r\n                    content: 'Voc√™ √© uma consultora de moda √≠ntima. Sempre retorne JSON v√°lido.',\r\n                },\r\n                {\r\n                    role: 'user',\r\n                    content: prompt,\r\n                },\r\n            ],\r\n            response_format: { type: 'json_object' },\r\n            temperature: 0.3, // Mais determin√≠stico\r\n            max_tokens: 200,\r\n        }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n        throw new Error(`OpenAI API error: ${response.status}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    const content = data.choices[0].message.content;\r\n\r\n    return JSON.parse(content);\r\n}\r\n\r\n// Helpers\r\nfunction getBustAdjustment(bustType: 'small' | 'medium' | 'large'): number {\r\n    switch (bustType) {\r\n        case 'small':\r\n            return -1;\r\n        case 'large':\r\n            return 1;\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\n\r\nfunction getHipAdjustment(hipType: 'narrow' | 'medium' | 'wide'): number {\r\n    switch (hipType) {\r\n        case 'narrow':\r\n            return -0.5;\r\n        case 'wide':\r\n            return 0.5;\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\n\r\nfunction translateBustType(type: string): string {\r\n    const map: Record<string, string> = {\r\n        small: 'pequeno',\r\n        medium: 'm√©dio',\r\n        large: 'grande',\r\n    };\r\n    return map[type] || type;\r\n}\r\n\r\nfunction translateHipType(type: string): string {\r\n    const map: Record<string, string> = {\r\n        narrow: 'estreito',\r\n        medium: 'm√©dio',\r\n        wide: 'largo',\r\n    };\r\n    return map[type] || type;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\types\\canvas-confetti.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\types\\dashboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\__tests__\\formatters.test.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\__tests__\\logger.test.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[204,207],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[204,207],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { describe, it, expect, vi, beforeEach } from 'vitest';\r\nimport { logger, analyticsLogger, paymentLogger, createLogger } from '../logger';\r\n\r\ndescribe('Logger System', () => {\r\n    let consoleSpy: any;\r\n\r\n    beforeEach(() => {\r\n        // Spy no console para verificar se logs s√£o chamados\r\n        consoleSpy = {\r\n            log: vi.spyOn(console, 'log').mockImplementation(() => { }),\r\n            warn: vi.spyOn(console, 'warn').mockImplementation(() => { }),\r\n            error: vi.spyOn(console, 'error').mockImplementation(() => { }),\r\n            debug: vi.spyOn(console, 'debug').mockImplementation(() => { }),\r\n        };\r\n    });\r\n\r\n    describe('Logger em Desenvolvimento', () => {\r\n        it('deve logar mensagens info', () => {\r\n            logger.info('Teste de info');\r\n\r\n            // Em dev, deve ter chamado console.log\r\n            expect(consoleSpy.log).toHaveBeenCalled();\r\n\r\n            // Verificar que cont√©m timestamp e n√≠vel\r\n            const callArgs = consoleSpy.log.mock.calls[0];\r\n            expect(callArgs[0]).toContain('[INFO]');\r\n        });\r\n\r\n        it('deve logar mensagens warn', () => {\r\n            logger.warn('Teste de warning');\r\n            expect(consoleSpy.warn).toHaveBeenCalled();\r\n\r\n            const callArgs = consoleSpy.warn.mock.calls[0];\r\n            expect(callArgs[0]).toContain('[WARN]');\r\n        });\r\n\r\n        it('deve logar mensagens error', () => {\r\n            const error = new Error('Erro de teste');\r\n            logger.error('Erro aconteceu', error);\r\n\r\n            expect(consoleSpy.error).toHaveBeenCalled();\r\n            const callArgs = consoleSpy.error.mock.calls[0];\r\n            expect(callArgs[0]).toContain('[ERROR]');\r\n        });\r\n\r\n        it('deve logar mensagens debug', () => {\r\n            logger.debug('Debug info', { foo: 'bar' });\r\n            expect(consoleSpy.debug).toHaveBeenCalled();\r\n        });\r\n    });\r\n\r\n    describe('Loggers com Prefixo', () => {\r\n        it('analyticsLogger deve ter prefixo [Analytics]', () => {\r\n            analyticsLogger.info('Tracking event');\r\n\r\n            const callArgs = consoleSpy.log.mock.calls[0];\r\n            expect(callArgs[0]).toContain('[Analytics]');\r\n        });\r\n\r\n        it('paymentLogger deve ter prefixo [Payment]', () => {\r\n            paymentLogger.info('Payment processed');\r\n\r\n            const callArgs = consoleSpy.log.mock.calls[0];\r\n            expect(callArgs[0]).toContain('[Payment]');\r\n        });\r\n\r\n        it('logger customizado deve usar prefixo fornecido', () => {\r\n            const customLogger = createLogger('CustomModule');\r\n            customLogger.info('Custom message');\r\n\r\n            const callArgs = consoleSpy.log.mock.calls[0];\r\n            expect(callArgs[0]).toContain('[CustomModule]');\r\n        });\r\n    });\r\n\r\n    describe('Formata√ß√£o de Timestamp', () => {\r\n        it('deve incluir timestamp em formato HH:MM:SS', () => {\r\n            logger.info('Test');\r\n\r\n            const callArgs = consoleSpy.log.mock.calls[0];\r\n            const timestamp = callArgs[0];\r\n\r\n            // Verificar formato: XX:XX:XX\r\n            expect(timestamp).toMatch(/\\d{2}:\\d{2}:\\d{2}/);\r\n        });\r\n    });\r\n\r\n    describe('Group Logging', () => {\r\n        it('deve suportar console.group', () => {\r\n            const groupSpy = vi.spyOn(console, 'group').mockImplementation(() => { });\r\n            const groupEndSpy = vi.spyOn(console, 'groupEnd').mockImplementation(() => { });\r\n\r\n            logger.group('Test Group');\r\n            logger.info('Inside group');\r\n            logger.groupEnd();\r\n\r\n            expect(groupSpy).toHaveBeenCalledWith('Test Group');\r\n            expect(groupEndSpy).toHaveBeenCalled();\r\n\r\n            groupSpy.mockRestore();\r\n            groupEndSpy.mockRestore();\r\n        });\r\n    });\r\n\r\n    describe('Logger Desabilitado', () => {\r\n        it('n√£o deve logar quando desabilitado manualmente', () => {\r\n            const disabledLogger = createLogger('Disabled', false);\r\n\r\n            disabledLogger.info('Should not log');\r\n            disabledLogger.warn('Should not log');\r\n            disabledLogger.error('Should not log');\r\n\r\n            // Nenhum console deve ter sido chamado\r\n            expect(consoleSpy.log).not.toHaveBeenCalled();\r\n            expect(consoleSpy.warn).not.toHaveBeenCalled();\r\n            expect(consoleSpy.error).not.toHaveBeenCalled();\r\n        });\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\__tests__\\security.test.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\__tests__\\validation.test.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\__tests__\\validation.test.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":242,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":242,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8544,8547],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8544,8547],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":243,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":243,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8603,8606],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8603,8606],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":244,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":244,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8662,8665],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8662,8665],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":248,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":248,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8802,8805],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8802,8805],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":249,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":249,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8873,8876],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8873,8876],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { describe, it, expect } from 'vitest';\r\nimport {\r\n    validateCardNumber,\r\n    validateCPF,\r\n    validateEmail,\r\n    validateCEP,\r\n    formatCardNumber,\r\n    formatCPF,\r\n    formatPhone,\r\n    validateForm,\r\n    paymentSchema,\r\n    checkoutSchema\r\n} from '../validation';\r\n\r\ndescribe('Utilit√°rios de Valida√ß√£o', () => {\r\n    describe('validateCardNumber', () => {\r\n        it('deve validar cart√£o Visa v√°lido', () => {\r\n            const validVisa = '4532015112830366';\r\n            expect(validateCardNumber(validVisa)).toBe(true);\r\n        });\r\n\r\n        it('deve validar cart√£o Mastercard v√°lido', () => {\r\n            const validMastercard = '5425233430109903';\r\n            expect(validateCardNumber(validMastercard)).toBe(true);\r\n        });\r\n\r\n        it('deve rejeitar cart√£o inv√°lido', () => {\r\n            const invalid = '1234567890123456';\r\n            expect(validateCardNumber(invalid)).toBe(false);\r\n        });\r\n\r\n        it('deve rejeitar cart√£o com menos de 16 d√≠gitos', () => {\r\n            expect(validateCardNumber('123456789012')).toBe(false);\r\n        });\r\n\r\n        it('deve rejeitar cart√£o vazio', () => {\r\n            expect(validateCardNumber('')).toBe(false);\r\n        });\r\n    });\r\n\r\n    describe('validateCPF', () => {\r\n        it('deve validar CPF v√°lido', () => {\r\n            const validCPF = '12345678909'; // CPF de teste\r\n            expect(validateCPF(validCPF)).toBe(true);\r\n        });\r\n\r\n        it('deve validar CPF formatado', () => {\r\n            const validCPF = '123.456.789-09';\r\n            expect(validateCPF(validCPF)).toBe(true);\r\n        });\r\n\r\n        it('deve rejeitar CPF inv√°lido', () => {\r\n            const invalidCPF = '12345678900';\r\n            expect(validateCPF(invalidCPF)).toBe(false);\r\n        });\r\n\r\n        it('deve rejeitar CPF com todos d√≠gitos iguais', () => {\r\n            expect(validateCPF('111.111.111-11')).toBe(false);\r\n            expect(validateCPF('000.000.000-00')).toBe(false);\r\n        });\r\n\r\n        it('deve rejeitar CPF vazio', () => {\r\n            expect(validateCPF('')).toBe(false);\r\n        });\r\n    });\r\n\r\n    describe('validateEmail', () => {\r\n        it('deve validar email v√°lido', () => {\r\n            expect(validateEmail('teste@exemplo.com')).toBe(true);\r\n            expect(validateEmail('user.name@company.com.br')).toBe(true);\r\n        });\r\n\r\n        it('deve rejeitar email sem @', () => {\r\n            expect(validateEmail('testeexemplo.com')).toBe(false);\r\n        });\r\n\r\n        it('deve rejeitar email sem dom√≠nio', () => {\r\n            expect(validateEmail('teste@')).toBe(false);\r\n        });\r\n\r\n        it('deve rejeitar email vazio', () => {\r\n            expect(validateEmail('')).toBe(false);\r\n        });\r\n\r\n        it('deve rejeitar email com espa√ßos', () => {\r\n            expect(validateEmail('teste @exemplo.com')).toBe(false);\r\n        });\r\n    });\r\n\r\n    describe('validateCEP', () => {\r\n        it('deve validar CEP v√°lido', () => {\r\n            expect(validateCEP('01310-100')).toBe(true);\r\n            expect(validateCEP('01310100')).toBe(true);\r\n        });\r\n\r\n        it('deve rejeitar CEP com menos de 8 d√≠gitos', () => {\r\n            expect(validateCEP('0131010')).toBe(false);\r\n        });\r\n\r\n        it('deve rejeitar CEP com mais de 8 d√≠gitos', () => {\r\n            expect(validateCEP('013101000')).toBe(false);\r\n        });\r\n\r\n        it('deve rejeitar CEP vazio', () => {\r\n            expect(validateCEP('')).toBe(false);\r\n        });\r\n    });\r\n\r\n    describe('Formatadores', () => {\r\n        describe('formatCardNumber', () => {\r\n            it('deve formatar n√∫mero de cart√£o com espa√ßos', () => {\r\n                const formatted = formatCardNumber('4532015112830366');\r\n                expect(formatted).toBe('4532 0151 1283 0366');\r\n            });\r\n\r\n            it('deve lidar com entrada parcial', () => {\r\n                const formatted = formatCardNumber('4532');\r\n                expect(formatted).toBe('4532');\r\n            });\r\n\r\n            it('deve limitar a 16 d√≠gitos', () => {\r\n                const formatted = formatCardNumber('45320151128303661234');\r\n                expect(formatted).toBe('4532 0151 1283 0366');\r\n            });\r\n        });\r\n\r\n        describe('formatCPF', () => {\r\n            it('deve formatar CPF', () => {\r\n                const formatted = formatCPF('12345678909');\r\n                expect(formatted).toBe('123.456.789-09');\r\n            });\r\n\r\n            it('deve preservar formata√ß√£o existente', () => {\r\n                const formatted = formatCPF('123.456.789-09');\r\n                expect(formatted).toBe('123.456.789-09');\r\n            });\r\n        });\r\n\r\n        describe('formatPhone', () => {\r\n            it('deve formatar telefone celular', () => {\r\n                const formatted = formatPhone('11987654321');\r\n                expect(formatted).toBe('(11) 98765-4321');\r\n            });\r\n\r\n            it('deve formatar telefone fixo', () => {\r\n                const formatted = formatPhone('1133334444');\r\n                expect(formatted).toBe('(11) 3333-4444');\r\n            });\r\n        });\r\n    });\r\n\r\n    describe('validateForm com Schema Zod', () => {\r\n        describe('paymentSchema', () => {\r\n            it('deve validar dados de pagamento corretos', () => {\r\n                const validData = {\r\n                    cardNumber: '4532015112830366',\r\n                    cardName: 'JOAO DA SILVA',\r\n                    expiry: '12/25',\r\n                    cvv: '123'\r\n                };\r\n\r\n                const result = validateForm(paymentSchema, validData);\r\n                expect(result.success).toBe(true);\r\n                expect(result.errors).toEqual({});\r\n            });\r\n\r\n            it('deve rejeitar cart√£o inv√°lido', () => {\r\n                const invalidData = {\r\n                    cardNumber: '1234',\r\n                    cardName: 'JOAO DA SILVA',\r\n                    expiry: '12/25',\r\n                    cvv: '123'\r\n                };\r\n\r\n                const result = validateForm(paymentSchema, invalidData);\r\n                expect(result.success).toBe(false);\r\n                expect(result.errors.cardNumber).toBeDefined();\r\n            });\r\n\r\n            it('deve rejeitar CVV inv√°lido', () => {\r\n                const invalidData = {\r\n                    cardNumber: '4532015112830366',\r\n                    cardName: 'JOAO DA SILVA',\r\n                    expiry: '12/25',\r\n                    cvv: '12' // Muito curto\r\n                };\r\n\r\n                const result = validateForm(paymentSchema, invalidData);\r\n                expect(result.success).toBe(false);\r\n                expect(result.errors.cvv).toBeDefined();\r\n            });\r\n        });\r\n\r\n        describe('checkoutSchema', () => {\r\n            it('deve validar dados de checkout completos', () => {\r\n                const validData = {\r\n                    nome: 'Jo√£o da Silva',\r\n                    email: 'joao@exemplo.com',\r\n                    telefone: '11987654321',\r\n                    cep: '01310-100',\r\n                    rua: 'Av. Paulista',\r\n                    numero: '1000',\r\n                    bairro: 'Bela Vista',\r\n                    cidade: 'S√£o Paulo',\r\n                    estado: 'SP'\r\n                };\r\n\r\n                const result = validateForm(checkoutSchema, validData);\r\n                expect(result.success).toBe(true);\r\n            });\r\n\r\n            it('deve rejeitar email inv√°lido', () => {\r\n                const invalidData = {\r\n                    nome: 'Jo√£o da Silva',\r\n                    email: 'email-invalido',\r\n                    telefone: '11987654321',\r\n                    cep: '01310-100'\r\n                };\r\n\r\n                const result = validateForm(checkoutSchema, invalidData);\r\n                expect(result.success).toBe(false);\r\n                expect(result.errors.email).toBeDefined();\r\n            });\r\n\r\n            it('deve rejeitar CEP inv√°lido', () => {\r\n                const invalidData = {\r\n                    nome: 'Jo√£o da Silva',\r\n                    email: 'joao@exemplo.com',\r\n                    telefone: '11987654321',\r\n                    cep: '123' // Muito curto\r\n                };\r\n\r\n                const result = validateForm(checkoutSchema, invalidData);\r\n                expect(result.success).toBe(false);\r\n                expect(result.errors.cep).toBeDefined();\r\n            });\r\n        });\r\n    });\r\n\r\n    describe('Edge Cases', () => {\r\n        it('deve lidar com null gracefully', () => {\r\n            expect(validateEmail(null as any)).toBe(false);\r\n            expect(validateCPF(null as any)).toBe(false);\r\n            expect(validateCEP(null as any)).toBe(false);\r\n        });\r\n\r\n        it('deve lidar com undefined gracefully', () => {\r\n            expect(validateEmail(undefined as any)).toBe(false);\r\n            expect(validateCardNumber(undefined as any)).toBe(false);\r\n        });\r\n\r\n        it('deve trimmar espa√ßos em branco', () => {\r\n            expect(validateEmail('  teste@exemplo.com  ')).toBe(true);\r\n        });\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\analytics.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\cn.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\formatters.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\logger.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[713,716],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[713,716],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[721,724],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[721,724],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1062,1065],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1062,1065],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1203,1206],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1203,1206],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":48,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1346,1349],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1346,1349],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1491,1494],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1491,1494],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Sistema de Logger Condicional\r\n * \r\n * Substitui console.log direto por logger que:\r\n * - S√≥ funciona em desenvolvimento\r\n * - Adiciona contexto e timestamp\r\n * - Pode ser facilmente desabilitado\r\n */\r\n\r\nconst isDevelopment = import.meta.env.DEV;\r\n\r\ntype LogLevel = 'info' | 'warn' | 'error' | 'debug';\r\n\r\ninterface LoggerOptions {\r\n    prefix?: string;\r\n    enabled?: boolean;\r\n}\r\n\r\nclass Logger {\r\n    private prefix: string;\r\n    private enabled: boolean;\r\n\r\n    constructor(options: LoggerOptions = {}) {\r\n        this.prefix = options.prefix || '';\r\n        this.enabled = options.enabled !== undefined ? options.enabled : isDevelopment;\r\n    }\r\n\r\n    private formatMessage(level: LogLevel, ...args: any[]): any[] {\r\n        if (!this.enabled) return [];\r\n\r\n        const timestamp = new Date().toISOString().split('T')[1].split('.')[0];\r\n        const prefix = this.prefix ? `[${this.prefix}]` : '';\r\n        const levelTag = `[${level.toUpperCase()}]`;\r\n\r\n        return [`${timestamp} ${levelTag}${prefix}`, ...args];\r\n    }\r\n\r\n    info(...args: any[]): void {\r\n        if (!this.enabled) return;\r\n        console.log(...this.formatMessage('info', ...args));\r\n    }\r\n\r\n    warn(...args: any[]): void {\r\n        if (!this.enabled) return;\r\n        console.warn(...this.formatMessage('warn', ...args));\r\n    }\r\n\r\n    error(...args: any[]): void {\r\n        if (!this.enabled) return;\r\n        console.error(...this.formatMessage('error', ...args));\r\n    }\r\n\r\n    debug(...args: any[]): void {\r\n        if (!this.enabled) return;\r\n        console.debug(...this.formatMessage('debug', ...args));\r\n    }\r\n\r\n    group(label: string): void {\r\n        if (!this.enabled) return;\r\n        console.group(label);\r\n    }\r\n\r\n    groupEnd(): void {\r\n        if (!this.enabled) return;\r\n        console.groupEnd();\r\n    }\r\n}\r\n\r\n// Exportar inst√¢ncias pr√©-configuradas para diferentes m√≥dulos\r\nexport const analyticsLogger = new Logger({ prefix: 'Analytics' });\r\nexport const paymentLogger = new Logger({ prefix: 'Payment' });\r\nexport const shippingLogger = new Logger({ prefix: 'Shipping' });\r\nexport const webVitalsLogger = new Logger({ prefix: 'Web Vitals' });\r\n\r\n// Logger gen√©rico\r\nexport const logger = new Logger();\r\n\r\n// Factory para criar loggers customizados\r\nexport const createLogger = (prefix: string, enabled?: boolean): Logger => {\r\n    return new Logger({ prefix, enabled });\r\n};\r\n\r\nexport default logger;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\metrics.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1933,1936],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1933,1936],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":63,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1964,1967],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1964,1967],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Sistema de M√©tricas e Web Vitals\r\n * \r\n * Coleta e reporta m√©tricas de performance do frontend\r\n * Integra com Vercel Analytics e ferramentas customizadas\r\n */\r\n\r\nimport { webVitalsLogger } from './logger';\r\n\r\n// Tipos para Web Vitals\r\ninterface Metric {\r\n    id: string;\r\n    name: string;\r\n    value: number;\r\n    rating: 'good' | 'needs-improvement' | 'poor';\r\n    delta: number;\r\n    entries: PerformanceEntry[];\r\n}\r\n\r\ninterface NavigationTiming {\r\n    dnsLookup: number;\r\n    tcpConnect: number;\r\n    serverResponse: number;\r\n    domLoad: number;\r\n    pageLoad: number;\r\n}\r\n\r\n// Limiares para classifica√ß√£o de m√©tricas\r\nconst WEB_VITALS_THRESHOLDS = {\r\n    LCP: { good: 2500, poor: 4000 },    // Largest Contentful Paint\r\n    FID: { good: 100, poor: 300 },       // First Input Delay\r\n    CLS: { good: 0.1, poor: 0.25 },      // Cumulative Layout Shift\r\n    FCP: { good: 1800, poor: 3000 },     // First Contentful Paint\r\n    TTFB: { good: 800, poor: 1800 },     // Time to First Byte\r\n    INP: { good: 200, poor: 500 },       // Interaction to Next Paint\r\n};\r\n\r\n/**\r\n * Classifica a qualidade de uma m√©trica\r\n */\r\nfunction classifyMetric(name: string, value: number): 'good' | 'needs-improvement' | 'poor' {\r\n    const threshold = WEB_VITALS_THRESHOLDS[name as keyof typeof WEB_VITALS_THRESHOLDS];\r\n    if (!threshold) return 'good';\r\n\r\n    if (value <= threshold.good) return 'good';\r\n    if (value <= threshold.poor) return 'needs-improvement';\r\n    return 'poor';\r\n}\r\n\r\n/**\r\n * Reporta Web Vitals para o console em desenvolvimento\r\n */\r\nexport function reportWebVitals(metric: Metric): void {\r\n    const rating = classifyMetric(metric.name, metric.value);\r\n\r\n    webVitalsLogger.info(\r\n        `${metric.name}: ${metric.value.toFixed(2)} (${rating})`,\r\n        { id: metric.id, delta: metric.delta }\r\n    );\r\n\r\n    // Enviar para Vercel Analytics (se dispon√≠vel)\r\n    if (typeof window !== 'undefined' && (window as any).va) {\r\n        (window as any).va('send', {\r\n            name: metric.name,\r\n            value: metric.value,\r\n            rating: rating,\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Coleta m√©tricas de navega√ß√£o da Performance API\r\n */\r\nexport function getNavigationTiming(): NavigationTiming | null {\r\n    if (typeof window === 'undefined' || !window.performance) return null;\r\n\r\n    const timing = performance.getEntriesByType('navigation')[0] as PerformanceNavigationTiming;\r\n    if (!timing) return null;\r\n\r\n    return {\r\n        dnsLookup: timing.domainLookupEnd - timing.domainLookupStart,\r\n        tcpConnect: timing.connectEnd - timing.connectStart,\r\n        serverResponse: timing.responseStart - timing.requestStart,\r\n        domLoad: timing.domContentLoadedEventEnd - timing.startTime,\r\n        pageLoad: timing.loadEventEnd - timing.startTime,\r\n    };\r\n}\r\n\r\n/**\r\n * Coleta m√©tricas de recursos (imagens, scripts, etc)\r\n */\r\nexport function getResourceMetrics(): { totalSize: number; count: number; slowestResource: string | null } {\r\n    if (typeof window === 'undefined' || !window.performance) {\r\n        return { totalSize: 0, count: 0, slowestResource: null };\r\n    }\r\n\r\n    const resources = performance.getEntriesByType('resource') as PerformanceResourceTiming[];\r\n\r\n    let totalSize = 0;\r\n    let slowest: PerformanceResourceTiming | null = null;\r\n\r\n    resources.forEach(resource => {\r\n        totalSize += resource.transferSize || 0;\r\n\r\n        if (!slowest || resource.duration > slowest.duration) {\r\n            slowest = resource;\r\n        }\r\n    });\r\n\r\n    return {\r\n        totalSize,\r\n        count: resources.length,\r\n        slowestResource: slowest ? (slowest as PerformanceResourceTiming).name : null,\r\n    };\r\n}\r\n\r\n/**\r\n * Mede tempo de uma opera√ß√£o\r\n */\r\nexport function measureTime<T>(name: string, fn: () => T): T {\r\n    const start = performance.now();\r\n    const result = fn();\r\n    const duration = performance.now() - start;\r\n\r\n    webVitalsLogger.debug(`${name} took ${duration.toFixed(2)}ms`);\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Mede tempo de uma opera√ß√£o ass√≠ncrona\r\n */\r\nexport async function measureTimeAsync<T>(name: string, fn: () => Promise<T>): Promise<T> {\r\n    const start = performance.now();\r\n    const result = await fn();\r\n    const duration = performance.now() - start;\r\n\r\n    webVitalsLogger.debug(`${name} took ${duration.toFixed(2)}ms`);\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Cria um observer para Long Tasks (tarefas > 50ms)\r\n */\r\nexport function observeLongTasks(callback: (duration: number) => void): (() => void) | null {\r\n    if (typeof window === 'undefined' || !('PerformanceObserver' in window)) {\r\n        return null;\r\n    }\r\n\r\n    const observer = new PerformanceObserver((list) => {\r\n        list.getEntries().forEach((entry) => {\r\n            callback(entry.duration);\r\n            webVitalsLogger.warn(`Long Task detected: ${entry.duration.toFixed(2)}ms`);\r\n        });\r\n    });\r\n\r\n    try {\r\n        observer.observe({ entryTypes: ['longtask'] });\r\n        return () => observer.disconnect();\r\n    } catch {\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * M√©tricas customizadas do e-commerce\r\n */\r\nexport const ecommerceMetrics = {\r\n    /**\r\n     * Mede tempo de carregamento da p√°gina de produto\r\n     */\r\n    productPageLoad: (productId: string, loadTime: number): void => {\r\n        webVitalsLogger.info(`Product Page Load [${productId}]: ${loadTime.toFixed(2)}ms`);\r\n    },\r\n\r\n    /**\r\n     * Mede tempo de adi√ß√£o ao carrinho\r\n     */\r\n    addToCartTime: (productId: string, duration: number): void => {\r\n        webVitalsLogger.info(`Add to Cart [${productId}]: ${duration.toFixed(2)}ms`);\r\n    },\r\n\r\n    /**\r\n     * Mede tempo de checkout\r\n     */\r\n    checkoutTime: (step: string, duration: number): void => {\r\n        webVitalsLogger.info(`Checkout Step [${step}]: ${duration.toFixed(2)}ms`);\r\n    },\r\n\r\n    /**\r\n     * Mede tempo de busca\r\n     */\r\n    searchTime: (query: string, resultsCount: number, duration: number): void => {\r\n        webVitalsLogger.info(`Search \"${query}\": ${resultsCount} results in ${duration.toFixed(2)}ms`);\r\n    },\r\n};\r\n\r\nexport default {\r\n    reportWebVitals,\r\n    getNavigationTiming,\r\n    getResourceMetrics,\r\n    measureTime,\r\n    measureTimeAsync,\r\n    observeLongTasks,\r\n    ecommerceMetrics,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\productUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\security.js","messages":[],"suppressedMessages":[{"ruleId":"security/detect-unsafe-regex","severity":1,"message":"Unsafe Regular Expression","line":94,"column":9,"nodeType":"Literal","endLine":94,"endColumn":62,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\security.ts","messages":[{"ruleId":"security/detect-unsafe-regex","severity":1,"message":"Unsafe Regular Expression","line":139,"column":9,"nodeType":"Literal","endLine":139,"endColumn":62},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\/.","line":199,"column":41,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":199,"endColumn":42,"suggestions":[{"messageId":"removeEscape","fix":{"range":[5025,5026],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[5025,5025],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Utilit√°rios de Seguran√ßa - TypeScript\r\n * \r\n * Sistema robusto de prote√ß√£o contra ataques comuns\r\n */\r\n\r\nimport DOMPurify from 'dompurify';\r\n\r\n// Tipos\r\ninterface RateLimiterData {\r\n    attempts: number[];\r\n}\r\n\r\ninterface RateLimitCheck {\r\n    allowed: boolean;\r\n    remaining: number;\r\n    resetIn: number;\r\n}\r\n\r\ninterface HoneypotField {\r\n    fieldName: string;\r\n    validate: (value: string) => boolean;\r\n}\r\n\r\n/**\r\n * Rate limiter baseado em localStorage\r\n * Protege contra brute force e spam\r\n */\r\nexport class RateLimiter {\r\n    private key: string;\r\n    private maxAttempts: number;\r\n    private windowMs: number;\r\n\r\n    constructor(key: string, maxAttempts: number = 5, windowMs: number = 60000) {\r\n        this.key = `rate_limit_${key}`;\r\n        this.maxAttempts = maxAttempts;\r\n        this.windowMs = windowMs;\r\n    }\r\n\r\n    /**\r\n     * Verifica se a a√ß√£o est√° permitida\r\n     */\r\n    check(): RateLimitCheck {\r\n        const now = Date.now();\r\n        const data = this.getData();\r\n\r\n        const validAttempts = data.attempts.filter(\r\n            (timestamp) => now - timestamp < this.windowMs\r\n        );\r\n\r\n        const allowed = validAttempts.length < this.maxAttempts;\r\n        const remaining = Math.max(0, this.maxAttempts - validAttempts.length);\r\n        const resetIn = validAttempts.length > 0\r\n            ? Math.max(0, this.windowMs - (now - validAttempts[0]))\r\n            : 0;\r\n\r\n        return { allowed, remaining, resetIn };\r\n    }\r\n\r\n    /**\r\n     * Registra uma tentativa\r\n     */\r\n    attempt(): boolean {\r\n        const { allowed } = this.check();\r\n\r\n        if (allowed) {\r\n            const data = this.getData();\r\n            data.attempts.push(Date.now());\r\n            this.saveData(data);\r\n        }\r\n\r\n        return allowed;\r\n    }\r\n\r\n    /**\r\n     * Reseta o limitador\r\n     */\r\n    reset(): void {\r\n        try {\r\n            localStorage.removeItem(this.key);\r\n        } catch {\r\n            // Falha silenciosa\r\n        }\r\n    }\r\n\r\n    private getData(): RateLimiterData {\r\n        try {\r\n            const stored = localStorage.getItem(this.key);\r\n            return stored ? JSON.parse(stored) : { attempts: [] };\r\n        } catch {\r\n            return { attempts: [] };\r\n        }\r\n    }\r\n\r\n    private saveData(data: RateLimiterData): void {\r\n        try {\r\n            localStorage.setItem(this.key, JSON.stringify(data));\r\n        } catch {\r\n            // Falha silenciosa\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Sanitiza HTML usando DOMPurify\r\n * Remove scripts e c√≥digo malicioso\r\n */\r\nexport function sanitizeHTML(input: string, allowTags: boolean = false): string {\r\n    if (typeof input !== 'string') return '';\r\n\r\n    const config = allowTags\r\n        ? {\r\n            ALLOWED_TAGS: ['b', 'i', 'em', 'strong', 'u', 'br', 'p'],\r\n            ALLOWED_ATTR: [],\r\n        }\r\n        : {\r\n            ALLOWED_TAGS: [],\r\n            ALLOWED_ATTR: [],\r\n            KEEP_CONTENT: true,\r\n        };\r\n\r\n    return DOMPurify.sanitize(input, config).trim();\r\n}\r\n\r\n/**\r\n * Sanitiza input para texto puro (remove todas as tags)\r\n */\r\nexport function sanitizeInput(input: string): string {\r\n    return sanitizeHTML(input, false);\r\n}\r\n\r\n/**\r\n * Detecta padr√µes de XSS em uma string\r\n */\r\nexport function detectXSS(input: string): boolean {\r\n    if (typeof input !== 'string') return false;\r\n\r\n    const xssPatterns = [\r\n        /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\r\n        /javascript:/gi,\r\n        /on\\w+\\s*=/gi,\r\n        /<\\s*img[^>]+onerror/gi,\r\n        /<\\s*svg[^>]+onload/gi,\r\n        /expression\\s*\\(/gi,\r\n        /url\\s*\\(\\s*['\"]?\\s*data:/gi,\r\n        /vbscript:/gi,\r\n        /data:\\s*text\\/html/gi,\r\n    ];\r\n\r\n    return xssPatterns.some((pattern) => pattern.test(input));\r\n}\r\n\r\n/**\r\n * Gera token CSRF criptograficamente seguro\r\n */\r\nexport function generateCSRFToken(): string {\r\n    const array = new Uint8Array(32);\r\n    crypto.getRandomValues(array);\r\n    return Array.from(array, (byte) => byte.toString(16).padStart(2, '0')).join('');\r\n}\r\n\r\n/**\r\n * Gera nonce para CSP\r\n */\r\nexport function generateNonce(): string {\r\n    const array = new Uint8Array(16);\r\n    crypto.getRandomValues(array);\r\n    return btoa(String.fromCharCode.apply(null, Array.from(array)));\r\n}\r\n\r\n/**\r\n * Cria campo honeypot para detectar bots\r\n */\r\nexport function createHoneypot(): HoneypotField {\r\n    const fieldNames = ['website', 'url', 'company', 'fax', 'phone2', 'address2'];\r\n    const fieldName = fieldNames[Math.floor(Math.random() * fieldNames.length)];\r\n\r\n    return {\r\n        fieldName,\r\n        validate: (value: string) => !value || value.length === 0,\r\n    };\r\n}\r\n\r\n/**\r\n * Escape HTML entities para prevenir XSS\r\n */\r\nexport function escapeHTML(str: string): string {\r\n    const htmlEntities: Record<string, string> = {\r\n        '&': '&amp;',\r\n        '<': '&lt;',\r\n        '>': '&gt;',\r\n        '\"': '&quot;',\r\n        \"'\": '&#39;',\r\n        '/': '&#x2F;',\r\n        '`': '&#x60;',\r\n        '=': '&#x3D;',\r\n    };\r\n\r\n    return String(str).replace(/[&<>\"'`=\\/]/g, (char) => htmlEntities[char]);\r\n}\r\n\r\n/**\r\n * Valida origem de requisi√ß√£o (CORS)\r\n */\r\nexport function isValidOrigin(origin: string, allowedOrigins: string[]): boolean {\r\n    if (!origin) return false;\r\n    return allowedOrigins.some((allowed) => {\r\n        if (allowed === '*') return true;\r\n        if (allowed.startsWith('*.')) {\r\n            const domain = allowed.slice(2);\r\n            return origin.endsWith(domain);\r\n        }\r\n        return origin === allowed;\r\n    });\r\n}\r\n\r\n/**\r\n * Detecta se requisi√ß√£o parece ser de um bot\r\n */\r\nexport function detectBot(userAgent: string): boolean {\r\n    const botPatterns = [\r\n        /bot/i, /crawl/i, /spider/i, /scrape/i,\r\n        /curl/i, /wget/i, /python/i, /java\\//i,\r\n        /headless/i, /phantom/i, /selenium/i,\r\n    ];\r\n\r\n    return botPatterns.some((pattern) => pattern.test(userAgent));\r\n}\r\n\r\n/**\r\n * Headers de seguran√ßa recomendados\r\n */\r\nexport const securityHeaders = {\r\n    'Content-Security-Policy':\r\n        \"default-src 'self'; \" +\r\n        \"script-src 'self' 'unsafe-inline'; \" +\r\n        \"style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; \" +\r\n        \"font-src 'self' https://fonts.gstatic.com; \" +\r\n        \"img-src 'self' data: https:; \" +\r\n        \"connect-src 'self' https:; \" +\r\n        \"frame-ancestors 'none';\",\r\n    'X-Content-Type-Options': 'nosniff',\r\n    'X-Frame-Options': 'DENY',\r\n    'X-XSS-Protection': '1; mode=block',\r\n    'Referrer-Policy': 'strict-origin-when-cross-origin',\r\n    'Permissions-Policy': 'camera=(), microphone=(), geolocation=()',\r\n    'Cross-Origin-Opener-Policy': 'same-origin',\r\n    'Cross-Origin-Embedder-Policy': 'require-corp',\r\n    'Cross-Origin-Resource-Policy': 'same-origin',\r\n};\r\n\r\n// Rate limiters pr√©-configurados\r\nexport const loginLimiter = new RateLimiter('login', 5, 300000); // 5 tentativas em 5 min\r\nexport const apiLimiter = new RateLimiter('api', 100, 60000);    // 100 requisi√ß√µes por minuto\r\nexport const formLimiter = new RateLimiter('form', 10, 60000);   // 10 submiss√µes por minuto\r\n\r\nexport default {\r\n    RateLimiter,\r\n    sanitizeHTML,\r\n    sanitizeInput,\r\n    detectXSS,\r\n    generateCSRFToken,\r\n    generateNonce,\r\n    createHoneypot,\r\n    escapeHTML,\r\n    isValidOrigin,\r\n    detectBot,\r\n    securityHeaders,\r\n    loginLimiter,\r\n    apiLimiter,\r\n    formLimiter,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\sentry.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":83,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":83,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2435,2438],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2435,2438],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":97,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":97,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2756,2759],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2756,2759],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as Sentry from '@sentry/react';\r\n\r\n/**\r\n * Configura√ß√£o do Sentry para Monitoramento de Erros\r\n * \r\n * Captura erros em produ√ß√£o e envia relat√≥rios detalhados\r\n * incluindo stack traces, contexto do usu√°rio e breadcrumbs\r\n */\r\n\r\nconst isDevelopment = import.meta.env.DEV;\r\nconst sentryDSN = import.meta.env.VITE_SENTRY_DSN;\r\nconst environment = import.meta.env.VITE_SENTRY_ENVIRONMENT || 'production';\r\n\r\nexport function initSentry() {\r\n    // S√≥ inicializar em produ√ß√£o e se DSN estiver configurado\r\n    if (isDevelopment || !sentryDSN) {\r\n        console.log('[Sentry] Desabilitado em desenvolvimento');\r\n        return;\r\n    }\r\n\r\n    Sentry.init({\r\n        dsn: sentryDSN,\r\n        environment,\r\n\r\n        // Taxa de amostragem de traces de performance (10%)\r\n        tracesSampleRate: 0.1,\r\n\r\n        // Taxa de amostragem de replays de sess√£o (10% em erros)\r\n        replaysSessionSampleRate: 0.1,\r\n        replaysOnErrorSampleRate: 1.0,\r\n\r\n        integrations: [\r\n            // Replay de sess√£o para ver o que o usu√°rio fez antes do erro\r\n            Sentry.replayIntegration({\r\n                maskAllText: false,\r\n                blockAllMedia: false,\r\n            }),\r\n\r\n            // Tracking de browser\r\n            Sentry.browserTracingIntegration(),\r\n\r\n            // Feedback do usu√°rio\r\n            Sentry.feedbackIntegration({\r\n                colorScheme: 'light',\r\n                showBranding: false,\r\n            }),\r\n        ],\r\n\r\n        // Ignorar erros conhecidos\r\n        ignoreErrors: [\r\n            // Erros do browser\r\n            'ResizeObserver loop limit exceeded',\r\n            'Non-Error promise rejection captured',\r\n\r\n            // Erros de extens√µes\r\n            'chrome-extension://',\r\n            'moz-extension://',\r\n\r\n            // Erros de rede comuns\r\n            'NetworkError',\r\n            'Failed to fetch',\r\n        ],\r\n\r\n        // Antes de enviar o erro, adicionar contexto adicional\r\n        beforeSend(event) {\r\n            // Adicionar informa√ß√µes personalizadas\r\n            if (event.user) {\r\n                // Remover informa√ß√µes sens√≠veis\r\n                delete event.user.email;\r\n                delete event.user.ip_address;\r\n            }\r\n\r\n            return event;\r\n        },\r\n    });\r\n\r\n    console.log('[Sentry] Inicializado com sucesso');\r\n}\r\n\r\n/**\r\n * Capturar erro manualmente\r\n */\r\nexport function captureError(error: Error, context?: Record<string, any>) {\r\n    if (isDevelopment) {\r\n        console.error('[Sentry Dev]', error, context);\r\n        return;\r\n    }\r\n\r\n    Sentry.captureException(error, {\r\n        extra: context,\r\n    });\r\n}\r\n\r\n/**\r\n * Adicionar breadcrumb (navega√ß√£o do usu√°rio)\r\n */\r\nexport function addBreadcrumb(message: string, data?: Record<string, any>) {\r\n    Sentry.addBreadcrumb({\r\n        message,\r\n        data,\r\n        level: 'info',\r\n    });\r\n}\r\n\r\n/**\r\n * Definir contexto do usu√°rio\r\n */\r\nexport function setUserContext(user: { id: string; email?: string; username?: string }) {\r\n    Sentry.setUser({\r\n        id: user.id,\r\n        username: user.username,\r\n        // Email √© omitido por privacidade\r\n    });\r\n}\r\n\r\n/**\r\n * Limpar contexto do usu√°rio (logout)\r\n */\r\nexport function clearUserContext() {\r\n    Sentry.setUser(null);\r\n}\r\n\r\nexport default Sentry;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\slug.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\userUtils.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\validation.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\validation.ts","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'security/detect-unsafe-regex').","line":50,"column":5,"severity":1,"nodeType":null,"fix":{"range":[1765,1821],"text":" "}},{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'security/detect-unsafe-regex').","line":111,"column":5,"severity":1,"nodeType":null,"fix":{"range":[3555,3611],"text":" "}}],"suppressedMessages":[{"ruleId":"security/detect-unsafe-regex","severity":1,"message":"Unsafe Regular Expression","line":32,"column":11,"nodeType":"Literal","endLine":32,"endColumn":37,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":"/**\r\n * Utilit√°rios de Valida√ß√£o de Seguran√ßa\r\n * \r\n * Validadores para inputs sens√≠veis e preven√ß√£o de ataques\r\n */\r\n\r\n// Regex patterns para valida√ß√£o\r\nconst PATTERNS = {\r\n    // Email RFC 5322 simplificado\r\n    email: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\r\n\r\n    // CPF brasileiro (formato: XXX.XXX.XXX-XX ou apenas n√∫meros)\r\n    cpf: /^(\\d{3}\\.?\\d{3}\\.?\\d{3}-?\\d{2})$/,\r\n\r\n    // CEP brasileiro (formato: XXXXX-XXX ou apenas n√∫meros)\r\n    cep: /^(\\d{5}-?\\d{3})$/,\r\n\r\n    // Telefone brasileiro (com DDD) - Simplificado para evitar ReDoS\r\n    phone: /^(\\+55|55)?\\s?\\(?\\d{2}\\)?\\s?\\d{4,5}[-\\s]?\\d{4}$/,\r\n\r\n    // Cart√£o de cr√©dito (apenas para formato, n√£o valida checksum)\r\n    creditCard: /^\\d{4}[\\s-]?\\d{4}[\\s-]?\\d{4}[\\s-]?\\d{4}$/,\r\n\r\n    // Senha forte: m√≠nimo 8 chars, 1 mai√∫scula, 1 min√∫scula, 1 n√∫mero\r\n    strongPassword: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d@$!%*?&]{8,}$/,\r\n\r\n    // UUID v4\r\n    uuid: /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,\r\n\r\n    // Slug URL-safe (Simplificado para evitar ReDoS e falso positivo)\r\n    // eslint-disable-next-line security/detect-unsafe-regex\r\n    slug: /^[a-z0-9]+(-[a-z0-9]+)*$/,\r\n};\r\n\r\n/**\r\n * Lista de dom√≠nios de email descart√°veis conhecidos\r\n */\r\nconst DISPOSABLE_EMAIL_DOMAINS = new Set([\r\n    'tempmail.com', 'throwaway.email', 'guerrillamail.com', 'mailinator.com',\r\n    '10minutemail.com', 'temp-mail.org', 'fakeinbox.com', 'trashmail.com',\r\n    'yopmail.com', 'getnada.com', 'sharklasers.com', 'grr.la', 'guerrillamailblock.com',\r\n    'pokemail.net', 'spam4.me', 'mohmal.com', 'tempail.com', 'emailondeck.com',\r\n]);\r\n\r\n/**\r\n * Valida formato de email\r\n */\r\nexport function isValidEmail(email: string): boolean {\r\n    if (!email || typeof email !== 'string') return false;\r\n    // eslint-disable-next-line security/detect-unsafe-regex\r\n    return PATTERNS.email.test(email.trim());\r\n}\r\n\r\n/**\r\n * Verifica se email √© de dom√≠nio descart√°vel\r\n */\r\nexport function isDisposableEmail(email: string): boolean {\r\n    if (!isValidEmail(email)) return false;\r\n    const domain = email.split('@')[1]?.toLowerCase();\r\n    return DISPOSABLE_EMAIL_DOMAINS.has(domain);\r\n}\r\n\r\n/**\r\n * Valida CPF brasileiro (com verifica√ß√£o de d√≠gitos)\r\n */\r\nexport function isValidCPF(cpf: string): boolean {\r\n    if (!cpf || typeof cpf !== 'string') return false;\r\n\r\n    // Remove formata√ß√£o\r\n    const cleaned = cpf.replace(/\\D/g, '');\r\n\r\n    // Verifica tamanho\r\n    if (cleaned.length !== 11) return false;\r\n\r\n    // Verifica se todos os d√≠gitos s√£o iguais\r\n    if (/^(\\d)\\1{10}$/.test(cleaned)) return false;\r\n\r\n    // Valida√ß√£o dos d√≠gitos verificadores\r\n    let sum = 0;\r\n    for (let i = 0; i < 9; i++) {\r\n        sum += parseInt(cleaned.charAt(i)) * (10 - i);\r\n    }\r\n    let remainder = (sum * 10) % 11;\r\n    if (remainder === 10 || remainder === 11) remainder = 0;\r\n    if (remainder !== parseInt(cleaned.charAt(9))) return false;\r\n\r\n    sum = 0;\r\n    for (let i = 0; i < 10; i++) {\r\n        sum += parseInt(cleaned.charAt(i)) * (11 - i);\r\n    }\r\n    remainder = (sum * 10) % 11;\r\n    if (remainder === 10 || remainder === 11) remainder = 0;\r\n    if (remainder !== parseInt(cleaned.charAt(10))) return false;\r\n\r\n    return true;\r\n}\r\n\r\n/**\r\n * Valida CEP brasileiro\r\n */\r\nexport function isValidCEP(cep: string): boolean {\r\n    if (!cep || typeof cep !== 'string') return false;\r\n    return PATTERNS.cep.test(cep.trim());\r\n}\r\n\r\n/**\r\n * Valida telefone brasileiro\r\n */\r\nexport function isValidPhone(phone: string): boolean {\r\n    if (!phone || typeof phone !== 'string') return false;\r\n    // eslint-disable-next-line security/detect-unsafe-regex\r\n    return PATTERNS.phone.test(phone.trim());\r\n}\r\n\r\n/**\r\n * Valida for√ßa da senha\r\n */\r\nexport function isStrongPassword(password: string): { valid: boolean; errors: string[] } {\r\n    const errors: string[] = [];\r\n\r\n    if (!password || password.length < 8) {\r\n        errors.push('A senha deve ter no m√≠nimo 8 caracteres');\r\n    }\r\n    if (!/[a-z]/.test(password)) {\r\n        errors.push('A senha deve ter pelo menos uma letra min√∫scula');\r\n    }\r\n    if (!/[A-Z]/.test(password)) {\r\n        errors.push('A senha deve ter pelo menos uma letra mai√∫scula');\r\n    }\r\n    if (!/\\d/.test(password)) {\r\n        errors.push('A senha deve ter pelo menos um n√∫mero');\r\n    }\r\n\r\n    return { valid: errors.length === 0, errors };\r\n}\r\n\r\n/**\r\n * Valida n√∫mero de cart√£o de cr√©dito (Luhn algorithm)\r\n */\r\nexport function isValidCreditCard(cardNumber: string): boolean {\r\n    if (!cardNumber || typeof cardNumber !== 'string') return false;\r\n\r\n    const cleaned = cardNumber.replace(/\\D/g, '');\r\n    if (cleaned.length < 13 || cleaned.length > 19) return false;\r\n\r\n    // Algoritmo de Luhn\r\n    let sum = 0;\r\n    let isEven = false;\r\n\r\n    for (let i = cleaned.length - 1; i >= 0; i--) {\r\n        let digit = parseInt(cleaned.charAt(i));\r\n\r\n        if (isEven) {\r\n            digit *= 2;\r\n            if (digit > 9) digit -= 9;\r\n        }\r\n\r\n        sum += digit;\r\n        isEven = !isEven;\r\n    }\r\n\r\n    return sum % 10 === 0;\r\n}\r\n\r\n/**\r\n * Detecta a bandeira do cart√£o\r\n */\r\nexport function detectCardBrand(cardNumber: string): string | null {\r\n    const cleaned = cardNumber.replace(/\\D/g, '');\r\n\r\n    if (/^4/.test(cleaned)) return 'visa';\r\n    if (/^5[1-5]/.test(cleaned)) return 'mastercard';\r\n    if (/^3[47]/.test(cleaned)) return 'amex';\r\n    if (/^6(?:011|5)/.test(cleaned)) return 'discover';\r\n    if (/^(?:2131|1800|35)/.test(cleaned)) return 'jcb';\r\n    if (/^3(?:0[0-5]|[68])/.test(cleaned)) return 'diners';\r\n    if (/^(636368|438935|504175|451416|636297|5067|4576|4011|506699)/.test(cleaned)) return 'elo';\r\n    if (/^(50|67|58)/.test(cleaned)) return 'maestro';\r\n    if (/^606282/.test(cleaned)) return 'hipercard';\r\n\r\n    return null;\r\n}\r\n\r\n/**\r\n * M√°scara para CPF\r\n */\r\nexport function maskCPF(cpf: string): string {\r\n    const cleaned = cpf.replace(/\\D/g, '');\r\n    return cleaned.replace(/(\\d{3})(\\d{3})(\\d{3})(\\d{2})/, '$1.$2.$3-$4');\r\n}\r\n\r\n/**\r\n * M√°scara para telefone\r\n */\r\nexport function maskPhone(phone: string): string {\r\n    const cleaned = phone.replace(/\\D/g, '');\r\n    if (cleaned.length === 11) {\r\n        return cleaned.replace(/(\\d{2})(\\d{5})(\\d{4})/, '($1) $2-$3');\r\n    }\r\n    return cleaned.replace(/(\\d{2})(\\d{4})(\\d{4})/, '($1) $2-$3');\r\n}\r\n\r\n/**\r\n * M√°scara para CEP\r\n */\r\nexport function maskCEP(cep: string): string {\r\n    const cleaned = cep.replace(/\\D/g, '');\r\n    return cleaned.replace(/(\\d{5})(\\d{3})/, '$1-$2');\r\n}\r\n\r\n/**\r\n * M√°scara para cart√£o de cr√©dito\r\n */\r\nexport function maskCreditCard(card: string): string {\r\n    const cleaned = card.replace(/\\D/g, '');\r\n    return cleaned.replace(/(\\d{4})(\\d{4})(\\d{4})(\\d{4})/, '$1 $2 $3 $4');\r\n}\r\n\r\n/**\r\n * Ofusca dados sens√≠veis para logs\r\n */\r\nexport function obfuscateSensitiveData(data: string, visibleChars: number = 4): string {\r\n    if (!data || data.length <= visibleChars) return '****';\r\n    return '*'.repeat(data.length - visibleChars) + data.slice(-visibleChars);\r\n}\r\n\r\nexport default {\r\n    isValidEmail,\r\n    isDisposableEmail,\r\n    isValidCPF,\r\n    isValidCEP,\r\n    isValidPhone,\r\n    isStrongPassword,\r\n    isValidCreditCard,\r\n    detectCardBrand,\r\n    maskCPF,\r\n    maskPhone,\r\n    maskCEP,\r\n    maskCreditCard,\r\n    obfuscateSensitiveData,\r\n};\r\n\r\n// ============================================================\r\n// ZOD SCHEMAS E FUN√á√ïES DE VALIDA√á√ÉO (para compatibilidade)\r\n// ============================================================\r\n\r\nimport { z } from 'zod';\r\nimport DOMPurify from 'dompurify';\r\n\r\n// Schema de endere√ßo para checkout\r\nexport const addressSchema = z.object({\r\n    name: z.string().min(3, 'errors.nameMin').max(100),\r\n    document: z.string().min(11, 'errors.documentInvalid').max(18),\r\n    phone: z.string().min(10, 'errors.phoneInvalid').max(15),\r\n    cep: z.string().length(8, 'errors.cepInvalid'),\r\n    street: z.string().min(3, 'errors.streetMin').max(200),\r\n    number: z.string().min(1, 'errors.numberRequired').max(20),\r\n    complement: z.string().max(100).optional(),\r\n    neighborhood: z.string().min(2, 'errors.neighborhoodMin').max(100),\r\n    city: z.string().min(2, 'errors.cityMin').max(100),\r\n    state: z.string().length(2, 'errors.stateInvalid'),\r\n});\r\n\r\n// Schema de newsletter\r\nexport const newsletterSchema = z.object({\r\n    email: z.string().email('errors.emailInvalid'),\r\n    consent: z.literal(true, { errorMap: () => ({ message: 'errors.consentRequired' }) }),\r\n});\r\n\r\n// Schema de login\r\nexport const loginSchema = z.object({\r\n    email: z.string().email('errors.emailInvalid'),\r\n    password: z.string().min(6, 'errors.passwordMin'),\r\n});\r\n\r\n// Schema de registro\r\nexport const registerSchema = z.object({\r\n    name: z.string().min(3, 'errors.nameMin'),\r\n    email: z.string().email('errors.emailInvalid'),\r\n    password: z.string().min(8, 'errors.passwordMin'),\r\n    confirmPassword: z.string(),\r\n    terms: z.literal(true),\r\n}).refine(data => data.password === data.confirmPassword, {\r\n    message: 'errors.passwordMatch',\r\n    path: ['confirmPassword'],\r\n});\r\n\r\n/**\r\n * Valida dados com schema Zod\r\n */\r\nexport function validateForm<T extends z.ZodSchema>(\r\n    schema: T,\r\n    data: unknown\r\n): { success: true; data: z.infer<T> } | { success: false; errors: Record<string, string | undefined> } {\r\n    const result = schema.safeParse(data);\r\n\r\n    if (result.success) {\r\n        return { success: true, data: result.data };\r\n    }\r\n\r\n    const errors: Record<string, string | undefined> = {};\r\n    result.error.errors.forEach(err => {\r\n        const path = err.path.join('.');\r\n        errors[path] = err.message;\r\n    });\r\n\r\n    return { success: false, errors };\r\n}\r\n\r\n/**\r\n * Formata CEP\r\n */\r\nexport function formatCEP(value: string): string {\r\n    const cleaned = value.replace(/\\D/g, '').slice(0, 8);\r\n    if (cleaned.length > 5) {\r\n        return `${cleaned.slice(0, 5)}-${cleaned.slice(5)}`;\r\n    }\r\n    return cleaned;\r\n}\r\n\r\n/**\r\n * Formata telefone\r\n */\r\nexport function formatPhone(value: string): string {\r\n    const cleaned = value.replace(/\\D/g, '').slice(0, 11);\r\n    if (cleaned.length > 10) {\r\n        return cleaned.replace(/(\\d{2})(\\d{5})(\\d{4})/, '($1) $2-$3');\r\n    } else if (cleaned.length > 6) {\r\n        return cleaned.replace(/(\\d{2})(\\d{4})(\\d{0,4})/, '($1) $2-$3');\r\n    } else if (cleaned.length > 2) {\r\n        return cleaned.replace(/(\\d{2})(\\d{0,5})/, '($1) $2');\r\n    }\r\n    return cleaned;\r\n}\r\n\r\n/**\r\n * Formata CPF/CNPJ\r\n */\r\nexport function formatDocument(value: string): string {\r\n    const cleaned = value.replace(/\\D/g, '');\r\n\r\n    if (cleaned.length <= 11) {\r\n        // CPF: XXX.XXX.XXX-XX\r\n        return cleaned\r\n            .replace(/(\\d{3})(\\d)/, '$1.$2')\r\n            .replace(/(\\d{3})(\\d)/, '$1.$2')\r\n            .replace(/(\\d{3})(\\d{1,2})/, '$1-$2')\r\n            .slice(0, 14);\r\n    } else {\r\n        // CNPJ: XX.XXX.XXX/XXXX-XX\r\n        return cleaned\r\n            .replace(/(\\d{2})(\\d)/, '$1.$2')\r\n            .replace(/(\\d{3})(\\d)/, '$1/$2')\r\n            .replace(/(\\d{4})(\\d{1,2})/, '$1-$2')\r\n            .slice(0, 18);\r\n    }\r\n}\r\n\r\n/**\r\n * Sanitiza string removendo HTML\r\n */\r\nexport function sanitizeString(value: string): string {\r\n    if (typeof value !== 'string') return '';\r\n    return DOMPurify.sanitize(value, { ALLOWED_TAGS: [], ALLOWED_ATTR: [] }).trim();\r\n}\r\n\r\n// Schema de pagamento\r\nexport const paymentSchema = z.object({\r\n    cardNumber: z.string().min(13, 'errors.cardInvalid').max(19).refine(isValidCreditCard, 'errors.cardInvalid'),\r\n    cardName: z.string().min(3, 'errors.nameMin'),\r\n    expiry: z.string().length(5, 'errors.expiryInvalid').refine((val) => {\r\n        const [month, year] = val.split('/').map(Number);\r\n        if (!month || !year || month < 1 || month > 12) return false;\r\n\r\n        const now = new Date();\r\n        const currentYear = parseInt(now.getFullYear().toString().slice(-2));\r\n        const currentMonth = now.getMonth() + 1;\r\n\r\n        if (year < currentYear) return false;\r\n        if (year === currentYear && month < currentMonth) return false;\r\n\r\n        return true;\r\n    }, 'errors.expiryInvalid'),\r\n    cvv: z.string().min(3, 'errors.cvvInvalid').max(4),\r\n});\r\n\r\n/**\r\n * Formata n√∫mero do cart√£o\r\n */\r\nexport function formatCardNumber(value: string): string {\r\n    const cleaned = value.replace(/\\D/g, '');\r\n    return cleaned.replace(/(\\d{4})/g, '$1 ').trim();\r\n}\r\n\r\n\r\n// refine usa a fun√ß√£o local isValidCreditCard j√° definida neste arquivo\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\utils\\webVitals.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\src\\vite-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\tailwind.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\tests\\e2e\\auth-flow.spec.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'nameInput' is assigned a value but never used.","line":123,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":123,"endColumn":32},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'termsCheckbox' is assigned a value but never used.","line":147,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":147,"endColumn":36}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { test, expect } from '@playwright/test';\r\n\r\n/**\r\n * Testes E2E de Autentica√ß√£o\r\n * \r\n * Valida fluxos de login, registro, logout e recupera√ß√£o de senha\r\n */\r\n\r\ntest.describe('Fluxo de Login', () => {\r\n    test.beforeEach(async ({ page }) => {\r\n        await page.goto('/');\r\n        await expect(page).toHaveTitle(/Ly Vest/i);\r\n    });\r\n\r\n    test('deve abrir modal de login', async ({ page }) => {\r\n        // Clicar no bot√£o de login/usu√°rio\r\n        const loginButton = page.locator('[data-testid=\"login-button\"], button:has-text(\"Entrar\"), a:has-text(\"Entrar\")').first();\r\n\r\n        if (await loginButton.isVisible()) {\r\n            await loginButton.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            // Verificar que o modal de login abriu\r\n            const loginModal = page.locator('text=/login|entrar|acesse.*conta|acessar/i');\r\n            await expect(loginModal.first()).toBeVisible();\r\n        }\r\n    });\r\n\r\n    test('deve mostrar campos de email e senha', async ({ page }) => {\r\n        const loginButton = page.locator('[data-testid=\"login-button\"], button:has-text(\"Entrar\")').first();\r\n\r\n        if (await loginButton.isVisible()) {\r\n            await loginButton.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            // Verificar campos\r\n            const emailInput = page.locator('input[type=\"email\"], input[placeholder*=\"email\" i]');\r\n            const passwordInput = page.locator('input[type=\"password\"]');\r\n\r\n            await expect(emailInput.first()).toBeVisible();\r\n            await expect(passwordInput.first()).toBeVisible();\r\n        }\r\n    });\r\n\r\n    test('deve mostrar erro com credenciais inv√°lidas', async ({ page }) => {\r\n        const loginButton = page.locator('[data-testid=\"login-button\"], button:has-text(\"Entrar\")').first();\r\n\r\n        if (await loginButton.isVisible()) {\r\n            await loginButton.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            // Preencher com dados inv√°lidos\r\n            const emailInput = page.locator('input[type=\"email\"]').first();\r\n            const passwordInput = page.locator('input[type=\"password\"]').first();\r\n            const submitButton = page.locator('button[type=\"submit\"], button:has-text(\"Login\"), button:has-text(\"Entrar\")').first();\r\n\r\n            if (await emailInput.isVisible()) {\r\n                await emailInput.fill('invalido@email.com');\r\n                await passwordInput.fill('senhaerrada123');\r\n                await submitButton.click();\r\n\r\n                await page.waitForTimeout(1000);\r\n\r\n                // Verificar mensagem de erro (pode n√£o aparecer em modo demo)\r\n            }\r\n        }\r\n    });\r\n\r\n    test('deve ter op√ß√£o de login com Google', async ({ page }) => {\r\n        const loginButton = page.locator('[data-testid=\"login-button\"], button:has-text(\"Entrar\")').first();\r\n\r\n        if (await loginButton.isVisible()) {\r\n            await loginButton.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            // Verificar bot√£o de Google\r\n            const googleButton = page.locator('button:has-text(\"Google\"), button[aria-label*=\"Google\"]');\r\n            await expect(googleButton.first()).toBeVisible();\r\n        }\r\n    });\r\n});\r\n\r\ntest.describe('Fluxo de Registro', () => {\r\n    test.beforeEach(async ({ page }) => {\r\n        await page.goto('/');\r\n    });\r\n\r\n    test('deve abrir modal de registro', async ({ page }) => {\r\n        // Primeiro abrir login\r\n        const loginButton = page.locator('[data-testid=\"login-button\"], button:has-text(\"Entrar\")').first();\r\n\r\n        if (await loginButton.isVisible()) {\r\n            await loginButton.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            // Clicar em \"Cadastrar\" ou \"Criar conta\"\r\n            const registerLink = page.locator('button:has-text(\"Cadastr\"), a:has-text(\"Cadastr\"), text=/criar.*conta|novo.*cadastro/i').first();\r\n\r\n            if (await registerLink.isVisible()) {\r\n                await registerLink.click();\r\n                await page.waitForTimeout(500);\r\n\r\n                // Verificar que o formul√°rio de registro est√° vis√≠vel\r\n                const registerForm = page.locator('text=/cadastr|criar.*conta|registr/i');\r\n                await expect(registerForm.first()).toBeVisible();\r\n            }\r\n        }\r\n    });\r\n\r\n    test('deve ter campos obrigat√≥rios de registro', async ({ page }) => {\r\n        const loginButton = page.locator('[data-testid=\"login-button\"], button:has-text(\"Entrar\")').first();\r\n\r\n        if (await loginButton.isVisible()) {\r\n            await loginButton.click();\r\n            await page.waitForTimeout(300);\r\n\r\n            const registerLink = page.locator('button:has-text(\"Cadastr\")').first();\r\n            if (await registerLink.isVisible()) {\r\n                await registerLink.click();\r\n                await page.waitForTimeout(500);\r\n\r\n                // Verificar campos presentes\r\n                const nameInput = page.locator('input[placeholder*=\"nome\" i], input[name=\"nome\"]');\r\n                const emailInput = page.locator('input[type=\"email\"]');\r\n                const passwordInput = page.locator('input[type=\"password\"]');\r\n\r\n                // Pelo menos email e senha devem estar presentes\r\n                await expect(emailInput.first()).toBeVisible();\r\n                await expect(passwordInput.first()).toBeVisible();\r\n            }\r\n        }\r\n    });\r\n\r\n    test('deve ter checkbox de termos de uso', async ({ page }) => {\r\n        const loginButton = page.locator('[data-testid=\"login-button\"], button:has-text(\"Entrar\")').first();\r\n\r\n        if (await loginButton.isVisible()) {\r\n            await loginButton.click();\r\n            await page.waitForTimeout(300);\r\n\r\n            const registerLink = page.locator('button:has-text(\"Cadastr\")').first();\r\n            if (await registerLink.isVisible()) {\r\n                await registerLink.click();\r\n                await page.waitForTimeout(500);\r\n\r\n                // Verificar checkbox de termos\r\n                const termsCheckbox = page.locator('input[type=\"checkbox\"]');\r\n                const termsText = page.locator('text=/termos|privacidade|aceito/i');\r\n\r\n                // Deve haver men√ß√£o a termos\r\n                await expect(termsText.first()).toBeVisible();\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\ntest.describe('Recupera√ß√£o de Senha', () => {\r\n    test('deve ter link para recuperar senha', async ({ page }) => {\r\n        await page.goto('/');\r\n\r\n        const loginButton = page.locator('[data-testid=\"login-button\"], button:has-text(\"Entrar\")').first();\r\n\r\n        if (await loginButton.isVisible()) {\r\n            await loginButton.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            // Procurar link de \"Esqueci senha\"\r\n            const forgotLink = page.locator('button:has-text(\"Esquec\"), a:has-text(\"Esquec\"), text=/esqueci.*senha/i').first();\r\n            await expect(forgotLink).toBeVisible();\r\n        }\r\n    });\r\n\r\n    test('deve abrir formul√°rio de recupera√ß√£o', async ({ page }) => {\r\n        await page.goto('/');\r\n\r\n        const loginButton = page.locator('[data-testid=\"login-button\"], button:has-text(\"Entrar\")').first();\r\n\r\n        if (await loginButton.isVisible()) {\r\n            await loginButton.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            const forgotLink = page.locator('button:has-text(\"Esquec\")').first();\r\n            if (await forgotLink.isVisible()) {\r\n                await forgotLink.click();\r\n                await page.waitForTimeout(500);\r\n\r\n                // Verificar formul√°rio de recupera√ß√£o\r\n                const recoveryForm = page.locator('text=/recuperar|redefinir|enviar.*email/i');\r\n                await expect(recoveryForm.first()).toBeVisible();\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\ntest.describe('Logout', () => {\r\n    test('deve redirecionar para home ap√≥s logout', async ({ page }) => {\r\n        // Tentar acessar dashboard\r\n        await page.goto('/dashboard');\r\n        await page.waitForTimeout(1000);\r\n\r\n        // Se estiver logado, procurar bot√£o de logout\r\n        const logoutButton = page.locator('button:has-text(\"Sair\"), button:has-text(\"Logout\")').first();\r\n\r\n        if (await logoutButton.isVisible()) {\r\n            await logoutButton.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            // Deve redirecionar para home ou mostrar tela de login\r\n            const currentUrl = page.url();\r\n            expect(\r\n                currentUrl.includes('/') ||\r\n                currentUrl.includes('/login')\r\n            ).toBeTruthy();\r\n        }\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\tests\\e2e\\cart-operations.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\tests\\e2e\\checkout-flow.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\tests\\e2e\\dashboard.spec.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'avatar' is assigned a value but never used.","line":49,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":49,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userName' is assigned a value but never used.","line":50,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":50,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ruaInput' is assigned a value but never used.","line":132,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":132,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { test, expect } from '@playwright/test';\r\n\r\n/**\r\n * Testes E2E do Dashboard do Usu√°rio\r\n * \r\n * Valida funcionalidades de perfil, endere√ßos e pedidos\r\n */\r\n\r\ntest.describe('Acesso ao Dashboard', () => {\r\n    test('deve redirecionar usu√°rio n√£o autenticado', async ({ page }) => {\r\n        // Tentar acessar dashboard sem estar logado\r\n        await page.goto('/dashboard');\r\n        await page.waitForTimeout(1000);\r\n\r\n        // Deve redirecionar para home ou mostrar modal de login\r\n        const currentUrl = page.url();\r\n        expect(\r\n            currentUrl.includes('/') ||\r\n            currentUrl.includes('/login') ||\r\n            currentUrl.includes('/dashboard')\r\n        ).toBeTruthy();\r\n    });\r\n\r\n    test('dashboard deve ter navega√ß√£o de se√ß√µes', async ({ page }) => {\r\n        await page.goto('/dashboard');\r\n        await page.waitForTimeout(1000);\r\n\r\n        // Verificar se h√° menu lateral ou abas\r\n        const navItems = page.locator('nav a, nav button, [role=\"tablist\"] button');\r\n        const count = await navItems.count();\r\n\r\n        // Deve haver m√∫ltiplas op√ß√µes de navega√ß√£o\r\n        expect(count).toBeGreaterThanOrEqual(0);\r\n    });\r\n});\r\n\r\ntest.describe('Se√ß√£o de Perfil', () => {\r\n    test.beforeEach(async ({ page }) => {\r\n        await page.goto('/dashboard');\r\n        await page.waitForTimeout(1000);\r\n    });\r\n\r\n    test('deve mostrar informa√ß√µes do usu√°rio', async ({ page }) => {\r\n        // Procurar se√ß√£o de perfil\r\n        const profileSection = page.locator('text=/perfil|minha.*conta|dados.*pessoais/i');\r\n\r\n        if (await profileSection.first().isVisible()) {\r\n            // Verificar elementos do perfil\r\n            const avatar = page.locator('img[alt*=\"avatar\" i], img[alt*=\"foto\" i], [data-testid=\"user-avatar\"]');\r\n            const userName = page.locator('text=/nome|usu√°rio/i');\r\n\r\n            // Pode haver avatar ou nome vis√≠vel\r\n        }\r\n    });\r\n\r\n    test('deve ter op√ß√£o de editar perfil', async ({ page }) => {\r\n        const editButton = page.locator('button:has-text(\"Editar\"), button[aria-label*=\"editar\" i]').first();\r\n\r\n        // Se existe bot√£o de editar\r\n        if (await editButton.isVisible()) {\r\n            await editButton.click();\r\n            await page.waitForTimeout(300);\r\n\r\n            // Campos de edi√ß√£o devem aparecer\r\n            const inputFields = page.locator('input');\r\n            const count = await inputFields.count();\r\n            expect(count).toBeGreaterThan(0);\r\n        }\r\n    });\r\n});\r\n\r\ntest.describe('Se√ß√£o de Endere√ßos', () => {\r\n    test.beforeEach(async ({ page }) => {\r\n        await page.goto('/dashboard');\r\n        await page.waitForTimeout(1000);\r\n    });\r\n\r\n    test('deve acessar se√ß√£o de endere√ßos', async ({ page }) => {\r\n        const addressTab = page.locator('button:has-text(\"Endere√ßo\"), a:has-text(\"Endere√ßo\"), nav button:has-text(\"Endere√ßo\")').first();\r\n\r\n        if (await addressTab.isVisible()) {\r\n            await addressTab.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            // Verificar que a se√ß√£o de endere√ßos est√° vis√≠vel\r\n            const addressSection = page.locator('text=/meus.*endere√ßos|endere√ßo/i');\r\n            await expect(addressSection.first()).toBeVisible();\r\n        }\r\n    });\r\n\r\n    test('deve ter op√ß√£o de adicionar novo endere√ßo', async ({ page }) => {\r\n        const addressTab = page.locator('button:has-text(\"Endere√ßo\")').first();\r\n\r\n        if (await addressTab.isVisible()) {\r\n            await addressTab.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            const addButton = page.locator('button:has-text(\"Adicionar\"), button:has-text(\"Novo endere√ßo\")').first();\r\n\r\n            if (await addButton.isVisible()) {\r\n                await addButton.click();\r\n                await page.waitForTimeout(300);\r\n\r\n                // Formul√°rio de endere√ßo deve aparecer\r\n                const cepInput = page.locator('input[name=\"cep\"], input[placeholder*=\"cep\" i]');\r\n                await expect(cepInput.first()).toBeVisible();\r\n            }\r\n        }\r\n    });\r\n\r\n    test('deve validar CEP', async ({ page }) => {\r\n        const addressTab = page.locator('button:has-text(\"Endere√ßo\")').first();\r\n\r\n        if (await addressTab.isVisible()) {\r\n            await addressTab.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            const addButton = page.locator('button:has-text(\"Adicionar\")').first();\r\n\r\n            if (await addButton.isVisible()) {\r\n                await addButton.click();\r\n                await page.waitForTimeout(300);\r\n\r\n                const cepInput = page.locator('input[name=\"cep\"]').first();\r\n\r\n                if (await cepInput.isVisible()) {\r\n                    // Preencher CEP v√°lido\r\n                    await cepInput.fill('01310-100');\r\n                    await page.waitForTimeout(1000);\r\n\r\n                    // Campos devem ser preenchidos automaticamente\r\n                    const ruaInput = page.locator('input[name=\"rua\"], input[name=\"logradouro\"]');\r\n                    // Se auto-preenchimento funcionar, o campo ter√° valor\r\n                }\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\ntest.describe('Se√ß√£o de Pedidos', () => {\r\n    test.beforeEach(async ({ page }) => {\r\n        await page.goto('/dashboard');\r\n        await page.waitForTimeout(1000);\r\n    });\r\n\r\n    test('deve acessar se√ß√£o de pedidos', async ({ page }) => {\r\n        const ordersTab = page.locator('button:has-text(\"Pedidos\"), a:has-text(\"Pedidos\"), nav button:has-text(\"Pedidos\")').first();\r\n\r\n        if (await ordersTab.isVisible()) {\r\n            await ordersTab.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            // Verificar se√ß√£o de pedidos\r\n            const ordersSection = page.locator('text=/meus.*pedidos|hist√≥rico/i');\r\n            await expect(ordersSection.first()).toBeVisible();\r\n        }\r\n    });\r\n\r\n    test('deve mostrar lista de pedidos ou mensagem vazia', async ({ page }) => {\r\n        const ordersTab = page.locator('button:has-text(\"Pedidos\")').first();\r\n\r\n        if (await ordersTab.isVisible()) {\r\n            await ordersTab.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            // Deve ter lista de pedidos OU mensagem de nenhum pedido\r\n            const orderCards = page.locator('[data-testid=\"order-card\"], [class*=\"order\"]');\r\n            const emptyMessage = page.locator('text=/nenhum.*pedido|sem.*pedido|ainda.*fez/i');\r\n\r\n            const hasOrders = await orderCards.count() > 0;\r\n            const hasEmptyMessage = await emptyMessage.first().isVisible().catch(() => false);\r\n\r\n            // Uma das duas condi√ß√µes deve ser verdadeira\r\n            expect(hasOrders || hasEmptyMessage).toBeTruthy();\r\n        }\r\n    });\r\n\r\n    test('deve expandir detalhes do pedido', async ({ page }) => {\r\n        const ordersTab = page.locator('button:has-text(\"Pedidos\")').first();\r\n\r\n        if (await ordersTab.isVisible()) {\r\n            await ordersTab.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            const orderCard = page.locator('[data-testid=\"order-card\"]').first();\r\n\r\n            if (await orderCard.isVisible()) {\r\n                await orderCard.click();\r\n                await page.waitForTimeout(300);\r\n\r\n                // Detalhes do pedido devem ser exibidos\r\n                const orderDetails = page.locator('text=/itens|produtos|total|status/i');\r\n                await expect(orderDetails.first()).toBeVisible();\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\ntest.describe('Se√ß√£o de Configura√ß√µes', () => {\r\n    test.beforeEach(async ({ page }) => {\r\n        await page.goto('/dashboard');\r\n        await page.waitForTimeout(1000);\r\n    });\r\n\r\n    test('deve acessar se√ß√£o de configura√ß√µes', async ({ page }) => {\r\n        const settingsTab = page.locator('button:has-text(\"Configura\"), a:has-text(\"Configura\")').first();\r\n\r\n        if (await settingsTab.isVisible()) {\r\n            await settingsTab.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            // Verificar se√ß√£o de configura√ß√µes\r\n            const settingsSection = page.locator('text=/configura√ß√µes|prefer√™ncias/i');\r\n            await expect(settingsSection.first()).toBeVisible();\r\n        }\r\n    });\r\n\r\n    test('deve ter op√ß√£o de alterar senha', async ({ page }) => {\r\n        const settingsTab = page.locator('button:has-text(\"Configura\")').first();\r\n\r\n        if (await settingsTab.isVisible()) {\r\n            await settingsTab.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            const passwordSection = page.locator('text=/alterar.*senha|nova.*senha|senha/i');\r\n            await expect(passwordSection.first()).toBeVisible();\r\n        }\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\tests\\e2e\\favorites.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\tests\\e2e\\navigation.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\tests\\e2e\\search-filter.spec.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'noResults' is assigned a value but never used.","line":43,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":43,"endColumn":28},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isActive' is assigned a value but never used.","line":131,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":131,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { test, expect } from '@playwright/test';\r\n\r\n/**\r\n * Testes E2E de Busca e Filtros\r\n * \r\n * Valida funcionalidades de busca por nome, filtros de categoria e ordena√ß√£o\r\n */\r\n\r\ntest.describe('Busca de Produtos', () => {\r\n    test.beforeEach(async ({ page }) => {\r\n        await page.goto('/');\r\n        await expect(page).toHaveTitle(/Ly Vest/i);\r\n    });\r\n\r\n    test('deve buscar produtos por nome', async ({ page }) => {\r\n        // Encontrar campo de busca\r\n        const searchInput = page.locator('input[type=\"search\"], input[placeholder*=\"buscar\" i], input[placeholder*=\"pesquis\" i]');\r\n\r\n        if (await searchInput.isVisible()) {\r\n            await searchInput.fill('calcinha');\r\n            await searchInput.press('Enter');\r\n\r\n            await page.waitForTimeout(500);\r\n\r\n            // Verificar que h√° resultados\r\n            const results = page.locator('[data-testid=\"product-card\"]');\r\n            const count = await results.count();\r\n            expect(count).toBeGreaterThan(0);\r\n        }\r\n    });\r\n\r\n    test('deve mostrar mensagem quando n√£o encontrar resultados', async ({ page }) => {\r\n        const searchInput = page.locator('input[type=\"search\"], input[placeholder*=\"buscar\" i]');\r\n\r\n        if (await searchInput.isVisible()) {\r\n            // Buscar por termo inexistente\r\n            await searchInput.fill('xyzabc123inexistente');\r\n            await searchInput.press('Enter');\r\n\r\n            await page.waitForTimeout(500);\r\n\r\n            // Verificar mensagem de \"nenhum resultado\"\r\n            const noResults = page.locator('text=/nenhum.*resultado|n√£o.*encontr|sem.*resultado/i');\r\n            // Pode n√£o existir se a busca sempre retorna algo\r\n        }\r\n    });\r\n\r\n    test('deve limpar busca e mostrar todos os produtos', async ({ page }) => {\r\n        const searchInput = page.locator('input[type=\"search\"], input[placeholder*=\"buscar\" i]');\r\n\r\n        if (await searchInput.isVisible()) {\r\n            // Fazer uma busca\r\n            await searchInput.fill('suti√£');\r\n            await searchInput.press('Enter');\r\n            await page.waitForTimeout(300);\r\n\r\n            // Limpar busca\r\n            await searchInput.clear();\r\n            await searchInput.press('Enter');\r\n            await page.waitForTimeout(300);\r\n\r\n            // Verificar que todos os produtos voltaram\r\n            const products = page.locator('[data-testid=\"product-card\"]');\r\n            const count = await products.count();\r\n            expect(count).toBeGreaterThan(0);\r\n        }\r\n    });\r\n});\r\n\r\ntest.describe('Filtros de Categoria', () => {\r\n    test.beforeEach(async ({ page }) => {\r\n        await page.goto('/');\r\n    });\r\n\r\n    test('deve filtrar por categoria Calcinhas', async ({ page }) => {\r\n        // Clicar no filtro de categoria\r\n        const categoryFilter = page.locator('button:has-text(\"Calcinhas\"), a:has-text(\"Calcinhas\")').first();\r\n\r\n        if (await categoryFilter.isVisible()) {\r\n            await categoryFilter.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            // Verificar que h√° produtos filtrados\r\n            const products = page.locator('[data-testid=\"product-card\"]');\r\n            const count = await products.count();\r\n            expect(count).toBeGreaterThan(0);\r\n        }\r\n    });\r\n\r\n    test('deve filtrar por categoria Suti√£s', async ({ page }) => {\r\n        const categoryFilter = page.locator('button:has-text(\"Suti√£s\"), a:has-text(\"Suti√£s\")').first();\r\n\r\n        if (await categoryFilter.isVisible()) {\r\n            await categoryFilter.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            const products = page.locator('[data-testid=\"product-card\"]');\r\n            const count = await products.count();\r\n            expect(count).toBeGreaterThanOrEqual(0);\r\n        }\r\n    });\r\n\r\n    test('deve mostrar todos os produtos ao clicar em \"Todos\"', async ({ page }) => {\r\n        // Primeiro filtrar por uma categoria\r\n        const categoryFilter = page.locator('button:has-text(\"Calcinhas\")').first();\r\n        if (await categoryFilter.isVisible()) {\r\n            await categoryFilter.click();\r\n            await page.waitForTimeout(300);\r\n        }\r\n\r\n        // Clicar em \"Todos\" ou \"In√≠cio\"\r\n        const allFilter = page.locator('button:has-text(\"Todos\"), button:has-text(\"In√≠cio\"), a:has-text(\"In√≠cio\")').first();\r\n        if (await allFilter.isVisible()) {\r\n            await allFilter.click();\r\n            await page.waitForTimeout(500);\r\n\r\n            const products = page.locator('[data-testid=\"product-card\"]');\r\n            const count = await products.count();\r\n            expect(count).toBeGreaterThan(0);\r\n        }\r\n    });\r\n\r\n    test('filtros visuais devem indicar categoria selecionada', async ({ page }) => {\r\n        const categoryFilter = page.locator('button:has-text(\"Calcinhas\")').first();\r\n\r\n        if (await categoryFilter.isVisible()) {\r\n            await categoryFilter.click();\r\n            await page.waitForTimeout(300);\r\n\r\n            // Verificar que o bot√£o tem estado ativo (classe diferente, cor, etc)\r\n            const isActive = await categoryFilter.evaluate(el => {\r\n                const classes = el.className;\r\n                return classes.includes('active') || classes.includes('selected') || classes.includes('bg-pink');\r\n            });\r\n            // Pode variar conforme implementa√ß√£o\r\n        }\r\n    });\r\n});\r\n\r\ntest.describe('Ordena√ß√£o de Produtos', () => {\r\n    test.beforeEach(async ({ page }) => {\r\n        await page.goto('/');\r\n    });\r\n\r\n    test('deve ordenar produtos por pre√ßo (menor para maior)', async ({ page }) => {\r\n        const sortSelect = page.locator('select, [data-testid=\"sort-select\"]');\r\n\r\n        if (await sortSelect.isVisible()) {\r\n            await sortSelect.selectOption({ label: /menor.*pre√ßo|pre√ßo.*menor/i });\r\n            await page.waitForTimeout(500);\r\n\r\n            // Produtos devem estar ordenados\r\n            const products = page.locator('[data-testid=\"product-card\"]');\r\n            const count = await products.count();\r\n            expect(count).toBeGreaterThan(0);\r\n        }\r\n    });\r\n\r\n    test('deve ordenar produtos por pre√ßo (maior para menor)', async ({ page }) => {\r\n        const sortSelect = page.locator('select, [data-testid=\"sort-select\"]');\r\n\r\n        if (await sortSelect.isVisible()) {\r\n            await sortSelect.selectOption({ label: /maior.*pre√ßo|pre√ßo.*maior/i });\r\n            await page.waitForTimeout(500);\r\n\r\n            const products = page.locator('[data-testid=\"product-card\"]');\r\n            const count = await products.count();\r\n            expect(count).toBeGreaterThan(0);\r\n        }\r\n    });\r\n\r\n    test('deve ordenar por mais vendidos', async ({ page }) => {\r\n        const sortSelect = page.locator('select, [data-testid=\"sort-select\"]');\r\n\r\n        if (await sortSelect.isVisible()) {\r\n            await sortSelect.selectOption({ label: /mais.*vendido|popular/i });\r\n            await page.waitForTimeout(500);\r\n        }\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\amada\\OneDrive\\√Årea de Trabalho\\Ecommerce Ly Vest\\vitest.setup.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]